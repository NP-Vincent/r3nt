<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>r3nt by SQMU — Rent with USDC</title>
  <meta name="description" content="r3nt is a lightweight Farcaster Mini App for renting with USDC. Simple listings for landlords, straightforward bookings for tenants. Built by SQMU, the platform for tokenised real estate." />

  <!-- Farcaster Mini App button (optional on web previews) -->
  <meta name="fc:miniapp" content='{
    "version":"1",
    "imageUrl":"https://r3nt.sqmu.net/assets/icon.png",
    "button":{
      "title":"Open r3nt",
      "action":{
        "type":"launch_miniapp",
        "name":"r3nt",
        "url":"https://r3nt.sqmu.net/index.html",
        "splashImageUrl":"https://r3nt.sqmu.net/assets/splashscreen.png",
        "splashBackgroundColor":"#FFFFFF"
      }
    }
  }' />
  <link rel="stylesheet" href="./styles/theme.css" />
  <script src="./js/dev-settings.js"></script>
  <script src="./js/dev-error-console.js"></script>
</head>
<body class="page-home">
  <div class="wrap">
    <header>
      <div class="brand">r3nt by SQMU</div>
    </header>

    <div class="muted beta-note">early beta.</div>

    <nav>
      <button type="button" class="back-button" data-back-button hidden aria-label="Go back">
        <span aria-hidden="true">←</span>
        Back
      </button>
      <a href="./index.html">Home</a>
      <a href="./tenant.html">Tenant</a>
      <a href="./landlord.html">Landlord</a>
      <a href="./investor.html">Investor</a>
      <a href="./agent.html">Agent</a>
      <a href="./admin.html">Admin</a>
      <span class="version-badge" data-version></span>
    </nav>

    <div class="hero">
      <div>
        <h1>Simple. Stable. On-chain. Tokenised.</h1>
        <p class="lead">
          r3nt is a lightweight interface for tenants and landlords to transact in USDC with minimal friction. Listings are posted from Farcaster Casts; bookings and payments stay on-chain.
        </p>
        <div class="cta-row">
          <a class="btn primary" href="./tenant.html">I’m a Tenant</a>
          <a class="btn secondary" href="./landlord.html">I’m a Landlord</a>
          <a class="btn outline" href="./investor.html">I’m an Investor</a>
          <a class="btn outline" href="./agent.html">I’m an Agent</a>
        </div>
      </div>
      <div class="card">
        <strong>At a glance</strong>
        <ul class="muted" style="margin:8px 0 0; padding-left:18px">
          <li>Pay and settle in USDC</li>
          <li>Listings linked to Casts</li>
          <li>Works inside Farcaster</li>
        </ul>
      </div>
    </div>

    <section class="role-onboarding">
      <h2>Start with your role</h2>
      <div class="muted">Pick the role that matches how you use r3nt. Actions and links adjust automatically.</div>
      <div class="role-selector" role="tablist" aria-label="Role onboarding">
        <button type="button" class="role-tab" data-role-button="tenant" aria-selected="true">Tenant</button>
        <button type="button" class="role-tab" data-role-button="landlord">Landlord</button>
        <button type="button" class="role-tab" data-role-button="agent">Agent</button>
        <button type="button" class="role-tab" data-role-button="investor">Investor</button>
      </div>
      <div class="role-panels">
        <div class="role-panel active" data-role-panel="tenant" role="tabpanel">
          <h3>Tenant onboarding</h3>
          <p>Preview listings, secure a view pass and book with USDC.</p>
          <ul>
            <li>Connect your wallet inside Farcaster to unlock booking actions.</li>
            <li>Select stay dates with the booking planner and review deposits up front.</li>
            <li>Complete on-chain checkout — deposits stay escrowed until released.</li>
          </ul>
          <div class="role-actions">
            <a class="btn primary" href="./tenant.html">Open tenant console</a>
            <a class="btn outline" href="./index.html#how-it-works">See how it works</a>
          </div>
        </div>
        <div class="role-panel" data-role-panel="landlord" role="tabpanel" hidden>
          <h3>Landlord onboarding</h3>
          <p>Compose a Farcaster cast, configure pricing and deploy listings from the UI.</p>
          <ul>
            <li>Use guided onboarding to set property basics, pricing and booking policies.</li>
            <li>Launch your listing directly from the console — the platform handles deployment.</li>
            <li>Monitor availability and confirm deposits with the built-in tools.</li>
          </ul>
          <div class="role-actions">
            <a class="btn secondary" href="./landlord.html">Open landlord console</a>
            <a class="btn outline" href="./admin.html">Manage deposits</a>
          </div>
        </div>
        <div class="role-panel" data-role-panel="agent" role="tabpanel" hidden>
          <h3>Agent onboarding</h3>
          <p>Manage fundraising rounds, subletting and rent distribution for curated listings.</p>
          <ul>
            <li>Load your agent contract to review fundraising progress and investor metrics.</li>
            <li>Open or close tokenisation rounds and record rent directly from the console.</li>
            <li>Withdraw agent fees and coordinate sub-bookings without leaving the Mini App.</li>
          </ul>
          <div class="role-actions">
            <a class="btn secondary" href="./agent.html">Open agent console</a>
          </div>
        </div>
        <div class="role-panel" data-role-panel="investor" role="tabpanel" hidden>
          <h3>Investor onboarding</h3>
          <p>Track tokenised bookings, SQMU-R positions and live rent accruals.</p>
          <ul>
            <li>Connect your wallet to surface bookings where you hold SQMU-R.</li>
            <li>Review fundraising caps, sold supply and rent distribution timing per booking.</li>
            <li>Claim accumulated rent in a single click directly from the dashboard.</li>
          </ul>
          <div class="role-actions">
            <a class="btn primary" href="./investor.html">Open investor dashboards</a>
          </div>
        </div>
      </div>
    </section>

    <section id="how-it-works">
      <h2>How it works</h2>
      <div class="grid">
        <div class="card">
          <strong>For Tenants</strong>
          <ol class="muted" style="margin:8px 0 0; padding-left:18px">
            <li>Browse available listings and review the linked Cast for photos or details.</li>
            <li>Book the property and pay rent and deposit in USDC.</li>
            <li>When you vacate, deposit is released on-chain.</li>
          </ol>
        </div>
        <div class="card">
          <strong>For Landlords</strong>
          <ol class="muted" style="margin:8px 0 0; padding-left:18px">
            <li>Create a listing and attach your Farcaster Cast.</li>
            <li>Set deposit and optional daily/weekly/monthly rates.</li>
            <li>Deposit stays in escrow on-chain; release requires both your and the platform’s signature.</li>
          </ol>
        </div>
      </div>
    </section>

<section>
  <h2>Built by SQMU</h2>
  <div class="card">
    <p class="muted" style="margin:0">
      r3nt is a glimpse of what happens when rentals run on-chain without friction.<br><br>
      Behind it is SQMU, the Prime Standard for tokenised real estate, where <strong>1 SQMU = 1 Square Metre</strong> — simple, measurable, global.<br><br>
      From renting to owning, SQMU is building the framework that turns property into an on-chain stable asset.
    </p>
    <div class="cta-row" style="margin-top:10px">
      <a class="btn" href="https://sqmu.net/sqmu">Discover SQMU</a>
    </div>
  </div>
</section>

    <footer>
      r3nt by SQMU. USDC. Arbitrum.
    </footer>
  </div>

  <script type="module">
    import { sdk } from 'https://esm.sh/@farcaster/miniapp-sdk';
    import { APP_VERSION } from './js/config.js';
    import createBackController from './js/back-navigation.js';

    const applyVersionBadge = () => {
      const badge = document.querySelector('[data-version]');
      if (badge) badge.textContent = `Build ${APP_VERSION}`;
    };

    const backButton = document.querySelector('[data-back-button]');
    const backController = createBackController({ sdk, button: backButton });
    backController.update();

    const setupRoleSelector = () => {
      const buttons = Array.from(document.querySelectorAll('[data-role-button]'));
      const panels = Array.from(document.querySelectorAll('[data-role-panel]'));
      if (!buttons.length || !panels.length) return;

      const activate = (role) => {
        buttons.forEach((button) => {
          const isActive = button.dataset.roleButton === role;
          button.setAttribute('aria-selected', isActive ? 'true' : 'false');
        });
        panels.forEach((panel) => {
          const isMatch = panel.dataset.rolePanel === role;
          panel.classList.toggle('active', isMatch);
          if (isMatch) {
            panel.removeAttribute('hidden');
          } else {
            panel.setAttribute('hidden', '');
          }
        });
      };

      for (const button of buttons) {
        button.addEventListener('click', () => {
          activate(button.dataset.roleButton);
        });
      }

      const defaultRole = (buttons.find((btn) => btn.getAttribute('aria-selected') === 'true') || buttons[0])?.dataset.roleButton;
      if (defaultRole) {
        activate(defaultRole);
      }
    };

    const boot = () => {
      applyVersionBadge();
      setupRoleSelector();
    };

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', boot);
    } else {
      boot();
    }

    (async () => {
      try { await sdk.actions.ready(); } catch {}
      setTimeout(() => { try { sdk.actions.ready(); } catch {} }, 800);
    })();
  </script>
</body>
</html>
