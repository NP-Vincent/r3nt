var pp=Object.create;var Cs=Object.defineProperty;var mp=Object.getOwnPropertyDescriptor;var gp=Object.getOwnPropertyNames;var yp=Object.getPrototypeOf,_p=Object.prototype.hasOwnProperty;var bp=(r,e,t)=>e in r?Cs(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Lt=(r,e)=>()=>(r&&(e=r(r=0)),e);var zt=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Li=(r,e)=>{for(var t in e)Cs(r,t,{get:e[t],enumerable:!0})},df=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of gp(e))!_p.call(r,s)&&s!==t&&Cs(r,s,{get:()=>e[s],enumerable:!(n=mp(e,s))||n.enumerable});return r};var Rr=(r,e,t)=>(t=r!=null?pp(yp(r)):{},df(e||!r||!r.__esModule?Cs(t,"default",{value:r,enumerable:!0}):t,r)),hf=r=>df(Cs({},"__esModule",{value:!0}),r);var Xt=(r,e,t)=>bp(r,typeof e!="symbol"?e+"":e,t);var Cf=zt(Fi=>{"use strict";Fi.byteLength=cm;Fi.toByteArray=fm;Fi.fromByteArray=hm;var mr=[],tr=[],am=typeof Uint8Array<"u"?Uint8Array:Array,Pa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Nn=0,Bf=Pa.length;Nn<Bf;++Nn)mr[Nn]=Pa[Nn],tr[Pa.charCodeAt(Nn)]=Nn;var Nn,Bf;tr[45]=62;tr[95]=63;function Lf(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function cm(r){var e=Lf(r),t=e[0],n=e[1];return(t+n)*3/4-n}function um(r,e,t){return(e+t)*3/4-t}function fm(r){var e,t=Lf(r),n=t[0],s=t[1],i=new am(um(r,n,s)),o=0,c=s>0?n-4:n,f;for(f=0;f<c;f+=4)e=tr[r.charCodeAt(f)]<<18|tr[r.charCodeAt(f+1)]<<12|tr[r.charCodeAt(f+2)]<<6|tr[r.charCodeAt(f+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=e&255;return s===2&&(e=tr[r.charCodeAt(f)]<<2|tr[r.charCodeAt(f+1)]>>4,i[o++]=e&255),s===1&&(e=tr[r.charCodeAt(f)]<<10|tr[r.charCodeAt(f+1)]<<4|tr[r.charCodeAt(f+2)]>>2,i[o++]=e>>8&255,i[o++]=e&255),i}function lm(r){return mr[r>>18&63]+mr[r>>12&63]+mr[r>>6&63]+mr[r&63]}function dm(r,e,t){for(var n,s=[],i=e;i<t;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),s.push(lm(n));return s.join("")}function hm(r){for(var e,t=r.length,n=t%3,s=[],i=16383,o=0,c=t-n;o<c;o+=i)s.push(dm(r,o,o+i>c?c:o+i));return n===1?(e=r[t-1],s.push(mr[e>>2]+mr[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],s.push(mr[e>>10]+mr[e>>4&63]+mr[e<<2&63]+"=")),s.join("")}});var Mf=zt(Ua=>{Ua.read=function(r,e,t,n,s){var i,o,c=s*8-n-1,f=(1<<c)-1,p=f>>1,_=-7,E=t?s-1:0,x=t?-1:1,S=r[e+E];for(E+=x,i=S&(1<<-_)-1,S>>=-_,_+=c;_>0;i=i*256+r[e+E],E+=x,_-=8);for(o=i&(1<<-_)-1,i>>=-_,_+=n;_>0;o=o*256+r[e+E],E+=x,_-=8);if(i===0)i=1-p;else{if(i===f)return o?NaN:(S?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-p}return(S?-1:1)*o*Math.pow(2,i-n)};Ua.write=function(r,e,t,n,s,i){var o,c,f,p=i*8-s-1,_=(1<<p)-1,E=_>>1,x=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=n?0:i-1,A=n?1:-1,k=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,o=_):(o=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-o))<1&&(o--,f*=2),o+E>=1?e+=x/f:e+=x*Math.pow(2,1-E),e*f>=2&&(o++,f/=2),o+E>=_?(c=0,o=_):o+E>=1?(c=(e*f-1)*Math.pow(2,s),o=o+E):(c=e*Math.pow(2,E-1)*Math.pow(2,s),o=0));s>=8;r[t+S]=c&255,S+=A,c/=256,s-=8);for(o=o<<s|c,p+=s;p>0;r[t+S]=o&255,S+=A,o/=256,p-=8);r[t+S-A]|=k*128}});var Vs=zt(cs=>{"use strict";var Da=Cf(),os=Mf(),Pf=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;cs.Buffer=N;cs.SlowBuffer=bm;cs.INSPECT_MAX_BYTES=50;var $i=2147483647;cs.kMaxLength=$i;N.TYPED_ARRAY_SUPPORT=pm();!N.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function pm(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(N.prototype,"parent",{enumerable:!0,get:function(){if(N.isBuffer(this))return this.buffer}});Object.defineProperty(N.prototype,"offset",{enumerable:!0,get:function(){if(N.isBuffer(this))return this.byteOffset}});function Ir(r){if(r>$i)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,N.prototype),e}function N(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Va(r)}return Ff(r,e,t)}N.poolSize=8192;function Ff(r,e,t){if(typeof r=="string")return gm(r,e);if(ArrayBuffer.isView(r))return ym(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(gr(r,ArrayBuffer)||r&&gr(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(gr(r,SharedArrayBuffer)||r&&gr(r.buffer,SharedArrayBuffer)))return Fa(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return N.from(n,e,t);let s=_m(r);if(s)return s;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return N.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}N.from=function(r,e,t){return Ff(r,e,t)};Object.setPrototypeOf(N.prototype,Uint8Array.prototype);Object.setPrototypeOf(N,Uint8Array);function $f(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function mm(r,e,t){return $f(r),r<=0?Ir(r):e!==void 0?typeof t=="string"?Ir(r).fill(e,t):Ir(r).fill(e):Ir(r)}N.alloc=function(r,e,t){return mm(r,e,t)};function Va(r){return $f(r),Ir(r<0?0:qa(r)|0)}N.allocUnsafe=function(r){return Va(r)};N.allocUnsafeSlow=function(r){return Va(r)};function gm(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!N.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=Vf(r,e)|0,n=Ir(t),s=n.write(r,e);return s!==t&&(n=n.slice(0,s)),n}function za(r){let e=r.length<0?0:qa(r.length)|0,t=Ir(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function ym(r){if(gr(r,Uint8Array)){let e=new Uint8Array(r);return Fa(e.buffer,e.byteOffset,e.byteLength)}return za(r)}function Fa(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,N.prototype),n}function _m(r){if(N.isBuffer(r)){let e=qa(r.length)|0,t=Ir(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Wa(r.length)?Ir(0):za(r);if(r.type==="Buffer"&&Array.isArray(r.data))return za(r.data)}function qa(r){if(r>=$i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$i.toString(16)+" bytes");return r|0}function bm(r){return+r!=r&&(r=0),N.alloc(+r)}N.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==N.prototype};N.compare=function(e,t){if(gr(e,Uint8Array)&&(e=N.from(e,e.offset,e.byteLength)),gr(t,Uint8Array)&&(t=N.from(t,t.offset,t.byteLength)),!N.isBuffer(e)||!N.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,s=t.length;for(let i=0,o=Math.min(n,s);i<o;++i)if(e[i]!==t[i]){n=e[i],s=t[i];break}return n<s?-1:s<n?1:0};N.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};N.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return N.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let s=N.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){let o=e[n];if(gr(o,Uint8Array))i+o.length>s.length?(N.isBuffer(o)||(o=N.from(o)),o.copy(s,i)):Uint8Array.prototype.set.call(s,o,i);else if(N.isBuffer(o))o.copy(s,i);else throw new TypeError('"list" argument must be an Array of Buffers');i+=o.length}return s};function Vf(r,e){if(N.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||gr(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let s=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return $a(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Xf(r).length;default:if(s)return n?-1:$a(r).length;e=(""+e).toLowerCase(),s=!0}}N.byteLength=Vf;function wm(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return Tm(this,e,t);case"utf8":case"utf-8":return Kf(this,e,t);case"ascii":return Om(this,e,t);case"latin1":case"binary":return km(this,e,t);case"base64":return Am(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Nm(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}N.prototype._isBuffer=!0;function Bn(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}N.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Bn(this,t,t+1);return this};N.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Bn(this,t,t+3),Bn(this,t+1,t+2);return this};N.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Bn(this,t,t+7),Bn(this,t+1,t+6),Bn(this,t+2,t+5),Bn(this,t+3,t+4);return this};N.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Kf(this,0,e):wm.apply(this,arguments)};N.prototype.toLocaleString=N.prototype.toString;N.prototype.equals=function(e){if(!N.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:N.compare(this,e)===0};N.prototype.inspect=function(){let e="",t=cs.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};Pf&&(N.prototype[Pf]=N.prototype.inspect);N.prototype.compare=function(e,t,n,s,i){if(gr(e,Uint8Array)&&(e=N.from(e,e.offset,e.byteLength)),!N.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),s===void 0&&(s=0),i===void 0&&(i=this.length),t<0||n>e.length||s<0||i>this.length)throw new RangeError("out of range index");if(s>=i&&t>=n)return 0;if(s>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,s>>>=0,i>>>=0,this===e)return 0;let o=i-s,c=n-t,f=Math.min(o,c),p=this.slice(s,i),_=e.slice(t,n);for(let E=0;E<f;++E)if(p[E]!==_[E]){o=p[E],c=_[E];break}return o<c?-1:c<o?1:0};function qf(r,e,t,n,s){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Wa(t)&&(t=s?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(s)return-1;t=r.length-1}else if(t<0)if(s)t=0;else return-1;if(typeof e=="string"&&(e=N.from(e,n)),N.isBuffer(e))return e.length===0?-1:Uf(r,e,t,n,s);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):Uf(r,[e],t,n,s);throw new TypeError("val must be string, number or Buffer")}function Uf(r,e,t,n,s){let i=1,o=r.length,c=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;i=2,o/=2,c/=2,t/=2}function f(_,E){return i===1?_[E]:_.readUInt16BE(E*i)}let p;if(s){let _=-1;for(p=t;p<o;p++)if(f(r,p)===f(e,_===-1?0:p-_)){if(_===-1&&(_=p),p-_+1===c)return _*i}else _!==-1&&(p-=p-_),_=-1}else for(t+c>o&&(t=o-c),p=t;p>=0;p--){let _=!0;for(let E=0;E<c;E++)if(f(r,p+E)!==f(e,E)){_=!1;break}if(_)return p}return-1}N.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};N.prototype.indexOf=function(e,t,n){return qf(this,e,t,n,!0)};N.prototype.lastIndexOf=function(e,t,n){return qf(this,e,t,n,!1)};function Em(r,e,t,n){t=Number(t)||0;let s=r.length-t;n?(n=Number(n),n>s&&(n=s)):n=s;let i=e.length;n>i/2&&(n=i/2);let o;for(o=0;o<n;++o){let c=parseInt(e.substr(o*2,2),16);if(Wa(c))return o;r[t+o]=c}return o}function Rm(r,e,t,n){return Vi($a(e,r.length-t),r,t,n)}function vm(r,e,t,n){return Vi(Mm(e),r,t,n)}function Sm(r,e,t,n){return Vi(Xf(e),r,t,n)}function xm(r,e,t,n){return Vi(Pm(e,r.length-t),r,t,n)}N.prototype.write=function(e,t,n,s){if(t===void 0)s="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")s=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,s===void 0&&(s="utf8")):(s=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-t;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");let o=!1;for(;;)switch(s){case"hex":return Em(this,e,t,n);case"utf8":case"utf-8":return Rm(this,e,t,n);case"ascii":case"latin1":case"binary":return vm(this,e,t,n);case"base64":return Sm(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xm(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),o=!0}};N.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Am(r,e,t){return e===0&&t===r.length?Da.fromByteArray(r):Da.fromByteArray(r.slice(e,t))}function Kf(r,e,t){t=Math.min(r.length,t);let n=[],s=e;for(;s<t;){let i=r[s],o=null,c=i>239?4:i>223?3:i>191?2:1;if(s+c<=t){let f,p,_,E;switch(c){case 1:i<128&&(o=i);break;case 2:f=r[s+1],(f&192)===128&&(E=(i&31)<<6|f&63,E>127&&(o=E));break;case 3:f=r[s+1],p=r[s+2],(f&192)===128&&(p&192)===128&&(E=(i&15)<<12|(f&63)<<6|p&63,E>2047&&(E<55296||E>57343)&&(o=E));break;case 4:f=r[s+1],p=r[s+2],_=r[s+3],(f&192)===128&&(p&192)===128&&(_&192)===128&&(E=(i&15)<<18|(f&63)<<12|(p&63)<<6|_&63,E>65535&&E<1114112&&(o=E))}}o===null?(o=65533,c=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),s+=c}return Im(n)}var Df=4096;function Im(r){let e=r.length;if(e<=Df)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=Df));return t}function Om(r,e,t){let n="";t=Math.min(r.length,t);for(let s=e;s<t;++s)n+=String.fromCharCode(r[s]&127);return n}function km(r,e,t){let n="";t=Math.min(r.length,t);for(let s=e;s<t;++s)n+=String.fromCharCode(r[s]);return n}function Tm(r,e,t){let n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let s="";for(let i=e;i<t;++i)s+=Um[r[i]];return s}function Nm(r,e,t){let n=r.slice(e,t),s="";for(let i=0;i<n.length-1;i+=2)s+=String.fromCharCode(n[i]+n[i+1]*256);return s}N.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let s=this.subarray(e,t);return Object.setPrototypeOf(s,N.prototype),s};function ht(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}N.prototype.readUintLE=N.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||ht(e,t,this.length);let s=this[e],i=1,o=0;for(;++o<t&&(i*=256);)s+=this[e+o]*i;return s};N.prototype.readUintBE=N.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||ht(e,t,this.length);let s=this[e+--t],i=1;for(;t>0&&(i*=256);)s+=this[e+--t]*i;return s};N.prototype.readUint8=N.prototype.readUInt8=function(e,t){return e=e>>>0,t||ht(e,1,this.length),this[e]};N.prototype.readUint16LE=N.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||ht(e,2,this.length),this[e]|this[e+1]<<8};N.prototype.readUint16BE=N.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||ht(e,2,this.length),this[e]<<8|this[e+1]};N.prototype.readUint32LE=N.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||ht(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};N.prototype.readUint32BE=N.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||ht(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};N.prototype.readBigUInt64LE=Gr(function(e){e=e>>>0,as(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&$s(e,this.length-8);let s=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,i=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(s)+(BigInt(i)<<BigInt(32))});N.prototype.readBigUInt64BE=Gr(function(e){e=e>>>0,as(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&$s(e,this.length-8);let s=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],i=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(s)<<BigInt(32))+BigInt(i)});N.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||ht(e,t,this.length);let s=this[e],i=1,o=0;for(;++o<t&&(i*=256);)s+=this[e+o]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s};N.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||ht(e,t,this.length);let s=t,i=1,o=this[e+--s];for(;s>0&&(i*=256);)o+=this[e+--s]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o};N.prototype.readInt8=function(e,t){return e=e>>>0,t||ht(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};N.prototype.readInt16LE=function(e,t){e=e>>>0,t||ht(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};N.prototype.readInt16BE=function(e,t){e=e>>>0,t||ht(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};N.prototype.readInt32LE=function(e,t){return e=e>>>0,t||ht(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};N.prototype.readInt32BE=function(e,t){return e=e>>>0,t||ht(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};N.prototype.readBigInt64LE=Gr(function(e){e=e>>>0,as(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&$s(e,this.length-8);let s=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(s)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});N.prototype.readBigInt64BE=Gr(function(e){e=e>>>0,as(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&$s(e,this.length-8);let s=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(s)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});N.prototype.readFloatLE=function(e,t){return e=e>>>0,t||ht(e,4,this.length),os.read(this,e,!0,23,4)};N.prototype.readFloatBE=function(e,t){return e=e>>>0,t||ht(e,4,this.length),os.read(this,e,!1,23,4)};N.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||ht(e,8,this.length),os.read(this,e,!0,52,8)};N.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||ht(e,8,this.length),os.read(this,e,!1,52,8)};function Vt(r,e,t,n,s,i){if(!N.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<i)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}N.prototype.writeUintLE=N.prototype.writeUIntLE=function(e,t,n,s){if(e=+e,t=t>>>0,n=n>>>0,!s){let c=Math.pow(2,8*n)-1;Vt(this,e,t,n,c,0)}let i=1,o=0;for(this[t]=e&255;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n};N.prototype.writeUintBE=N.prototype.writeUIntBE=function(e,t,n,s){if(e=+e,t=t>>>0,n=n>>>0,!s){let c=Math.pow(2,8*n)-1;Vt(this,e,t,n,c,0)}let i=n-1,o=1;for(this[t+i]=e&255;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n};N.prototype.writeUint8=N.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||Vt(this,e,t,1,255,0),this[t]=e&255,t+1};N.prototype.writeUint16LE=N.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||Vt(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};N.prototype.writeUint16BE=N.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||Vt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};N.prototype.writeUint32LE=N.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||Vt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};N.prototype.writeUint32BE=N.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||Vt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function Wf(r,e,t,n,s){Yf(e,n,s,r,t,7);let i=Number(e&BigInt(4294967295));r[t++]=i,i=i>>8,r[t++]=i,i=i>>8,r[t++]=i,i=i>>8,r[t++]=i;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}function jf(r,e,t,n,s){Yf(e,n,s,r,t,7);let i=Number(e&BigInt(4294967295));r[t+7]=i,i=i>>8,r[t+6]=i,i=i>>8,r[t+5]=i,i=i>>8,r[t+4]=i;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}N.prototype.writeBigUInt64LE=Gr(function(e,t=0){return Wf(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});N.prototype.writeBigUInt64BE=Gr(function(e,t=0){return jf(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});N.prototype.writeIntLE=function(e,t,n,s){if(e=+e,t=t>>>0,!s){let f=Math.pow(2,8*n-1);Vt(this,e,t,n,f-1,-f)}let i=0,o=1,c=0;for(this[t]=e&255;++i<n&&(o*=256);)e<0&&c===0&&this[t+i-1]!==0&&(c=1),this[t+i]=(e/o>>0)-c&255;return t+n};N.prototype.writeIntBE=function(e,t,n,s){if(e=+e,t=t>>>0,!s){let f=Math.pow(2,8*n-1);Vt(this,e,t,n,f-1,-f)}let i=n-1,o=1,c=0;for(this[t+i]=e&255;--i>=0&&(o*=256);)e<0&&c===0&&this[t+i+1]!==0&&(c=1),this[t+i]=(e/o>>0)-c&255;return t+n};N.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||Vt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};N.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||Vt(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};N.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||Vt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};N.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||Vt(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};N.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||Vt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};N.prototype.writeBigInt64LE=Gr(function(e,t=0){return Wf(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});N.prototype.writeBigInt64BE=Gr(function(e,t=0){return jf(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Hf(r,e,t,n,s,i){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Gf(r,e,t,n,s){return e=+e,t=t>>>0,s||Hf(r,e,t,4,34028234663852886e22,-34028234663852886e22),os.write(r,e,t,n,23,4),t+4}N.prototype.writeFloatLE=function(e,t,n){return Gf(this,e,t,!0,n)};N.prototype.writeFloatBE=function(e,t,n){return Gf(this,e,t,!1,n)};function Zf(r,e,t,n,s){return e=+e,t=t>>>0,s||Hf(r,e,t,8,17976931348623157e292,-17976931348623157e292),os.write(r,e,t,n,52,8),t+8}N.prototype.writeDoubleLE=function(e,t,n){return Zf(this,e,t,!0,n)};N.prototype.writeDoubleBE=function(e,t,n){return Zf(this,e,t,!1,n)};N.prototype.copy=function(e,t,n,s){if(!N.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!s&&s!==0&&(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<n&&(s=n),s===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-n&&(s=e.length-t+n);let i=s-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,s):Uint8Array.prototype.set.call(e,this.subarray(n,s),t),i};N.prototype.fill=function(e,t,n,s){if(typeof e=="string"){if(typeof t=="string"?(s=t,t=0,n=this.length):typeof n=="string"&&(s=n,n=this.length),s!==void 0&&typeof s!="string")throw new TypeError("encoding must be a string");if(typeof s=="string"&&!N.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(e.length===1){let o=e.charCodeAt(0);(s==="utf8"&&o<128||s==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let i;if(typeof e=="number")for(i=t;i<n;++i)this[i]=e;else{let o=N.isBuffer(e)?e:N.from(e,s),c=o.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%c]}return this};var is={};function Ka(r,e,t){is[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(s){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:s,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Ka("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Ka("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);Ka("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,s=t;return Number.isInteger(t)&&Math.abs(t)>2**32?s=zf(String(t)):typeof t=="bigint"&&(s=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(s=zf(s)),s+="n"),n+=` It must be ${e}. Received ${s}`,n},RangeError);function zf(r){let e="",t=r.length,n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function Bm(r,e,t){as(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&$s(e,r.length-(t+1))}function Yf(r,e,t,n,s,i){if(r>t||r<e){let o=typeof e=="bigint"?"n":"",c;throw i>3?e===0||e===BigInt(0)?c=`>= 0${o} and < 2${o} ** ${(i+1)*8}${o}`:c=`>= -(2${o} ** ${(i+1)*8-1}${o}) and < 2 ** ${(i+1)*8-1}${o}`:c=`>= ${e}${o} and <= ${t}${o}`,new is.ERR_OUT_OF_RANGE("value",c,r)}Bm(n,s,i)}function as(r,e){if(typeof r!="number")throw new is.ERR_INVALID_ARG_TYPE(e,"number",r)}function $s(r,e,t){throw Math.floor(r)!==r?(as(r,t),new is.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new is.ERR_BUFFER_OUT_OF_BOUNDS:new is.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var Lm=/[^+/0-9A-Za-z-_]/g;function Cm(r){if(r=r.split("=")[0],r=r.trim().replace(Lm,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function $a(r,e){e=e||1/0;let t,n=r.length,s=null,i=[];for(let o=0;o<n;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!s){if(t>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&i.push(239,191,189);continue}s=t;continue}if(t<56320){(e-=3)>-1&&i.push(239,191,189),s=t;continue}t=(s-55296<<10|t-56320)+65536}else s&&(e-=3)>-1&&i.push(239,191,189);if(s=null,t<128){if((e-=1)<0)break;i.push(t)}else if(t<2048){if((e-=2)<0)break;i.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;i.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;i.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return i}function Mm(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Pm(r,e){let t,n,s,i=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),n=t>>8,s=t%256,i.push(s),i.push(n);return i}function Xf(r){return Da.toByteArray(Cm(r))}function Vi(r,e,t,n){let s;for(s=0;s<n&&!(s+t>=e.length||s>=r.length);++s)e[s+t]=r[s];return s}function gr(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Wa(r){return r!==r}var Um=(function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let s=0;s<16;++s)e[n+s]=r[t]+r[s]}return e})();function Gr(r){return typeof BigInt>"u"?Dm:r}function Dm(){throw new Error("BigInt not supported")}});var Fl=zt(()=>{});var gc=zt(($l,mc)=>{(function(r,e){"use strict";function t(m,a){if(!m)throw new Error(a||"Assertion failed")}function n(m,a){m.super_=a;var u=function(){};u.prototype=a.prototype,m.prototype=new u,m.prototype.constructor=m}function s(m,a,u){if(s.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(m||0,a||10,u||"be"))}typeof r=="object"?r.exports=s:e.BN=s,s.BN=s,s.wordSize=26;var i;try{typeof window<"u"&&typeof window.Buffer<"u"?i=window.Buffer:i=Fl().Buffer}catch{}s.isBN=function(a){return a instanceof s?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===s.wordSize&&Array.isArray(a.words)},s.max=function(a,u){return a.cmp(u)>0?a:u},s.min=function(a,u){return a.cmp(u)<0?a:u},s.prototype._init=function(a,u,d){if(typeof a=="number")return this._initNumber(a,u,d);if(typeof a=="object")return this._initArray(a,u,d);u==="hex"&&(u=16),t(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var h=0;a[0]==="-"&&(h++,this.negative=1),h<a.length&&(u===16?this._parseHex(a,h,d):(this._parseBase(a,u,h),d==="le"&&this._initArray(this.toArray(),u,d)))},s.prototype._initNumber=function(a,u,d){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(t(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),u,d)},s.prototype._initArray=function(a,u,d){if(t(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g,w,v=0;if(d==="be")for(h=a.length-1,g=0;h>=0;h-=3)w=a[h]|a[h-1]<<8|a[h-2]<<16,this.words[g]|=w<<v&67108863,this.words[g+1]=w>>>26-v&67108863,v+=24,v>=26&&(v-=26,g++);else if(d==="le")for(h=0,g=0;h<a.length;h+=3)w=a[h]|a[h+1]<<8|a[h+2]<<16,this.words[g]|=w<<v&67108863,this.words[g+1]=w>>>26-v&67108863,v+=24,v>=26&&(v-=26,g++);return this._strip()};function o(m,a){var u=m.charCodeAt(a);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;t(!1,"Invalid character in "+m)}function c(m,a,u){var d=o(m,u);return u-1>=a&&(d|=o(m,u-1)<<4),d}s.prototype._parseHex=function(a,u,d){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g=0,w=0,v;if(d==="be")for(h=a.length-1;h>=u;h-=2)v=c(a,u,h)<<g,this.words[w]|=v&67108863,g>=18?(g-=18,w+=1,this.words[w]|=v>>>26):g+=8;else{var y=a.length-u;for(h=y%2===0?u+1:u;h<a.length;h+=2)v=c(a,u,h)<<g,this.words[w]|=v&67108863,g>=18?(g-=18,w+=1,this.words[w]|=v>>>26):g+=8}this._strip()};function f(m,a,u,d){for(var h=0,g=0,w=Math.min(m.length,u),v=a;v<w;v++){var y=m.charCodeAt(v)-48;h*=d,y>=49?g=y-49+10:y>=17?g=y-17+10:g=y,t(y>=0&&g<d,"Invalid character"),h+=g}return h}s.prototype._parseBase=function(a,u,d){this.words=[0],this.length=1;for(var h=0,g=1;g<=67108863;g*=u)h++;h--,g=g/u|0;for(var w=a.length-d,v=w%h,y=Math.min(w,w-v)+d,l=0,b=d;b<y;b+=h)l=f(a,b,b+h,u),this.imuln(g),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(v!==0){var z=1;for(l=f(a,b,a.length,u),b=0;b<v;b++)z*=u;this.imuln(z),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},s.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red};function p(m,a){m.words=a.words,m.length=a.length,m.negative=a.negative,m.red=a.red}if(s.prototype._move=function(a){p(a,this)},s.prototype.clone=function(){var a=new s(null);return this.copy(a),a},s.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=_}catch{s.prototype.inspect=_}else s.prototype.inspect=_;function _(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(a,u){a=a||10,u=u|0||1;var d;if(a===16||a==="hex"){d="";for(var h=0,g=0,w=0;w<this.length;w++){var v=this.words[w],y=((v<<h|g)&16777215).toString(16);g=v>>>24-h&16777215,h+=2,h>=26&&(h-=26,w--),g!==0||w!==this.length-1?d=E[6-y.length]+y+d:d=y+d}for(g!==0&&(d=g.toString(16)+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(a===(a|0)&&a>=2&&a<=36){var l=x[a],b=S[a];d="";var z=this.clone();for(z.negative=0;!z.isZero();){var U=z.modrn(b).toString(a);z=z.idivn(b),z.isZero()?d=U+d:d=E[l-U.length]+U+d}for(this.isZero()&&(d="0"+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}t(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},s.prototype.toJSON=function(){return this.toString(16,2)},i&&(s.prototype.toBuffer=function(a,u){return this.toArrayLike(i,a,u)}),s.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)};var A=function(a,u){return a.allocUnsafe?a.allocUnsafe(u):new a(u)};s.prototype.toArrayLike=function(a,u,d){this._strip();var h=this.byteLength(),g=d||Math.max(1,h);t(h<=g,"byte array longer than desired length"),t(g>0,"Requested array length <= 0");var w=A(a,g),v=u==="le"?"LE":"BE";return this["_toArrayLike"+v](w,h),w},s.prototype._toArrayLikeLE=function(a,u){for(var d=0,h=0,g=0,w=0;g<this.length;g++){var v=this.words[g]<<w|h;a[d++]=v&255,d<a.length&&(a[d++]=v>>8&255),d<a.length&&(a[d++]=v>>16&255),w===6?(d<a.length&&(a[d++]=v>>24&255),h=0,w=0):(h=v>>>24,w+=2)}if(d<a.length)for(a[d++]=h;d<a.length;)a[d++]=0},s.prototype._toArrayLikeBE=function(a,u){for(var d=a.length-1,h=0,g=0,w=0;g<this.length;g++){var v=this.words[g]<<w|h;a[d--]=v&255,d>=0&&(a[d--]=v>>8&255),d>=0&&(a[d--]=v>>16&255),w===6?(d>=0&&(a[d--]=v>>24&255),h=0,w=0):(h=v>>>24,w+=2)}if(d>=0)for(a[d--]=h;d>=0;)a[d--]=0},Math.clz32?s.prototype._countBits=function(a){return 32-Math.clz32(a)}:s.prototype._countBits=function(a){var u=a,d=0;return u>=4096&&(d+=13,u>>>=13),u>=64&&(d+=7,u>>>=7),u>=8&&(d+=4,u>>>=4),u>=2&&(d+=2,u>>>=2),d+u},s.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,d=0;return(u&8191)===0&&(d+=13,u>>>=13),(u&127)===0&&(d+=7,u>>>=7),(u&15)===0&&(d+=4,u>>>=4),(u&3)===0&&(d+=2,u>>>=2),(u&1)===0&&d++,d},s.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function k(m){for(var a=new Array(m.bitLength()),u=0;u<a.length;u++){var d=u/26|0,h=u%26;a[u]=m.words[d]>>>h&1}return a}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var d=this._zeroBits(this.words[u]);if(a+=d,d!==26)break}return a},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},s.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this._strip()},s.prototype.ior=function(a){return t((this.negative|a.negative)===0),this.iuor(a)},s.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},s.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},s.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]&a.words[d];return this.length=u.length,this._strip()},s.prototype.iand=function(a){return t((this.negative|a.negative)===0),this.iuand(a)},s.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},s.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},s.prototype.iuxor=function(a){var u,d;this.length>a.length?(u=this,d=a):(u=a,d=this);for(var h=0;h<d.length;h++)this.words[h]=u.words[h]^d.words[h];if(this!==u)for(;h<u.length;h++)this.words[h]=u.words[h];return this.length=u.length,this._strip()},s.prototype.ixor=function(a){return t((this.negative|a.negative)===0),this.iuxor(a)},s.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},s.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},s.prototype.inotn=function(a){t(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,d=a%26;this._expand(u),d>0&&u--;for(var h=0;h<u;h++)this.words[h]=~this.words[h]&67108863;return d>0&&(this.words[h]=~this.words[h]&67108863>>26-d),this._strip()},s.prototype.notn=function(a){return this.clone().inotn(a)},s.prototype.setn=function(a,u){t(typeof a=="number"&&a>=0);var d=a/26|0,h=a%26;return this._expand(d+1),u?this.words[d]=this.words[d]|1<<h:this.words[d]=this.words[d]&~(1<<h),this._strip()},s.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var d,h;this.length>a.length?(d=this,h=a):(d=a,h=this);for(var g=0,w=0;w<h.length;w++)u=(d.words[w]|0)+(h.words[w]|0)+g,this.words[w]=u&67108863,g=u>>>26;for(;g!==0&&w<d.length;w++)u=(d.words[w]|0)+g,this.words[w]=u&67108863,g=u>>>26;if(this.length=d.length,g!==0)this.words[this.length]=g,this.length++;else if(d!==this)for(;w<d.length;w++)this.words[w]=d.words[w];return this},s.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},s.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var d=this.cmp(a);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,g;d>0?(h=this,g=a):(h=a,g=this);for(var w=0,v=0;v<g.length;v++)u=(h.words[v]|0)-(g.words[v]|0)+w,w=u>>26,this.words[v]=u&67108863;for(;w!==0&&v<h.length;v++)u=(h.words[v]|0)+w,w=u>>26,this.words[v]=u&67108863;if(w===0&&v<h.length&&h!==this)for(;v<h.length;v++)this.words[v]=h.words[v];return this.length=Math.max(this.length,v),h!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(a){return this.clone().isub(a)};function B(m,a,u){u.negative=a.negative^m.negative;var d=m.length+a.length|0;u.length=d,d=d-1|0;var h=m.words[0]|0,g=a.words[0]|0,w=h*g,v=w&67108863,y=w/67108864|0;u.words[0]=v;for(var l=1;l<d;l++){for(var b=y>>>26,z=y&67108863,U=Math.min(l,a.length-1),V=Math.max(0,l-m.length+1);V<=U;V++){var X=l-V|0;h=m.words[X]|0,g=a.words[V]|0,w=h*g+z,b+=w/67108864|0,z=w&67108863}u.words[l]=z|0,y=b|0}return y!==0?u.words[l]=y|0:u.length--,u._strip()}var T=function(a,u,d){var h=a.words,g=u.words,w=d.words,v=0,y,l,b,z=h[0]|0,U=z&8191,V=z>>>13,X=h[1]|0,ce=X&8191,ne=X>>>13,Ae=h[2]|0,_e=Ae&8191,Re=Ae>>>13,Ls=h[3]|0,Be=Ls&8191,Le=Ls>>>13,Zu=h[4]|0,Ce=Zu&8191,Me=Zu>>>13,Yu=h[5]|0,Pe=Yu&8191,Ue=Yu>>>13,Xu=h[6]|0,De=Xu&8191,ze=Xu>>>13,Ju=h[7]|0,Fe=Ju&8191,$e=Ju>>>13,Qu=h[8]|0,Ve=Qu&8191,qe=Qu>>>13,ef=h[9]|0,Ke=ef&8191,We=ef>>>13,tf=g[0]|0,je=tf&8191,He=tf>>>13,rf=g[1]|0,Ge=rf&8191,Ze=rf>>>13,nf=g[2]|0,Ye=nf&8191,Xe=nf>>>13,sf=g[3]|0,Je=sf&8191,Qe=sf>>>13,of=g[4]|0,et=of&8191,tt=of>>>13,af=g[5]|0,rt=af&8191,nt=af>>>13,cf=g[6]|0,st=cf&8191,it=cf>>>13,uf=g[7]|0,ot=uf&8191,at=uf>>>13,ff=g[8]|0,ct=ff&8191,ut=ff>>>13,lf=g[9]|0,ft=lf&8191,lt=lf>>>13;d.negative=a.negative^u.negative,d.length=19,y=Math.imul(U,je),l=Math.imul(U,He),l=l+Math.imul(V,je)|0,b=Math.imul(V,He);var ua=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(ua>>>26)|0,ua&=67108863,y=Math.imul(ce,je),l=Math.imul(ce,He),l=l+Math.imul(ne,je)|0,b=Math.imul(ne,He),y=y+Math.imul(U,Ge)|0,l=l+Math.imul(U,Ze)|0,l=l+Math.imul(V,Ge)|0,b=b+Math.imul(V,Ze)|0;var fa=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(fa>>>26)|0,fa&=67108863,y=Math.imul(_e,je),l=Math.imul(_e,He),l=l+Math.imul(Re,je)|0,b=Math.imul(Re,He),y=y+Math.imul(ce,Ge)|0,l=l+Math.imul(ce,Ze)|0,l=l+Math.imul(ne,Ge)|0,b=b+Math.imul(ne,Ze)|0,y=y+Math.imul(U,Ye)|0,l=l+Math.imul(U,Xe)|0,l=l+Math.imul(V,Ye)|0,b=b+Math.imul(V,Xe)|0;var la=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(la>>>26)|0,la&=67108863,y=Math.imul(Be,je),l=Math.imul(Be,He),l=l+Math.imul(Le,je)|0,b=Math.imul(Le,He),y=y+Math.imul(_e,Ge)|0,l=l+Math.imul(_e,Ze)|0,l=l+Math.imul(Re,Ge)|0,b=b+Math.imul(Re,Ze)|0,y=y+Math.imul(ce,Ye)|0,l=l+Math.imul(ce,Xe)|0,l=l+Math.imul(ne,Ye)|0,b=b+Math.imul(ne,Xe)|0,y=y+Math.imul(U,Je)|0,l=l+Math.imul(U,Qe)|0,l=l+Math.imul(V,Je)|0,b=b+Math.imul(V,Qe)|0;var da=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(da>>>26)|0,da&=67108863,y=Math.imul(Ce,je),l=Math.imul(Ce,He),l=l+Math.imul(Me,je)|0,b=Math.imul(Me,He),y=y+Math.imul(Be,Ge)|0,l=l+Math.imul(Be,Ze)|0,l=l+Math.imul(Le,Ge)|0,b=b+Math.imul(Le,Ze)|0,y=y+Math.imul(_e,Ye)|0,l=l+Math.imul(_e,Xe)|0,l=l+Math.imul(Re,Ye)|0,b=b+Math.imul(Re,Xe)|0,y=y+Math.imul(ce,Je)|0,l=l+Math.imul(ce,Qe)|0,l=l+Math.imul(ne,Je)|0,b=b+Math.imul(ne,Qe)|0,y=y+Math.imul(U,et)|0,l=l+Math.imul(U,tt)|0,l=l+Math.imul(V,et)|0,b=b+Math.imul(V,tt)|0;var ha=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(ha>>>26)|0,ha&=67108863,y=Math.imul(Pe,je),l=Math.imul(Pe,He),l=l+Math.imul(Ue,je)|0,b=Math.imul(Ue,He),y=y+Math.imul(Ce,Ge)|0,l=l+Math.imul(Ce,Ze)|0,l=l+Math.imul(Me,Ge)|0,b=b+Math.imul(Me,Ze)|0,y=y+Math.imul(Be,Ye)|0,l=l+Math.imul(Be,Xe)|0,l=l+Math.imul(Le,Ye)|0,b=b+Math.imul(Le,Xe)|0,y=y+Math.imul(_e,Je)|0,l=l+Math.imul(_e,Qe)|0,l=l+Math.imul(Re,Je)|0,b=b+Math.imul(Re,Qe)|0,y=y+Math.imul(ce,et)|0,l=l+Math.imul(ce,tt)|0,l=l+Math.imul(ne,et)|0,b=b+Math.imul(ne,tt)|0,y=y+Math.imul(U,rt)|0,l=l+Math.imul(U,nt)|0,l=l+Math.imul(V,rt)|0,b=b+Math.imul(V,nt)|0;var pa=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(pa>>>26)|0,pa&=67108863,y=Math.imul(De,je),l=Math.imul(De,He),l=l+Math.imul(ze,je)|0,b=Math.imul(ze,He),y=y+Math.imul(Pe,Ge)|0,l=l+Math.imul(Pe,Ze)|0,l=l+Math.imul(Ue,Ge)|0,b=b+Math.imul(Ue,Ze)|0,y=y+Math.imul(Ce,Ye)|0,l=l+Math.imul(Ce,Xe)|0,l=l+Math.imul(Me,Ye)|0,b=b+Math.imul(Me,Xe)|0,y=y+Math.imul(Be,Je)|0,l=l+Math.imul(Be,Qe)|0,l=l+Math.imul(Le,Je)|0,b=b+Math.imul(Le,Qe)|0,y=y+Math.imul(_e,et)|0,l=l+Math.imul(_e,tt)|0,l=l+Math.imul(Re,et)|0,b=b+Math.imul(Re,tt)|0,y=y+Math.imul(ce,rt)|0,l=l+Math.imul(ce,nt)|0,l=l+Math.imul(ne,rt)|0,b=b+Math.imul(ne,nt)|0,y=y+Math.imul(U,st)|0,l=l+Math.imul(U,it)|0,l=l+Math.imul(V,st)|0,b=b+Math.imul(V,it)|0;var ma=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(ma>>>26)|0,ma&=67108863,y=Math.imul(Fe,je),l=Math.imul(Fe,He),l=l+Math.imul($e,je)|0,b=Math.imul($e,He),y=y+Math.imul(De,Ge)|0,l=l+Math.imul(De,Ze)|0,l=l+Math.imul(ze,Ge)|0,b=b+Math.imul(ze,Ze)|0,y=y+Math.imul(Pe,Ye)|0,l=l+Math.imul(Pe,Xe)|0,l=l+Math.imul(Ue,Ye)|0,b=b+Math.imul(Ue,Xe)|0,y=y+Math.imul(Ce,Je)|0,l=l+Math.imul(Ce,Qe)|0,l=l+Math.imul(Me,Je)|0,b=b+Math.imul(Me,Qe)|0,y=y+Math.imul(Be,et)|0,l=l+Math.imul(Be,tt)|0,l=l+Math.imul(Le,et)|0,b=b+Math.imul(Le,tt)|0,y=y+Math.imul(_e,rt)|0,l=l+Math.imul(_e,nt)|0,l=l+Math.imul(Re,rt)|0,b=b+Math.imul(Re,nt)|0,y=y+Math.imul(ce,st)|0,l=l+Math.imul(ce,it)|0,l=l+Math.imul(ne,st)|0,b=b+Math.imul(ne,it)|0,y=y+Math.imul(U,ot)|0,l=l+Math.imul(U,at)|0,l=l+Math.imul(V,ot)|0,b=b+Math.imul(V,at)|0;var ga=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(ga>>>26)|0,ga&=67108863,y=Math.imul(Ve,je),l=Math.imul(Ve,He),l=l+Math.imul(qe,je)|0,b=Math.imul(qe,He),y=y+Math.imul(Fe,Ge)|0,l=l+Math.imul(Fe,Ze)|0,l=l+Math.imul($e,Ge)|0,b=b+Math.imul($e,Ze)|0,y=y+Math.imul(De,Ye)|0,l=l+Math.imul(De,Xe)|0,l=l+Math.imul(ze,Ye)|0,b=b+Math.imul(ze,Xe)|0,y=y+Math.imul(Pe,Je)|0,l=l+Math.imul(Pe,Qe)|0,l=l+Math.imul(Ue,Je)|0,b=b+Math.imul(Ue,Qe)|0,y=y+Math.imul(Ce,et)|0,l=l+Math.imul(Ce,tt)|0,l=l+Math.imul(Me,et)|0,b=b+Math.imul(Me,tt)|0,y=y+Math.imul(Be,rt)|0,l=l+Math.imul(Be,nt)|0,l=l+Math.imul(Le,rt)|0,b=b+Math.imul(Le,nt)|0,y=y+Math.imul(_e,st)|0,l=l+Math.imul(_e,it)|0,l=l+Math.imul(Re,st)|0,b=b+Math.imul(Re,it)|0,y=y+Math.imul(ce,ot)|0,l=l+Math.imul(ce,at)|0,l=l+Math.imul(ne,ot)|0,b=b+Math.imul(ne,at)|0,y=y+Math.imul(U,ct)|0,l=l+Math.imul(U,ut)|0,l=l+Math.imul(V,ct)|0,b=b+Math.imul(V,ut)|0;var ya=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(ya>>>26)|0,ya&=67108863,y=Math.imul(Ke,je),l=Math.imul(Ke,He),l=l+Math.imul(We,je)|0,b=Math.imul(We,He),y=y+Math.imul(Ve,Ge)|0,l=l+Math.imul(Ve,Ze)|0,l=l+Math.imul(qe,Ge)|0,b=b+Math.imul(qe,Ze)|0,y=y+Math.imul(Fe,Ye)|0,l=l+Math.imul(Fe,Xe)|0,l=l+Math.imul($e,Ye)|0,b=b+Math.imul($e,Xe)|0,y=y+Math.imul(De,Je)|0,l=l+Math.imul(De,Qe)|0,l=l+Math.imul(ze,Je)|0,b=b+Math.imul(ze,Qe)|0,y=y+Math.imul(Pe,et)|0,l=l+Math.imul(Pe,tt)|0,l=l+Math.imul(Ue,et)|0,b=b+Math.imul(Ue,tt)|0,y=y+Math.imul(Ce,rt)|0,l=l+Math.imul(Ce,nt)|0,l=l+Math.imul(Me,rt)|0,b=b+Math.imul(Me,nt)|0,y=y+Math.imul(Be,st)|0,l=l+Math.imul(Be,it)|0,l=l+Math.imul(Le,st)|0,b=b+Math.imul(Le,it)|0,y=y+Math.imul(_e,ot)|0,l=l+Math.imul(_e,at)|0,l=l+Math.imul(Re,ot)|0,b=b+Math.imul(Re,at)|0,y=y+Math.imul(ce,ct)|0,l=l+Math.imul(ce,ut)|0,l=l+Math.imul(ne,ct)|0,b=b+Math.imul(ne,ut)|0,y=y+Math.imul(U,ft)|0,l=l+Math.imul(U,lt)|0,l=l+Math.imul(V,ft)|0,b=b+Math.imul(V,lt)|0;var _a=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(_a>>>26)|0,_a&=67108863,y=Math.imul(Ke,Ge),l=Math.imul(Ke,Ze),l=l+Math.imul(We,Ge)|0,b=Math.imul(We,Ze),y=y+Math.imul(Ve,Ye)|0,l=l+Math.imul(Ve,Xe)|0,l=l+Math.imul(qe,Ye)|0,b=b+Math.imul(qe,Xe)|0,y=y+Math.imul(Fe,Je)|0,l=l+Math.imul(Fe,Qe)|0,l=l+Math.imul($e,Je)|0,b=b+Math.imul($e,Qe)|0,y=y+Math.imul(De,et)|0,l=l+Math.imul(De,tt)|0,l=l+Math.imul(ze,et)|0,b=b+Math.imul(ze,tt)|0,y=y+Math.imul(Pe,rt)|0,l=l+Math.imul(Pe,nt)|0,l=l+Math.imul(Ue,rt)|0,b=b+Math.imul(Ue,nt)|0,y=y+Math.imul(Ce,st)|0,l=l+Math.imul(Ce,it)|0,l=l+Math.imul(Me,st)|0,b=b+Math.imul(Me,it)|0,y=y+Math.imul(Be,ot)|0,l=l+Math.imul(Be,at)|0,l=l+Math.imul(Le,ot)|0,b=b+Math.imul(Le,at)|0,y=y+Math.imul(_e,ct)|0,l=l+Math.imul(_e,ut)|0,l=l+Math.imul(Re,ct)|0,b=b+Math.imul(Re,ut)|0,y=y+Math.imul(ce,ft)|0,l=l+Math.imul(ce,lt)|0,l=l+Math.imul(ne,ft)|0,b=b+Math.imul(ne,lt)|0;var ba=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(ba>>>26)|0,ba&=67108863,y=Math.imul(Ke,Ye),l=Math.imul(Ke,Xe),l=l+Math.imul(We,Ye)|0,b=Math.imul(We,Xe),y=y+Math.imul(Ve,Je)|0,l=l+Math.imul(Ve,Qe)|0,l=l+Math.imul(qe,Je)|0,b=b+Math.imul(qe,Qe)|0,y=y+Math.imul(Fe,et)|0,l=l+Math.imul(Fe,tt)|0,l=l+Math.imul($e,et)|0,b=b+Math.imul($e,tt)|0,y=y+Math.imul(De,rt)|0,l=l+Math.imul(De,nt)|0,l=l+Math.imul(ze,rt)|0,b=b+Math.imul(ze,nt)|0,y=y+Math.imul(Pe,st)|0,l=l+Math.imul(Pe,it)|0,l=l+Math.imul(Ue,st)|0,b=b+Math.imul(Ue,it)|0,y=y+Math.imul(Ce,ot)|0,l=l+Math.imul(Ce,at)|0,l=l+Math.imul(Me,ot)|0,b=b+Math.imul(Me,at)|0,y=y+Math.imul(Be,ct)|0,l=l+Math.imul(Be,ut)|0,l=l+Math.imul(Le,ct)|0,b=b+Math.imul(Le,ut)|0,y=y+Math.imul(_e,ft)|0,l=l+Math.imul(_e,lt)|0,l=l+Math.imul(Re,ft)|0,b=b+Math.imul(Re,lt)|0;var wa=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(wa>>>26)|0,wa&=67108863,y=Math.imul(Ke,Je),l=Math.imul(Ke,Qe),l=l+Math.imul(We,Je)|0,b=Math.imul(We,Qe),y=y+Math.imul(Ve,et)|0,l=l+Math.imul(Ve,tt)|0,l=l+Math.imul(qe,et)|0,b=b+Math.imul(qe,tt)|0,y=y+Math.imul(Fe,rt)|0,l=l+Math.imul(Fe,nt)|0,l=l+Math.imul($e,rt)|0,b=b+Math.imul($e,nt)|0,y=y+Math.imul(De,st)|0,l=l+Math.imul(De,it)|0,l=l+Math.imul(ze,st)|0,b=b+Math.imul(ze,it)|0,y=y+Math.imul(Pe,ot)|0,l=l+Math.imul(Pe,at)|0,l=l+Math.imul(Ue,ot)|0,b=b+Math.imul(Ue,at)|0,y=y+Math.imul(Ce,ct)|0,l=l+Math.imul(Ce,ut)|0,l=l+Math.imul(Me,ct)|0,b=b+Math.imul(Me,ut)|0,y=y+Math.imul(Be,ft)|0,l=l+Math.imul(Be,lt)|0,l=l+Math.imul(Le,ft)|0,b=b+Math.imul(Le,lt)|0;var Ea=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(Ea>>>26)|0,Ea&=67108863,y=Math.imul(Ke,et),l=Math.imul(Ke,tt),l=l+Math.imul(We,et)|0,b=Math.imul(We,tt),y=y+Math.imul(Ve,rt)|0,l=l+Math.imul(Ve,nt)|0,l=l+Math.imul(qe,rt)|0,b=b+Math.imul(qe,nt)|0,y=y+Math.imul(Fe,st)|0,l=l+Math.imul(Fe,it)|0,l=l+Math.imul($e,st)|0,b=b+Math.imul($e,it)|0,y=y+Math.imul(De,ot)|0,l=l+Math.imul(De,at)|0,l=l+Math.imul(ze,ot)|0,b=b+Math.imul(ze,at)|0,y=y+Math.imul(Pe,ct)|0,l=l+Math.imul(Pe,ut)|0,l=l+Math.imul(Ue,ct)|0,b=b+Math.imul(Ue,ut)|0,y=y+Math.imul(Ce,ft)|0,l=l+Math.imul(Ce,lt)|0,l=l+Math.imul(Me,ft)|0,b=b+Math.imul(Me,lt)|0;var Ra=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(Ra>>>26)|0,Ra&=67108863,y=Math.imul(Ke,rt),l=Math.imul(Ke,nt),l=l+Math.imul(We,rt)|0,b=Math.imul(We,nt),y=y+Math.imul(Ve,st)|0,l=l+Math.imul(Ve,it)|0,l=l+Math.imul(qe,st)|0,b=b+Math.imul(qe,it)|0,y=y+Math.imul(Fe,ot)|0,l=l+Math.imul(Fe,at)|0,l=l+Math.imul($e,ot)|0,b=b+Math.imul($e,at)|0,y=y+Math.imul(De,ct)|0,l=l+Math.imul(De,ut)|0,l=l+Math.imul(ze,ct)|0,b=b+Math.imul(ze,ut)|0,y=y+Math.imul(Pe,ft)|0,l=l+Math.imul(Pe,lt)|0,l=l+Math.imul(Ue,ft)|0,b=b+Math.imul(Ue,lt)|0;var va=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(va>>>26)|0,va&=67108863,y=Math.imul(Ke,st),l=Math.imul(Ke,it),l=l+Math.imul(We,st)|0,b=Math.imul(We,it),y=y+Math.imul(Ve,ot)|0,l=l+Math.imul(Ve,at)|0,l=l+Math.imul(qe,ot)|0,b=b+Math.imul(qe,at)|0,y=y+Math.imul(Fe,ct)|0,l=l+Math.imul(Fe,ut)|0,l=l+Math.imul($e,ct)|0,b=b+Math.imul($e,ut)|0,y=y+Math.imul(De,ft)|0,l=l+Math.imul(De,lt)|0,l=l+Math.imul(ze,ft)|0,b=b+Math.imul(ze,lt)|0;var Sa=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(Sa>>>26)|0,Sa&=67108863,y=Math.imul(Ke,ot),l=Math.imul(Ke,at),l=l+Math.imul(We,ot)|0,b=Math.imul(We,at),y=y+Math.imul(Ve,ct)|0,l=l+Math.imul(Ve,ut)|0,l=l+Math.imul(qe,ct)|0,b=b+Math.imul(qe,ut)|0,y=y+Math.imul(Fe,ft)|0,l=l+Math.imul(Fe,lt)|0,l=l+Math.imul($e,ft)|0,b=b+Math.imul($e,lt)|0;var xa=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(xa>>>26)|0,xa&=67108863,y=Math.imul(Ke,ct),l=Math.imul(Ke,ut),l=l+Math.imul(We,ct)|0,b=Math.imul(We,ut),y=y+Math.imul(Ve,ft)|0,l=l+Math.imul(Ve,lt)|0,l=l+Math.imul(qe,ft)|0,b=b+Math.imul(qe,lt)|0;var Aa=(v+y|0)+((l&8191)<<13)|0;v=(b+(l>>>13)|0)+(Aa>>>26)|0,Aa&=67108863,y=Math.imul(Ke,ft),l=Math.imul(Ke,lt),l=l+Math.imul(We,ft)|0,b=Math.imul(We,lt);var Ia=(v+y|0)+((l&8191)<<13)|0;return v=(b+(l>>>13)|0)+(Ia>>>26)|0,Ia&=67108863,w[0]=ua,w[1]=fa,w[2]=la,w[3]=da,w[4]=ha,w[5]=pa,w[6]=ma,w[7]=ga,w[8]=ya,w[9]=_a,w[10]=ba,w[11]=wa,w[12]=Ea,w[13]=Ra,w[14]=va,w[15]=Sa,w[16]=xa,w[17]=Aa,w[18]=Ia,v!==0&&(w[19]=v,d.length++),d};Math.imul||(T=B);function D(m,a,u){u.negative=a.negative^m.negative,u.length=m.length+a.length;for(var d=0,h=0,g=0;g<u.length-1;g++){var w=h;h=0;for(var v=d&67108863,y=Math.min(g,a.length-1),l=Math.max(0,g-m.length+1);l<=y;l++){var b=g-l,z=m.words[b]|0,U=a.words[l]|0,V=z*U,X=V&67108863;w=w+(V/67108864|0)|0,X=X+v|0,v=X&67108863,w=w+(X>>>26)|0,h+=w>>>26,w&=67108863}u.words[g]=v,d=w,w=h}return d!==0?u.words[g]=d:u.length--,u._strip()}function L(m,a,u){return D(m,a,u)}s.prototype.mulTo=function(a,u){var d,h=this.length+a.length;return this.length===10&&a.length===10?d=T(this,a,u):h<63?d=B(this,a,u):h<1024?d=D(this,a,u):d=L(this,a,u),d};function K(m,a){this.x=m,this.y=a}K.prototype.makeRBT=function(a){for(var u=new Array(a),d=s.prototype._countBits(a)-1,h=0;h<a;h++)u[h]=this.revBin(h,d,a);return u},K.prototype.revBin=function(a,u,d){if(a===0||a===d-1)return a;for(var h=0,g=0;g<u;g++)h|=(a&1)<<u-g-1,a>>=1;return h},K.prototype.permute=function(a,u,d,h,g,w){for(var v=0;v<w;v++)h[v]=u[a[v]],g[v]=d[a[v]]},K.prototype.transform=function(a,u,d,h,g,w){this.permute(w,a,u,d,h,g);for(var v=1;v<g;v<<=1)for(var y=v<<1,l=Math.cos(2*Math.PI/y),b=Math.sin(2*Math.PI/y),z=0;z<g;z+=y)for(var U=l,V=b,X=0;X<v;X++){var ce=d[z+X],ne=h[z+X],Ae=d[z+X+v],_e=h[z+X+v],Re=U*Ae-V*_e;_e=U*_e+V*Ae,Ae=Re,d[z+X]=ce+Ae,h[z+X]=ne+_e,d[z+X+v]=ce-Ae,h[z+X+v]=ne-_e,X!==y&&(Re=l*U-b*V,V=l*V+b*U,U=Re)}},K.prototype.guessLen13b=function(a,u){var d=Math.max(u,a)|1,h=d&1,g=0;for(d=d/2|0;d;d=d>>>1)g++;return 1<<g+1+h},K.prototype.conjugate=function(a,u,d){if(!(d<=1))for(var h=0;h<d/2;h++){var g=a[h];a[h]=a[d-h-1],a[d-h-1]=g,g=u[h],u[h]=-u[d-h-1],u[d-h-1]=-g}},K.prototype.normalize13b=function(a,u){for(var d=0,h=0;h<u/2;h++){var g=Math.round(a[2*h+1]/u)*8192+Math.round(a[2*h]/u)+d;a[h]=g&67108863,g<67108864?d=0:d=g/67108864|0}return a},K.prototype.convert13b=function(a,u,d,h){for(var g=0,w=0;w<u;w++)g=g+(a[w]|0),d[2*w]=g&8191,g=g>>>13,d[2*w+1]=g&8191,g=g>>>13;for(w=2*u;w<h;++w)d[w]=0;t(g===0),t((g&-8192)===0)},K.prototype.stub=function(a){for(var u=new Array(a),d=0;d<a;d++)u[d]=0;return u},K.prototype.mulp=function(a,u,d){var h=2*this.guessLen13b(a.length,u.length),g=this.makeRBT(h),w=this.stub(h),v=new Array(h),y=new Array(h),l=new Array(h),b=new Array(h),z=new Array(h),U=new Array(h),V=d.words;V.length=h,this.convert13b(a.words,a.length,v,h),this.convert13b(u.words,u.length,b,h),this.transform(v,w,y,l,h,g),this.transform(b,w,z,U,h,g);for(var X=0;X<h;X++){var ce=y[X]*z[X]-l[X]*U[X];l[X]=y[X]*U[X]+l[X]*z[X],y[X]=ce}return this.conjugate(y,l,h),this.transform(y,l,V,w,h,g),this.conjugate(V,w,h),this.normalize13b(V,h),d.negative=a.negative^u.negative,d.length=a.length+u.length,d._strip()},s.prototype.mul=function(a){var u=new s(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},s.prototype.mulf=function(a){var u=new s(null);return u.words=new Array(this.length+a.length),L(this,a,u)},s.prototype.imul=function(a){return this.clone().mulTo(a,this)},s.prototype.imuln=function(a){var u=a<0;u&&(a=-a),t(typeof a=="number"),t(a<67108864);for(var d=0,h=0;h<this.length;h++){var g=(this.words[h]|0)*a,w=(g&67108863)+(d&67108863);d>>=26,d+=g/67108864|0,d+=w>>>26,this.words[h]=w&67108863}return d!==0&&(this.words[h]=d,this.length++),this.length=a===0?1:this.length,u?this.ineg():this},s.prototype.muln=function(a){return this.clone().imuln(a)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(a){var u=k(a);if(u.length===0)return new s(1);for(var d=this,h=0;h<u.length&&u[h]===0;h++,d=d.sqr());if(++h<u.length)for(var g=d.sqr();h<u.length;h++,g=g.sqr())u[h]!==0&&(d=d.mul(g));return d},s.prototype.iushln=function(a){t(typeof a=="number"&&a>=0);var u=a%26,d=(a-u)/26,h=67108863>>>26-u<<26-u,g;if(u!==0){var w=0;for(g=0;g<this.length;g++){var v=this.words[g]&h,y=(this.words[g]|0)-v<<u;this.words[g]=y|w,w=v>>>26-u}w&&(this.words[g]=w,this.length++)}if(d!==0){for(g=this.length-1;g>=0;g--)this.words[g+d]=this.words[g];for(g=0;g<d;g++)this.words[g]=0;this.length+=d}return this._strip()},s.prototype.ishln=function(a){return t(this.negative===0),this.iushln(a)},s.prototype.iushrn=function(a,u,d){t(typeof a=="number"&&a>=0);var h;u?h=(u-u%26)/26:h=0;var g=a%26,w=Math.min((a-g)/26,this.length),v=67108863^67108863>>>g<<g,y=d;if(h-=w,h=Math.max(0,h),y){for(var l=0;l<w;l++)y.words[l]=this.words[l];y.length=w}if(w!==0)if(this.length>w)for(this.length-=w,l=0;l<this.length;l++)this.words[l]=this.words[l+w];else this.words[0]=0,this.length=1;var b=0;for(l=this.length-1;l>=0&&(b!==0||l>=h);l--){var z=this.words[l]|0;this.words[l]=b<<26-g|z>>>g,b=z&v}return y&&b!==0&&(y.words[y.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(a,u,d){return t(this.negative===0),this.iushrn(a,u,d)},s.prototype.shln=function(a){return this.clone().ishln(a)},s.prototype.ushln=function(a){return this.clone().iushln(a)},s.prototype.shrn=function(a){return this.clone().ishrn(a)},s.prototype.ushrn=function(a){return this.clone().iushrn(a)},s.prototype.testn=function(a){t(typeof a=="number"&&a>=0);var u=a%26,d=(a-u)/26,h=1<<u;if(this.length<=d)return!1;var g=this.words[d];return!!(g&h)},s.prototype.imaskn=function(a){t(typeof a=="number"&&a>=0);var u=a%26,d=(a-u)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(u!==0&&d++,this.length=Math.min(d,this.length),u!==0){var h=67108863^67108863>>>u<<u;this.words[this.length-1]&=h}return this._strip()},s.prototype.maskn=function(a){return this.clone().imaskn(a)},s.prototype.iaddn=function(a){return t(typeof a=="number"),t(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},s.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},s.prototype.isubn=function(a){if(t(typeof a=="number"),t(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},s.prototype.addn=function(a){return this.clone().iaddn(a)},s.prototype.subn=function(a){return this.clone().isubn(a)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(a,u,d){var h=a.length+d,g;this._expand(h);var w,v=0;for(g=0;g<a.length;g++){w=(this.words[g+d]|0)+v;var y=(a.words[g]|0)*u;w-=y&67108863,v=(w>>26)-(y/67108864|0),this.words[g+d]=w&67108863}for(;g<this.length-d;g++)w=(this.words[g+d]|0)+v,v=w>>26,this.words[g+d]=w&67108863;if(v===0)return this._strip();for(t(v===-1),v=0,g=0;g<this.length;g++)w=-(this.words[g]|0)+v,v=w>>26,this.words[g]=w&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(a,u){var d=this.length-a.length,h=this.clone(),g=a,w=g.words[g.length-1]|0,v=this._countBits(w);d=26-v,d!==0&&(g=g.ushln(d),h.iushln(d),w=g.words[g.length-1]|0);var y=h.length-g.length,l;if(u!=="mod"){l=new s(null),l.length=y+1,l.words=new Array(l.length);for(var b=0;b<l.length;b++)l.words[b]=0}var z=h.clone()._ishlnsubmul(g,1,y);z.negative===0&&(h=z,l&&(l.words[y]=1));for(var U=y-1;U>=0;U--){var V=(h.words[g.length+U]|0)*67108864+(h.words[g.length+U-1]|0);for(V=Math.min(V/w|0,67108863),h._ishlnsubmul(g,V,U);h.negative!==0;)V--,h.negative=0,h._ishlnsubmul(g,1,U),h.isZero()||(h.negative^=1);l&&(l.words[U]=V)}return l&&l._strip(),h._strip(),u!=="div"&&d!==0&&h.iushrn(d),{div:l||null,mod:h}},s.prototype.divmod=function(a,u,d){if(t(!a.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var h,g,w;return this.negative!==0&&a.negative===0?(w=this.neg().divmod(a,u),u!=="mod"&&(h=w.div.neg()),u!=="div"&&(g=w.mod.neg(),d&&g.negative!==0&&g.iadd(a)),{div:h,mod:g}):this.negative===0&&a.negative!==0?(w=this.divmod(a.neg(),u),u!=="mod"&&(h=w.div.neg()),{div:h,mod:w.mod}):(this.negative&a.negative)!==0?(w=this.neg().divmod(a.neg(),u),u!=="div"&&(g=w.mod.neg(),d&&g.negative!==0&&g.isub(a)),{div:w.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new s(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new s(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new s(this.modrn(a.words[0]))}:this._wordDiv(a,u)},s.prototype.div=function(a){return this.divmod(a,"div",!1).div},s.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},s.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},s.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var d=u.div.negative!==0?u.mod.isub(a):u.mod,h=a.ushrn(1),g=a.andln(1),w=d.cmp(h);return w<0||g===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},s.prototype.modrn=function(a){var u=a<0;u&&(a=-a),t(a<=67108863);for(var d=(1<<26)%a,h=0,g=this.length-1;g>=0;g--)h=(d*h+(this.words[g]|0))%a;return u?-h:h},s.prototype.modn=function(a){return this.modrn(a)},s.prototype.idivn=function(a){var u=a<0;u&&(a=-a),t(a<=67108863);for(var d=0,h=this.length-1;h>=0;h--){var g=(this.words[h]|0)+d*67108864;this.words[h]=g/a|0,d=g%a}return this._strip(),u?this.ineg():this},s.prototype.divn=function(a){return this.clone().idivn(a)},s.prototype.egcd=function(a){t(a.negative===0),t(!a.isZero());var u=this,d=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var h=new s(1),g=new s(0),w=new s(0),v=new s(1),y=0;u.isEven()&&d.isEven();)u.iushrn(1),d.iushrn(1),++y;for(var l=d.clone(),b=u.clone();!u.isZero();){for(var z=0,U=1;(u.words[0]&U)===0&&z<26;++z,U<<=1);if(z>0)for(u.iushrn(z);z-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(l),g.isub(b)),h.iushrn(1),g.iushrn(1);for(var V=0,X=1;(d.words[0]&X)===0&&V<26;++V,X<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(w.isOdd()||v.isOdd())&&(w.iadd(l),v.isub(b)),w.iushrn(1),v.iushrn(1);u.cmp(d)>=0?(u.isub(d),h.isub(w),g.isub(v)):(d.isub(u),w.isub(h),v.isub(g))}return{a:w,b:v,gcd:d.iushln(y)}},s.prototype._invmp=function(a){t(a.negative===0),t(!a.isZero());var u=this,d=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var h=new s(1),g=new s(0),w=d.clone();u.cmpn(1)>0&&d.cmpn(1)>0;){for(var v=0,y=1;(u.words[0]&y)===0&&v<26;++v,y<<=1);if(v>0)for(u.iushrn(v);v-- >0;)h.isOdd()&&h.iadd(w),h.iushrn(1);for(var l=0,b=1;(d.words[0]&b)===0&&l<26;++l,b<<=1);if(l>0)for(d.iushrn(l);l-- >0;)g.isOdd()&&g.iadd(w),g.iushrn(1);u.cmp(d)>=0?(u.isub(d),h.isub(g)):(d.isub(u),g.isub(h))}var z;return u.cmpn(1)===0?z=h:z=g,z.cmpn(0)<0&&z.iadd(a),z},s.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),d=a.clone();u.negative=0,d.negative=0;for(var h=0;u.isEven()&&d.isEven();h++)u.iushrn(1),d.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;d.isEven();)d.iushrn(1);var g=u.cmp(d);if(g<0){var w=u;u=d,d=w}else if(g===0||d.cmpn(1)===0)break;u.isub(d)}while(!0);return d.iushln(h)},s.prototype.invm=function(a){return this.egcd(a).a.umod(a)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(a){return this.words[0]&a},s.prototype.bincn=function(a){t(typeof a=="number");var u=a%26,d=(a-u)/26,h=1<<u;if(this.length<=d)return this._expand(d+1),this.words[d]|=h,this;for(var g=h,w=d;g!==0&&w<this.length;w++){var v=this.words[w]|0;v+=g,g=v>>>26,v&=67108863,this.words[w]=v}return g!==0&&(this.words[w]=g,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var d;if(this.length>1)d=1;else{u&&(a=-a),t(a<=67108863,"Number is too big");var h=this.words[0]|0;d=h===a?0:h<a?-1:1}return this.negative!==0?-d|0:d},s.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},s.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,d=this.length-1;d>=0;d--){var h=this.words[d]|0,g=a.words[d]|0;if(h!==g){h<g?u=-1:h>g&&(u=1);break}}return u},s.prototype.gtn=function(a){return this.cmpn(a)===1},s.prototype.gt=function(a){return this.cmp(a)===1},s.prototype.gten=function(a){return this.cmpn(a)>=0},s.prototype.gte=function(a){return this.cmp(a)>=0},s.prototype.ltn=function(a){return this.cmpn(a)===-1},s.prototype.lt=function(a){return this.cmp(a)===-1},s.prototype.lten=function(a){return this.cmpn(a)<=0},s.prototype.lte=function(a){return this.cmp(a)<=0},s.prototype.eqn=function(a){return this.cmpn(a)===0},s.prototype.eq=function(a){return this.cmp(a)===0},s.red=function(a){return new G(a)},s.prototype.toRed=function(a){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},s.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(a){return this.red=a,this},s.prototype.forceRed=function(a){return t(!this.red,"Already a number in reduction context"),this._forceRed(a)},s.prototype.redAdd=function(a){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},s.prototype.redIAdd=function(a){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},s.prototype.redSub=function(a){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},s.prototype.redISub=function(a){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},s.prototype.redShl=function(a){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},s.prototype.redMul=function(a){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},s.prototype.redIMul=function(a){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},s.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(a){return t(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var te={k256:null,p224:null,p192:null,p25519:null};function ee(m,a){this.name=m,this.p=new s(a,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ee.prototype._tmp=function(){var a=new s(null);return a.words=new Array(Math.ceil(this.n/13)),a},ee.prototype.ireduce=function(a){var u=a,d;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),d=u.bitLength();while(d>this.n);var h=d<this.n?-1:u.ucmp(this.p);return h===0?(u.words[0]=0,u.length=1):h>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},ee.prototype.split=function(a,u){a.iushrn(this.n,0,u)},ee.prototype.imulK=function(a){return a.imul(this.k)};function ue(){ee.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(ue,ee),ue.prototype.split=function(a,u){for(var d=4194303,h=Math.min(a.length,9),g=0;g<h;g++)u.words[g]=a.words[g];if(u.length=h,a.length<=9){a.words[0]=0,a.length=1;return}var w=a.words[9];for(u.words[u.length++]=w&d,g=10;g<a.length;g++){var v=a.words[g]|0;a.words[g-10]=(v&d)<<4|w>>>22,w=v}w>>>=22,a.words[g-10]=w,w===0&&a.length>10?a.length-=10:a.length-=9},ue.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,d=0;d<a.length;d++){var h=a.words[d]|0;u+=h*977,a.words[d]=u&67108863,u=h*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function ie(){ee.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(ie,ee);function C(){ee.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(C,ee);function Y(){ee.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Y,ee),Y.prototype.imulK=function(a){for(var u=0,d=0;d<a.length;d++){var h=(a.words[d]|0)*19+u,g=h&67108863;h>>>=26,a.words[d]=g,u=h}return u!==0&&(a.words[a.length++]=u),a},s._prime=function(a){if(te[a])return te[a];var u;if(a==="k256")u=new ue;else if(a==="p224")u=new ie;else if(a==="p192")u=new C;else if(a==="p25519")u=new Y;else throw new Error("Unknown prime "+a);return te[a]=u,u};function G(m){if(typeof m=="string"){var a=s._prime(m);this.m=a.p,this.prime=a}else t(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}G.prototype._verify1=function(a){t(a.negative===0,"red works only with positives"),t(a.red,"red works only with red numbers")},G.prototype._verify2=function(a,u){t((a.negative|u.negative)===0,"red works only with positives"),t(a.red&&a.red===u.red,"red works only with red numbers")},G.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(p(a,a.umod(this.m)._forceRed(this)),a)},G.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},G.prototype.add=function(a,u){this._verify2(a,u);var d=a.add(u);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},G.prototype.iadd=function(a,u){this._verify2(a,u);var d=a.iadd(u);return d.cmp(this.m)>=0&&d.isub(this.m),d},G.prototype.sub=function(a,u){this._verify2(a,u);var d=a.sub(u);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},G.prototype.isub=function(a,u){this._verify2(a,u);var d=a.isub(u);return d.cmpn(0)<0&&d.iadd(this.m),d},G.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},G.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},G.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},G.prototype.isqr=function(a){return this.imul(a,a.clone())},G.prototype.sqr=function(a){return this.mul(a,a)},G.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(t(u%2===1),u===3){var d=this.m.add(new s(1)).iushrn(2);return this.pow(a,d)}for(var h=this.m.subn(1),g=0;!h.isZero()&&h.andln(1)===0;)g++,h.iushrn(1);t(!h.isZero());var w=new s(1).toRed(this),v=w.redNeg(),y=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);this.pow(l,y).cmp(v)!==0;)l.redIAdd(v);for(var b=this.pow(l,h),z=this.pow(a,h.addn(1).iushrn(1)),U=this.pow(a,h),V=g;U.cmp(w)!==0;){for(var X=U,ce=0;X.cmp(w)!==0;ce++)X=X.redSqr();t(ce<V);var ne=this.pow(b,new s(1).iushln(V-ce-1));z=z.redMul(ne),b=ne.redSqr(),U=U.redMul(b),V=ce}return z},G.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},G.prototype.pow=function(a,u){if(u.isZero())return new s(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var d=4,h=new Array(1<<d);h[0]=new s(1).toRed(this),h[1]=a;for(var g=2;g<h.length;g++)h[g]=this.mul(h[g-1],a);var w=h[0],v=0,y=0,l=u.bitLength()%26;for(l===0&&(l=26),g=u.length-1;g>=0;g--){for(var b=u.words[g],z=l-1;z>=0;z--){var U=b>>z&1;if(w!==h[0]&&(w=this.sqr(w)),U===0&&v===0){y=0;continue}v<<=1,v|=U,y++,!(y!==d&&(g!==0||z!==0))&&(w=this.mul(w,h[v]),y=0,v=0)}l=26}return w},G.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},G.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},s.mont=function(a){return new Z(a)};function Z(m){G.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Z,G),Z.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Z.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},Z.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var d=a.imul(u),h=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=d.isub(h).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},Z.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new s(0)._forceRed(this);var d=a.mul(u),h=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=d.isub(h).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},Z.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof mc>"u"||mc,$l)});var Kl=zt((yc,ql)=>{var to=Vs(),_r=to.Buffer;function Vl(r,e){for(var t in r)e[t]=r[t]}_r.from&&_r.alloc&&_r.allocUnsafe&&_r.allocUnsafeSlow?ql.exports=to:(Vl(to,yc),yc.Buffer=Fn);function Fn(r,e,t){return _r(r,e,t)}Fn.prototype=Object.create(_r.prototype);Vl(_r,Fn);Fn.from=function(r,e,t){if(typeof r=="number")throw new TypeError("Argument must not be a number");return _r(r,e,t)};Fn.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError("Argument must be a number");var n=_r(r);return e!==void 0?typeof t=="string"?n.fill(e,t):n.fill(e):n.fill(0),n};Fn.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return _r(r)};Fn.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return to.SlowBuffer(r)}});var jl=zt((wS,Wl)=>{"use strict";var ro=Kl().Buffer;function vg(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=n}var o=r.length,c=r.charAt(0),f=Math.log(o)/Math.log(256),p=Math.log(256)/Math.log(o);function _(S){if((Array.isArray(S)||S instanceof Uint8Array)&&(S=ro.from(S)),!ro.isBuffer(S))throw new TypeError("Expected Buffer");if(S.length===0)return"";for(var A=0,k=0,B=0,T=S.length;B!==T&&S[B]===0;)B++,A++;for(var D=(T-B)*p+1>>>0,L=new Uint8Array(D);B!==T;){for(var K=S[B],te=0,ee=D-1;(K!==0||te<k)&&ee!==-1;ee--,te++)K+=256*L[ee]>>>0,L[ee]=K%o>>>0,K=K/o>>>0;if(K!==0)throw new Error("Non-zero carry");k=te,B++}for(var ue=D-k;ue!==D&&L[ue]===0;)ue++;for(var ie=c.repeat(A);ue<D;++ue)ie+=r.charAt(L[ue]);return ie}function E(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return ro.alloc(0);for(var A=0,k=0,B=0;S[A]===c;)k++,A++;for(var T=(S.length-A)*f+1>>>0,D=new Uint8Array(T);A<S.length;){var L=S.charCodeAt(A);if(L>255)return;var K=e[L];if(K===255)return;for(var te=0,ee=T-1;(K!==0||te<B)&&ee!==-1;ee--,te++)K+=o*D[ee]>>>0,D[ee]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");B=te,A++}for(var ue=T-B;ue!==T&&D[ue]===0;)ue++;var ie=ro.allocUnsafe(k+(T-ue));ie.fill(0,0,k);for(var C=k;ue!==T;)ie[C++]=D[ue++];return ie}function x(S){var A=E(S);if(A)return A;throw new Error("Non-base"+o+" character")}return{encode:_,decodeUnsafe:E,decode:x}}Wl.exports=vg});var _c=zt((ES,Hl)=>{var Sg=jl(),xg="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Hl.exports=Sg(xg)});var Gl=zt(Rc=>{"use strict";function Dr(r,e,t){return e<=r&&r<=t}function ao(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function Ag(r){for(var e=String(r),t=e.length,n=0,s=[];n<t;){var i=e.charCodeAt(n);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(n===t-1)s.push(65533);else{var o=r.charCodeAt(n+1);if(56320<=o&&o<=57343){var c=i&1023,f=o&1023;s.push(65536+(c<<10)+f),n+=1}else s.push(65533)}n+=1}return s}function Ig(r){for(var e="",t=0;t<r.length;++t){var n=r[t];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var no=-1;function Ec(r){this.tokens=[].slice.call(r)}Ec.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():no},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var gs=-1;function wc(r,e){if(r)throw TypeError("Decoder error");return e||65533}var so="utf-8";function io(r,e){if(!(this instanceof io))return new io(r,e);if(r=r!==void 0?String(r).toLowerCase():so,r!==so)throw new Error("Encoding not supported. Only utf-8 is supported");e=ao(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}io.prototype={decode:function(e,t){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),t=ao(t),this._streaming||(this._decoder=new Og({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var s=new Ec(n),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==gs);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===gs)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),Ig(i)}};function oo(r,e){if(!(this instanceof oo))return new oo(r,e);if(r=r!==void 0?String(r).toLowerCase():so,r!==so)throw new Error("Encoding not supported. Only utf-8 is supported");e=ao(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}oo.prototype={encode:function(e,t){e=e?String(e):"",t=ao(t),this._streaming||(this._encoder=new kg(this._options)),this._streaming=!!t.stream;for(var n=[],s=new Ec(Ag(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==gs);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==gs;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function Og(r){var e=r.fatal,t=0,n=0,s=0,i=128,o=191;this.handler=function(c,f){if(f===no&&s!==0)return s=0,wc(e);if(f===no)return gs;if(s===0){if(Dr(f,0,127))return f;if(Dr(f,194,223))s=1,t=f-192;else if(Dr(f,224,239))f===224&&(i=160),f===237&&(o=159),s=2,t=f-224;else if(Dr(f,240,244))f===240&&(i=144),f===244&&(o=143),s=3,t=f-240;else return wc(e);return t=t<<6*s,null}if(!Dr(f,i,o))return t=s=n=0,i=128,o=191,c.prepend(f),wc(e);if(i=128,o=191,n+=1,t+=f-128<<6*(s-n),n!==s)return null;var p=t;return t=s=n=0,p}}function kg(r){var e=r.fatal;this.handler=function(t,n){if(n===no)return gs;if(Dr(n,0,127))return n;var s,i;Dr(n,128,2047)?(s=1,i=192):Dr(n,2048,65535)?(s=2,i=224):Dr(n,65536,1114111)&&(s=3,i=240);for(var o=[(n>>6*s)+i];s>0;){var c=n>>6*(s-1);o.push(128|c&63),s-=1}return o}}Rc.TextEncoder=oo;Rc.TextDecoder=io});var Ql=zt(Ee=>{"use strict";var Tg=Ee&&Ee.__createBinding||(Object.create?(function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}):(function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]})),Ng=Ee&&Ee.__setModuleDefault||(Object.create?(function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}):function(r,e){r.default=e}),br=Ee&&Ee.__decorate||function(r,e,t,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Bg=Ee&&Ee.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&Tg(e,r,t);return Ng(e,r),e},Zl=Ee&&Ee.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.deserializeUnchecked=Ee.deserialize=Ee.serialize=Ee.BinaryReader=Ee.BinaryWriter=Ee.BorshError=Ee.baseDecode=Ee.baseEncode=void 0;var sn=Zl(gc()),Yl=Zl(_c()),Lg=Bg(Gl()),Cg=typeof TextDecoder!="function"?Lg.TextDecoder:TextDecoder,Mg=new Cg("utf-8",{fatal:!0});function Pg(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),Yl.default.encode(Buffer.from(r))}Ee.baseEncode=Pg;function Ug(r){return Buffer.from(Yl.default.decode(r))}Ee.baseDecode=Ug;var vc=1024,bt=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Ee.BorshError=bt;var co=class{constructor(){this.buf=Buffer.alloc(vc),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(vc)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new sn.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new sn.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new sn.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new sn.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(vc)]),this.length+=e.length}writeString(e){this.maybeResize();let t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}};Ee.BinaryWriter=co;function wr(r,e,t){let n=t.value;t.value=function(...s){try{return n.apply(this,s)}catch(i){if(i instanceof RangeError){let o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new bt("Reached the end of buffer when deserializing")}throw i}}}var Pt=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new sn.default(e,"le")}readU128(){let e=this.readBuffer(16);return new sn.default(e,"le")}readU256(){let e=this.readBuffer(32);return new sn.default(e,"le")}readU512(){let e=this.readBuffer(64);return new sn.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new bt(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return Mg.decode(t)}catch(n){throw new bt(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),n=Array();for(let s=0;s<t;++s)n.push(e());return n}};br([wr],Pt.prototype,"readU8",null);br([wr],Pt.prototype,"readU16",null);br([wr],Pt.prototype,"readU32",null);br([wr],Pt.prototype,"readU64",null);br([wr],Pt.prototype,"readU128",null);br([wr],Pt.prototype,"readU256",null);br([wr],Pt.prototype,"readU512",null);br([wr],Pt.prototype,"readString",null);br([wr],Pt.prototype,"readFixedArray",null);br([wr],Pt.prototype,"readArray",null);Ee.BinaryReader=Pt;function Xl(r){return r.charAt(0).toUpperCase()+r.slice(1)}function $n(r,e,t,n,s){try{if(typeof n=="string")s[`write${Xl(n)}`](t);else if(n instanceof Array)if(typeof n[0]=="number"){if(t.length!==n[0])throw new bt(`Expecting byte array of length ${n[0]}, but got ${t.length} bytes`);s.writeFixedArray(t)}else if(n.length===2&&typeof n[1]=="number"){if(t.length!==n[1])throw new bt(`Expecting byte array of length ${n[1]}, but got ${t.length} bytes`);for(let i=0;i<n[1];i++)$n(r,null,t[i],n[0],s)}else s.writeArray(t,i=>{$n(r,e,i,n[0],s)});else if(n.kind!==void 0)switch(n.kind){case"option":{t==null?s.writeU8(0):(s.writeU8(1),$n(r,e,t,n.type,s));break}case"map":{s.writeU32(t.size),t.forEach((i,o)=>{$n(r,e,o,n.key,s),$n(r,e,i,n.value,s)});break}default:throw new bt(`FieldType ${n} unrecognized`)}else Jl(r,t,s)}catch(i){throw i instanceof bt&&i.addToFieldPath(e),i}}function Jl(r,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}let n=r.get(e.constructor);if(!n)throw new bt(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([s,i])=>{$n(r,s,e[s],i,t)});else if(n.kind==="enum"){let s=e[n.field];for(let i=0;i<n.values.length;++i){let[o,c]=n.values[i];if(o===s){t.writeU8(i),$n(r,o,e[o],c,t);break}}}else throw new bt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Dg(r,e,t=co){let n=new t;return Jl(r,e,n),n.toArray()}Ee.serialize=Dg;function Vn(r,e,t,n){try{if(typeof t=="string")return n[`read${Xl(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return n.readFixedArray(t[0]);if(typeof t[1]=="number"){let s=[];for(let i=0;i<t[1];i++)s.push(Vn(r,null,t[0],n));return s}else return n.readArray(()=>Vn(r,e,t[0],n))}if(t.kind==="option")return n.readU8()?Vn(r,e,t.type,n):void 0;if(t.kind==="map"){let s=new Map,i=n.readU32();for(let o=0;o<i;o++){let c=Vn(r,e,t.key,n),f=Vn(r,e,t.value,n);s.set(c,f)}return s}return Sc(r,t,n)}catch(s){throw s instanceof bt&&s.addToFieldPath(e),s}}function Sc(r,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);let n=r.get(e);if(!n)throw new bt(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let s={};for(let[i,o]of r.get(e).fields)s[i]=Vn(r,i,o,t);return new e(s)}if(n.kind==="enum"){let s=t.readU8();if(s>=n.values.length)throw new bt(`Enum index: ${s} is out of range`);let[i,o]=n.values[s],c=Vn(r,i,o,t);return new e({[i]:c})}throw new bt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function zg(r,e,t,n=Pt){let s=new n(t),i=Sc(r,e,s);if(s.offset<t.length)throw new bt(`Unexpected ${t.length-s.offset} bytes after deserialized data`);return i}Ee.deserialize=zg;function Fg(r,e,t,n=Pt){let s=new n(t);return Sc(r,e,s)}Ee.deserializeUnchecked=Fg});var Oc=zt(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.s16=O.s8=O.nu64be=O.u48be=O.u40be=O.u32be=O.u24be=O.u16be=O.nu64=O.u48=O.u40=O.u32=O.u24=O.u16=O.u8=O.offset=O.greedy=O.Constant=O.UTF8=O.CString=O.Blob=O.Boolean=O.BitField=O.BitStructure=O.VariantLayout=O.Union=O.UnionLayoutDiscriminator=O.UnionDiscriminator=O.Structure=O.Sequence=O.DoubleBE=O.Double=O.FloatBE=O.Float=O.NearInt64BE=O.NearInt64=O.NearUInt64BE=O.NearUInt64=O.IntBE=O.Int=O.UIntBE=O.UInt=O.OffsetLayout=O.GreedyCount=O.ExternalLayout=O.bindConstructorLayout=O.nameWithProperty=O.Layout=O.uint8ArrayToBuffer=O.checkUint8Array=void 0;O.constant=O.utf8=O.cstr=O.blob=O.unionLayoutDiscriminator=O.union=O.seq=O.bits=O.struct=O.f64be=O.f64=O.f32be=O.f32=O.ns64be=O.s48be=O.s40be=O.s32be=O.s24be=O.s16be=O.ns64=O.s48=O.s40=O.s32=O.s24=void 0;var Ac=Vs();function bs(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}O.checkUint8Array=bs;function ge(r){return bs(r),Ac.Buffer.from(r.buffer,r.byteOffset,r.length)}O.uint8ArrayToBuffer=ge;var be=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};O.Layout=be;function Ic(r,e){return e.property?r+"["+e.property+"]":r}O.nameWithProperty=Ic;function $g(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof be))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=(()=>new r),Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}O.bindConstructorLayout=$g;var xt=class extends be{isCount(){throw new Error("ExternalLayout is abstract")}};O.ExternalLayout=xt;var uo=class extends xt{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){bs(e);let n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}};O.GreedyCount=uo;var Js=class extends xt{constructor(e,t=0,n){if(!(e instanceof be))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Kt||this.layout instanceof Ht}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}};O.OffsetLayout=Js;var Kt=class extends be{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return ge(e).readUIntLE(t,this.span)}encode(e,t,n=0){return ge(t).writeUIntLE(e,n,this.span),this.span}};O.UInt=Kt;var Ht=class extends be{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return ge(e).readUIntBE(t,this.span)}encode(e,t,n=0){return ge(t).writeUIntBE(e,n,this.span),this.span}};O.UIntBE=Ht;var zr=class extends be{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return ge(e).readIntLE(t,this.span)}encode(e,t,n=0){return ge(t).writeIntLE(e,n,this.span),this.span}};O.Int=zr;var on=class extends be{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return ge(e).readIntBE(t,this.span)}encode(e,t,n=0){return ge(t).writeIntBE(e,n,this.span),this.span}};O.IntBE=on;var xc=Math.pow(2,32);function Io(r){let e=Math.floor(r/xc),t=r-e*xc;return{hi32:e,lo32:t}}function Oo(r,e){return r*xc+e}var fo=class extends be{constructor(e){super(8,e)}decode(e,t=0){let n=ge(e),s=n.readUInt32LE(t),i=n.readUInt32LE(t+4);return Oo(i,s)}encode(e,t,n=0){let s=Io(e),i=ge(t);return i.writeUInt32LE(s.lo32,n),i.writeUInt32LE(s.hi32,n+4),8}};O.NearUInt64=fo;var lo=class extends be{constructor(e){super(8,e)}decode(e,t=0){let n=ge(e),s=n.readUInt32BE(t),i=n.readUInt32BE(t+4);return Oo(s,i)}encode(e,t,n=0){let s=Io(e),i=ge(t);return i.writeUInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}};O.NearUInt64BE=lo;var ho=class extends be{constructor(e){super(8,e)}decode(e,t=0){let n=ge(e),s=n.readUInt32LE(t),i=n.readInt32LE(t+4);return Oo(i,s)}encode(e,t,n=0){let s=Io(e),i=ge(t);return i.writeUInt32LE(s.lo32,n),i.writeInt32LE(s.hi32,n+4),8}};O.NearInt64=ho;var po=class extends be{constructor(e){super(8,e)}decode(e,t=0){let n=ge(e),s=n.readInt32BE(t),i=n.readUInt32BE(t+4);return Oo(s,i)}encode(e,t,n=0){let s=Io(e),i=ge(t);return i.writeInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}};O.NearInt64BE=po;var mo=class extends be{constructor(e){super(4,e)}decode(e,t=0){return ge(e).readFloatLE(t)}encode(e,t,n=0){return ge(t).writeFloatLE(e,n),4}};O.Float=mo;var go=class extends be{constructor(e){super(4,e)}decode(e,t=0){return ge(e).readFloatBE(t)}encode(e,t,n=0){return ge(t).writeFloatBE(e,n),4}};O.FloatBE=go;var yo=class extends be{constructor(e){super(8,e)}decode(e,t=0){return ge(e).readDoubleLE(t)}encode(e,t,n=0){return ge(t).writeDoubleLE(e,n),8}};O.Double=yo;var _o=class extends be{constructor(e){super(8,e)}decode(e,t=0){return ge(e).readDoubleBE(t)}encode(e,t,n=0){return ge(t).writeDoubleBE(e,n),8}};O.DoubleBE=_o;var bo=class extends be{constructor(e,t,n){if(!(e instanceof be))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof xt&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(t instanceof xt)&&0<e.span&&(s=t*e.span),super(s,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,s=this.count;if(s instanceof xt&&(s=s.decode(e,t)),0<this.elementLayout.span)n=s*this.elementLayout.span;else{let i=0;for(;i<s;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t=0){let n=[],s=0,i=this.count;for(i instanceof xt&&(i=i.decode(e,t));s<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),s+=1;return n}encode(e,t,n=0){let s=this.elementLayout,i=e.reduce((o,c)=>o+s.encode(c,t,n+o),0);return this.count instanceof xt&&this.count.encode(e.length,t,n),i}};O.Sequence=bo;var wo=class extends be{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((i,o)=>i&&o instanceof be,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(let i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((s,i)=>{let o=i.getSpan(e,t);return t+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t=0){bs(e);let n=this.makeDestinationObject();for(let s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(e,t)),t+=s.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){let s=n,i=0,o=0;for(let c of this.fields){let f=c.span;if(o=0<f?f:0,c.property!==void 0){let p=e[c.property];p!==void 0&&(o=c.encode(p,t,n),0>f&&(f=c.getSpan(t,n)))}i=n,n+=f}return i+o-s}fromArray(e){let t=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(let n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}};O.Structure=wo;var Qs=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}};O.UnionDiscriminator=Qs;var _s=class extends Qs{constructor(e,t){if(!(e instanceof xt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}};O.UnionLayoutDiscriminator=_s;var ei=class extends be{constructor(e,t,n){let s;if(e instanceof Kt||e instanceof Ht)s=new _s(new Js(e));else if(e instanceof xt&&e.isCount())s=new _s(e);else if(e instanceof Qs)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof be))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof Kt||e instanceof Ht)&&(i+=s.layout.span)),super(i,n),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof Kt||e instanceof Ht,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return o(c)},this.configGetSourceVariant=function(c){o=c.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n,s=this.discriminator,i=s.decode(e,t),o=this.registry[i];if(o===void 0){let c=this.defaultLayout,f=0;this.usesPrefixDiscriminator&&(f=s.layout.span),n=this.makeDestinationObject(),n[s.property]=i,n[c.property]=c.decode(e,t+f)}else n=o.decode(e,t);return n}encode(e,t,n=0){let s=this.getSourceVariant(e);if(s===void 0){let i=this.discriminator,o=this.defaultLayout,c=0;return this.usesPrefixDiscriminator&&(c=i.layout.span),i.encode(e[i.property],t,n),c+o.encode(e[o.property],t,n+c)}return s.encode(e,t,n)}addVariant(e,t,n){let s=new Eo(this,e,t,n);return this.registry[e]=s,s}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}};O.Union=ei;var Eo=class extends be{constructor(e,t,n,s){if(!(e instanceof ei))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof be))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,t+n)),n+s}decode(e,t=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=s;if(this.layout&&(this.layout.encode(e[this.property],t,n+s),i+=this.layout.getSpan(t,n+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};O.VariantLayout=Eo;function ys(r){return 0>r&&(r+=4294967296),r}var ti=class extends be{constructor(e,t,n){if(!(e instanceof Kt||e instanceof Ht))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let s=0;this._packedSetValue=function(i){return s=ys(i),this},this._packedGetValue=function(){return s}}decode(e,t=0){let n=this.makeDestinationObject(),s=this.word.decode(e,t);this._packedSetValue(s);for(let i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(e));return n}encode(e,t,n=0){let s=this.word.decode(t,n);this._packedSetValue(s);for(let i of this.fields)if(i.property!==void 0){let o=e[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){let n=new ri(this,e,t);return this.fields.push(n),n}addBoolean(e){let t=new Ro(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}};O.BitStructure=ti;var ri=class{constructor(e,t,n){if(!(e instanceof ti))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");let s=8*e.span,i=e.fields.reduce((o,c)=>o+c.bits,0);if(t+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-t),this.wordMask=ys(this.valueMask<<this.start),this.property=n}decode(e,t){let n=this.container._packedGetValue();return ys(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==ys(e&this.valueMask))throw new TypeError(Ic("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),n=ys(e<<this.start);this.container._packedSetValue(ys(t&~this.wordMask)|n)}};O.BitField=ri;var Ro=class extends ri{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};O.Boolean=Ro;var vo=class extends be{constructor(e,t){if(!(e instanceof xt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof xt||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),ge(e).slice(t,t+n)}encode(e,t,n){let s=this.length;if(this.length instanceof xt&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(Ic("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(n+s>t.length)throw new RangeError("encoding overruns Uint8Array");let i=ge(e);return ge(t).write(i.toString("hex"),n,s,"hex"),this.length instanceof xt&&this.length.encode(s,t,n),s}};O.Blob=vo;var So=class extends be{constructor(e){super(-1,e)}getSpan(e,t=0){bs(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){let n=this.getSpan(e,t);return ge(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let s=Ac.Buffer.from(e,"utf8"),i=s.length;if(n+i>t.length)throw new RangeError("encoding overruns Buffer");let o=ge(t);return s.copy(o,n),o[n+i]=0,i+1}};O.CString=So;var xo=class extends be{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return bs(e),e.length-t}decode(e,t=0){let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return ge(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let s=Ac.Buffer.from(e,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return s.copy(ge(t),n),i}};O.UTF8=xo;var Ao=class extends be{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}};O.Constant=Ao;O.greedy=((r,e)=>new uo(r,e));O.offset=((r,e,t)=>new Js(r,e,t));O.u8=(r=>new Kt(1,r));O.u16=(r=>new Kt(2,r));O.u24=(r=>new Kt(3,r));O.u32=(r=>new Kt(4,r));O.u40=(r=>new Kt(5,r));O.u48=(r=>new Kt(6,r));O.nu64=(r=>new fo(r));O.u16be=(r=>new Ht(2,r));O.u24be=(r=>new Ht(3,r));O.u32be=(r=>new Ht(4,r));O.u40be=(r=>new Ht(5,r));O.u48be=(r=>new Ht(6,r));O.nu64be=(r=>new lo(r));O.s8=(r=>new zr(1,r));O.s16=(r=>new zr(2,r));O.s24=(r=>new zr(3,r));O.s32=(r=>new zr(4,r));O.s40=(r=>new zr(5,r));O.s48=(r=>new zr(6,r));O.ns64=(r=>new ho(r));O.s16be=(r=>new on(2,r));O.s24be=(r=>new on(3,r));O.s32be=(r=>new on(4,r));O.s40be=(r=>new on(5,r));O.s48be=(r=>new on(6,r));O.ns64be=(r=>new po(r));O.f32=(r=>new mo(r));O.f32be=(r=>new go(r));O.f64=(r=>new yo(r));O.f64be=(r=>new _o(r));O.struct=((r,e,t)=>new wo(r,e,t));O.bits=((r,e,t)=>new ti(r,e,t));O.seq=((r,e,t)=>new bo(r,e,t));O.union=((r,e,t)=>new ei(r,e,t));O.unionLayoutDiscriminator=((r,e)=>new _s(r,e));O.blob=((r,e)=>new vo(r,e));O.cstr=(r=>new So(r));O.utf8=((r,e)=>new xo(r,e));O.constant=((r,e)=>new Ao(r,e))});function ii(){if(!Bo&&(Bo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Bo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bo(t1)}var Bo,t1,zc=Lt(()=>{t1=new Uint8Array(16)});var _d,bd=Lt(()=>{_d=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function r1(r){return typeof r=="string"&&_d.test(r)}var cn,oi=Lt(()=>{bd();cn=r1});function n1(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(wt[r[e+0]]+wt[r[e+1]]+wt[r[e+2]]+wt[r[e+3]]+"-"+wt[r[e+4]]+wt[r[e+5]]+"-"+wt[r[e+6]]+wt[r[e+7]]+"-"+wt[r[e+8]]+wt[r[e+9]]+"-"+wt[r[e+10]]+wt[r[e+11]]+wt[r[e+12]]+wt[r[e+13]]+wt[r[e+14]]+wt[r[e+15]]).toLowerCase();if(!cn(t))throw TypeError("Stringified UUID is invalid");return t}var wt,Lo,un,ai=Lt(()=>{oi();wt=[];for(Lo=0;Lo<256;++Lo)wt.push((Lo+256).toString(16).substr(1));un=n1});function s1(r,e,t){var n=e&&t||0,s=e||new Array(16);r=r||{};var i=r.node||wd,o=r.clockseq!==void 0?r.clockseq:Fc;if(i==null||o==null){var c=r.random||(r.rng||ii)();i==null&&(i=wd=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),o==null&&(o=Fc=(c[6]<<8|c[7])&16383)}var f=r.msecs!==void 0?r.msecs:Date.now(),p=r.nsecs!==void 0?r.nsecs:Vc+1,_=f-$c+(p-Vc)/1e4;if(_<0&&r.clockseq===void 0&&(o=o+1&16383),(_<0||f>$c)&&r.nsecs===void 0&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");$c=f,Vc=p,Fc=o,f+=122192928e5;var E=((f&268435455)*1e4+p)%4294967296;s[n++]=E>>>24&255,s[n++]=E>>>16&255,s[n++]=E>>>8&255,s[n++]=E&255;var x=f/4294967296*1e4&268435455;s[n++]=x>>>8&255,s[n++]=x&255,s[n++]=x>>>24&15|16,s[n++]=x>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(var S=0;S<6;++S)s[n+S]=i[S];return e||un(s)}var wd,Fc,$c,Vc,Ed,Rd=Lt(()=>{zc();ai();$c=0,Vc=0;Ed=s1});function i1(r){if(!cn(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var Co,qc=Lt(()=>{oi();Co=i1});function o1(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function Mo(r,e,t){function n(s,i,o,c){if(typeof s=="string"&&(s=o1(s)),typeof i=="string"&&(i=Co(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var f=new Uint8Array(16+s.length);if(f.set(i),f.set(s,i.length),f=t(f),f[6]=f[6]&15|e,f[8]=f[8]&63|128,o){c=c||0;for(var p=0;p<16;++p)o[c+p]=f[p];return o}return un(f)}try{n.name=r}catch{}return n.DNS=a1,n.URL=c1,n}var a1,c1,Kc=Lt(()=>{ai();qc();a1="6ba7b810-9dad-11d1-80b4-00c04fd430c8",c1="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function u1(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return f1(l1(d1(r),r.length*8))}function f1(r){for(var e=[],t=r.length*32,n="0123456789abcdef",s=0;s<t;s+=8){var i=r[s>>5]>>>s%32&255,o=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);e.push(o)}return e}function vd(r){return(r+64>>>9<<4)+14+1}function l1(r,e){r[e>>5]|=128<<e%32,r[vd(e)-1]=e;for(var t=1732584193,n=-271733879,s=-1732584194,i=271733878,o=0;o<r.length;o+=16){var c=t,f=n,p=s,_=i;t=It(t,n,s,i,r[o],7,-680876936),i=It(i,t,n,s,r[o+1],12,-389564586),s=It(s,i,t,n,r[o+2],17,606105819),n=It(n,s,i,t,r[o+3],22,-1044525330),t=It(t,n,s,i,r[o+4],7,-176418897),i=It(i,t,n,s,r[o+5],12,1200080426),s=It(s,i,t,n,r[o+6],17,-1473231341),n=It(n,s,i,t,r[o+7],22,-45705983),t=It(t,n,s,i,r[o+8],7,1770035416),i=It(i,t,n,s,r[o+9],12,-1958414417),s=It(s,i,t,n,r[o+10],17,-42063),n=It(n,s,i,t,r[o+11],22,-1990404162),t=It(t,n,s,i,r[o+12],7,1804603682),i=It(i,t,n,s,r[o+13],12,-40341101),s=It(s,i,t,n,r[o+14],17,-1502002290),n=It(n,s,i,t,r[o+15],22,1236535329),t=Ot(t,n,s,i,r[o+1],5,-165796510),i=Ot(i,t,n,s,r[o+6],9,-1069501632),s=Ot(s,i,t,n,r[o+11],14,643717713),n=Ot(n,s,i,t,r[o],20,-373897302),t=Ot(t,n,s,i,r[o+5],5,-701558691),i=Ot(i,t,n,s,r[o+10],9,38016083),s=Ot(s,i,t,n,r[o+15],14,-660478335),n=Ot(n,s,i,t,r[o+4],20,-405537848),t=Ot(t,n,s,i,r[o+9],5,568446438),i=Ot(i,t,n,s,r[o+14],9,-1019803690),s=Ot(s,i,t,n,r[o+3],14,-187363961),n=Ot(n,s,i,t,r[o+8],20,1163531501),t=Ot(t,n,s,i,r[o+13],5,-1444681467),i=Ot(i,t,n,s,r[o+2],9,-51403784),s=Ot(s,i,t,n,r[o+7],14,1735328473),n=Ot(n,s,i,t,r[o+12],20,-1926607734),t=kt(t,n,s,i,r[o+5],4,-378558),i=kt(i,t,n,s,r[o+8],11,-2022574463),s=kt(s,i,t,n,r[o+11],16,1839030562),n=kt(n,s,i,t,r[o+14],23,-35309556),t=kt(t,n,s,i,r[o+1],4,-1530992060),i=kt(i,t,n,s,r[o+4],11,1272893353),s=kt(s,i,t,n,r[o+7],16,-155497632),n=kt(n,s,i,t,r[o+10],23,-1094730640),t=kt(t,n,s,i,r[o+13],4,681279174),i=kt(i,t,n,s,r[o],11,-358537222),s=kt(s,i,t,n,r[o+3],16,-722521979),n=kt(n,s,i,t,r[o+6],23,76029189),t=kt(t,n,s,i,r[o+9],4,-640364487),i=kt(i,t,n,s,r[o+12],11,-421815835),s=kt(s,i,t,n,r[o+15],16,530742520),n=kt(n,s,i,t,r[o+2],23,-995338651),t=Tt(t,n,s,i,r[o],6,-198630844),i=Tt(i,t,n,s,r[o+7],10,1126891415),s=Tt(s,i,t,n,r[o+14],15,-1416354905),n=Tt(n,s,i,t,r[o+5],21,-57434055),t=Tt(t,n,s,i,r[o+12],6,1700485571),i=Tt(i,t,n,s,r[o+3],10,-1894986606),s=Tt(s,i,t,n,r[o+10],15,-1051523),n=Tt(n,s,i,t,r[o+1],21,-2054922799),t=Tt(t,n,s,i,r[o+8],6,1873313359),i=Tt(i,t,n,s,r[o+15],10,-30611744),s=Tt(s,i,t,n,r[o+6],15,-1560198380),n=Tt(n,s,i,t,r[o+13],21,1309151649),t=Tt(t,n,s,i,r[o+4],6,-145523070),i=Tt(i,t,n,s,r[o+11],10,-1120210379),s=Tt(s,i,t,n,r[o+2],15,718787259),n=Tt(n,s,i,t,r[o+9],21,-343485551),t=fn(t,c),n=fn(n,f),s=fn(s,p),i=fn(i,_)}return[t,n,s,i]}function d1(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(vd(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function fn(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function h1(r,e){return r<<e|r>>>32-e}function Po(r,e,t,n,s,i){return fn(h1(fn(fn(e,r),fn(n,i)),s),t)}function It(r,e,t,n,s,i,o){return Po(e&t|~e&n,r,e,s,i,o)}function Ot(r,e,t,n,s,i,o){return Po(e&n|t&~n,r,e,s,i,o)}function kt(r,e,t,n,s,i,o){return Po(e^t^n,r,e,s,i,o)}function Tt(r,e,t,n,s,i,o){return Po(t^(e|~n),r,e,s,i,o)}var Sd,xd=Lt(()=>{Sd=u1});var p1,Ad,Id=Lt(()=>{Kc();xd();p1=Mo("v3",48,Sd),Ad=p1});function m1(r,e,t){r=r||{};var n=r.random||(r.rng||ii)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var s=0;s<16;++s)e[t+s]=n[s];return e}return un(n)}var Od,kd=Lt(()=>{zc();ai();Od=m1});function g1(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function Wc(r,e){return r<<e|r>>>32-e}function y1(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var s=0;s<n.length;++s)r.push(n.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var i=r.length/4+2,o=Math.ceil(i/16),c=new Array(o),f=0;f<o;++f){for(var p=new Uint32Array(16),_=0;_<16;++_)p[_]=r[f*64+_*4]<<24|r[f*64+_*4+1]<<16|r[f*64+_*4+2]<<8|r[f*64+_*4+3];c[f]=p}c[o-1][14]=(r.length-1)*8/Math.pow(2,32),c[o-1][14]=Math.floor(c[o-1][14]),c[o-1][15]=(r.length-1)*8&4294967295;for(var E=0;E<o;++E){for(var x=new Uint32Array(80),S=0;S<16;++S)x[S]=c[E][S];for(var A=16;A<80;++A)x[A]=Wc(x[A-3]^x[A-8]^x[A-14]^x[A-16],1);for(var k=t[0],B=t[1],T=t[2],D=t[3],L=t[4],K=0;K<80;++K){var te=Math.floor(K/20),ee=Wc(k,5)+g1(te,B,T,D)+L+e[te]+x[K]>>>0;L=D,D=T,T=Wc(B,30)>>>0,B=k,k=ee}t[0]=t[0]+k>>>0,t[1]=t[1]+B>>>0,t[2]=t[2]+T>>>0,t[3]=t[3]+D>>>0,t[4]=t[4]+L>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var Td,Nd=Lt(()=>{Td=y1});var _1,Bd,Ld=Lt(()=>{Kc();Nd();_1=Mo("v5",80,Td),Bd=_1});var Cd,Md=Lt(()=>{Cd="00000000-0000-0000-0000-000000000000"});function b1(r){if(!cn(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var Pd,Ud=Lt(()=>{oi();Pd=b1});var jc={};Li(jc,{NIL:()=>Cd,parse:()=>Co,stringify:()=>un,v1:()=>Ed,v3:()=>Ad,v4:()=>Od,v5:()=>Bd,validate:()=>cn,version:()=>Pd});var Hc=Lt(()=>{Rd();Id();kd();Ld();Md();Ud();oi();ai();qc()});var zd=zt((Rx,Dd)=>{"use strict";var w1=(Hc(),hf(jc)).v4,E1=function(r,e,t,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};let s=typeof n.version=="number"?n.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");let i={method:r};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof t>"u"){let o=typeof n.generator=="function"?n.generator:function(){return w1()};i.id=o(i,n)}else s===2&&t===null?n.notificationIdNull&&(i.id=null):i.id=t;return i};Dd.exports=E1});var $d=zt((vx,Fd)=>{"use strict";var R1=(Hc(),hf(jc)).v4,v1=zd(),ci=function(r,e){if(!(this instanceof ci))return new ci(r,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return R1()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=r};Fd.exports=ci;ci.prototype.request=function(r,e,t,n){let s=this,i=null,o=Array.isArray(r)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&r&&typeof r=="object"&&typeof e=="function")n=e,i=r;else{typeof t=="function"&&(n=t,t=void 0);let p=typeof n=="function";try{i=v1(r,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(_){if(p)return n(_);throw _}if(!p)return i}let f;try{f=JSON.stringify(i,this.options.replacer)}catch(p){return n(p)}return this.callServer(f,function(p,_){s._parseResponse(p,_,n)}),i};ci.prototype._parseResponse=function(r,e,t){if(r){t(r);return}if(!e)return t();let n;try{n=JSON.parse(e,this.options.reviver)}catch(s){return t(s)}if(t.length===3)if(Array.isArray(n)){let s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return t(null,n.filter(s),n.filter(i))}else return t(null,n.error,n.result);t(null,n)}});var qd=zt((Sx,Gc)=>{"use strict";var S1=Object.prototype.hasOwnProperty,Ut="~";function ui(){}Object.create&&(ui.prototype=Object.create(null),new ui().__proto__||(Ut=!1));function x1(r,e,t){this.fn=r,this.context=e,this.once=t||!1}function Vd(r,e,t,n,s){if(typeof t!="function")throw new TypeError("The listener must be a function");var i=new x1(t,n||r,s),o=Ut?Ut+e:e;return r._events[o]?r._events[o].fn?r._events[o]=[r._events[o],i]:r._events[o].push(i):(r._events[o]=i,r._eventsCount++),r}function Uo(r,e){--r._eventsCount===0?r._events=new ui:delete r._events[e]}function Nt(){this._events=new ui,this._eventsCount=0}Nt.prototype.eventNames=function(){var e=[],t,n;if(this._eventsCount===0)return e;for(n in t=this._events)S1.call(t,n)&&e.push(Ut?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};Nt.prototype.listeners=function(e){var t=Ut?Ut+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var s=0,i=n.length,o=new Array(i);s<i;s++)o[s]=n[s].fn;return o};Nt.prototype.listenerCount=function(e){var t=Ut?Ut+e:e,n=this._events[t];return n?n.fn?1:n.length:0};Nt.prototype.emit=function(e,t,n,s,i,o){var c=Ut?Ut+e:e;if(!this._events[c])return!1;var f=this._events[c],p=arguments.length,_,E;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),p){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,s),!0;case 5:return f.fn.call(f.context,t,n,s,i),!0;case 6:return f.fn.call(f.context,t,n,s,i,o),!0}for(E=1,_=new Array(p-1);E<p;E++)_[E-1]=arguments[E];f.fn.apply(f.context,_)}else{var x=f.length,S;for(E=0;E<x;E++)switch(f[E].once&&this.removeListener(e,f[E].fn,void 0,!0),p){case 1:f[E].fn.call(f[E].context);break;case 2:f[E].fn.call(f[E].context,t);break;case 3:f[E].fn.call(f[E].context,t,n);break;case 4:f[E].fn.call(f[E].context,t,n,s);break;default:if(!_)for(S=1,_=new Array(p-1);S<p;S++)_[S-1]=arguments[S];f[E].fn.apply(f[E].context,_)}}return!0};Nt.prototype.on=function(e,t,n){return Vd(this,e,t,n,!1)};Nt.prototype.once=function(e,t,n){return Vd(this,e,t,n,!0)};Nt.prototype.removeListener=function(e,t,n,s){var i=Ut?Ut+e:e;if(!this._events[i])return this;if(!t)return Uo(this,i),this;var o=this._events[i];if(o.fn)o.fn===t&&(!s||o.once)&&(!n||o.context===n)&&Uo(this,i);else{for(var c=0,f=[],p=o.length;c<p;c++)(o[c].fn!==t||s&&!o[c].once||n&&o[c].context!==n)&&f.push(o[c]);f.length?this._events[i]=f.length===1?f[0]:f:Uo(this,i)}return this};Nt.prototype.removeAllListeners=function(e){var t;return e?(t=Ut?Ut+e:e,this._events[t]&&Uo(this,t)):(this._events=new ui,this._eventsCount=0),this};Nt.prototype.off=Nt.prototype.removeListener;Nt.prototype.addListener=Nt.prototype.on;Nt.prefixed=Ut;Nt.EventEmitter=Nt;typeof Gc<"u"&&(Gc.exports=Nt)});var Ms={};Li(Ms,{InvalidDomainManifest:()=>ka,RejectedByUser:()=>Ta});var hn=class extends Error{constructor(t,n={}){super(t,n.cause?{cause:n.cause}:void 0);Xt(this,"name","BaseError");Xt(this,"cause");this.cause=n.cause}};var ka=class extends hn{constructor(){super("Invalid domain manifest");Xt(this,"name","AddMiniApp.InvalidDomainManifest")}},Ta=class extends hn{constructor(){super("Add miniapp rejected by user");Xt(this,"name","AddMiniApp.RejectedByUser")}};var Yn={};Li(Yn,{RejectedByUser:()=>Na});var Na=class extends hn{constructor(){super("Sign in rejected by user");Xt(this,"name","SignIn.RejectedByUser")}};var $={};Li($,{BRAND:()=>Gp,DIRTY:()=>pn,EMPTY_PATH:()=>Ap,INVALID:()=>re,NEVER:()=>B0,OK:()=>St,ParseStatus:()=>gt,Schema:()=>de,ZodAny:()=>jr,ZodArray:()=>Ar,ZodBigInt:()=>gn,ZodBoolean:()=>yn,ZodBranded:()=>Us,ZodCatch:()=>On,ZodDate:()=>_n,ZodDefault:()=>In,ZodDiscriminatedUnion:()=>Pi,ZodEffects:()=>er,ZodEnum:()=>xn,ZodError:()=>Ft,ZodFirstPartyTypeKind:()=>se,ZodFunction:()=>Di,ZodIntersection:()=>Rn,ZodIssueCode:()=>P,ZodLazy:()=>vn,ZodLiteral:()=>Sn,ZodMap:()=>rs,ZodNaN:()=>ss,ZodNativeEnum:()=>An,ZodNever:()=>or,ZodNull:()=>wn,ZodNullable:()=>pr,ZodNumber:()=>mn,ZodObject:()=>$t,ZodOptional:()=>Jt,ZodParsedType:()=>W,ZodPipeline:()=>Ds,ZodPromise:()=>Hr,ZodReadonly:()=>kn,ZodRecord:()=>Ui,ZodSchema:()=>de,ZodSet:()=>ns,ZodString:()=>Wr,ZodSymbol:()=>es,ZodTransformer:()=>er,ZodTuple:()=>hr,ZodType:()=>de,ZodUndefined:()=>bn,ZodUnion:()=>En,ZodUnknown:()=>xr,ZodVoid:()=>ts,addIssueToContext:()=>q,any:()=>n0,array:()=>a0,bigint:()=>Jp,boolean:()=>Sf,coerce:()=>N0,custom:()=>Ef,date:()=>Qp,datetimeRegex:()=>bf,defaultErrorMap:()=>vr,discriminatedUnion:()=>l0,effect:()=>v0,enum:()=>w0,function:()=>y0,getErrorMap:()=>Xn,getParsedType:()=>dr,instanceof:()=>Yp,intersection:()=>d0,isAborted:()=>Ci,isAsync:()=>Jn,isDirty:()=>Mi,isValid:()=>Kr,late:()=>Zp,lazy:()=>_0,literal:()=>b0,makeIssue:()=>Ps,map:()=>m0,nan:()=>Xp,nativeEnum:()=>E0,never:()=>i0,null:()=>r0,nullable:()=>x0,number:()=>vf,object:()=>c0,objectUtil:()=>Ba,oboolean:()=>T0,onumber:()=>k0,optional:()=>S0,ostring:()=>O0,pipeline:()=>I0,preprocess:()=>A0,promise:()=>R0,quotelessJson:()=>vp,record:()=>p0,set:()=>g0,setErrorMap:()=>xp,strictObject:()=>u0,string:()=>Rf,symbol:()=>e0,transformer:()=>v0,tuple:()=>h0,undefined:()=>t0,union:()=>f0,unknown:()=>s0,util:()=>he,void:()=>o0});var he;(function(r){r.assertEqual=s=>{};function e(s){}r.assertIs=e;function t(s){throw new Error}r.assertNever=t,r.arrayToEnum=s=>{let i={};for(let o of s)i[o]=o;return i},r.getValidEnumValues=s=>{let i=r.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),o={};for(let c of i)o[c]=s[c];return r.objectValues(o)},r.objectValues=s=>r.objectKeys(s).map(function(i){return s[i]}),r.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let i=[];for(let o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},r.find=(s,i)=>{for(let o of s)if(i(o))return o},r.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}r.joinValues=n,r.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(he||(he={}));var Ba;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Ba||(Ba={}));var W=he.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),dr=r=>{switch(typeof r){case"undefined":return W.undefined;case"string":return W.string;case"number":return Number.isNaN(r)?W.nan:W.number;case"boolean":return W.boolean;case"function":return W.function;case"bigint":return W.bigint;case"symbol":return W.symbol;case"object":return Array.isArray(r)?W.array:r===null?W.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?W.promise:typeof Map<"u"&&r instanceof Map?W.map:typeof Set<"u"&&r instanceof Set?W.set:typeof Date<"u"&&r instanceof Date?W.date:W.object;default:return W.unknown}};var P=he.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),vp=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),Ft=class r extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(i){return i.message},n={_errors:[]},s=i=>{for(let o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(t(o));else{let c=n,f=0;for(;f<o.path.length;){let p=o.path[f];f===o.path.length-1?(c[p]=c[p]||{_errors:[]},c[p]._errors.push(t(o))):c[p]=c[p]||{_errors:[]},c=c[p],f++}}};return s(this),n}static assert(e){if(!(e instanceof r))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,he.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},n=[];for(let s of this.issues)if(s.path.length>0){let i=s.path[0];t[i]=t[i]||[],t[i].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};Ft.create=r=>new Ft(r);var Sp=(r,e)=>{let t;switch(r.code){case P.invalid_type:r.received===W.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case P.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,he.jsonStringifyReplacer)}`;break;case P.unrecognized_keys:t=`Unrecognized key(s) in object: ${he.joinValues(r.keys,", ")}`;break;case P.invalid_union:t="Invalid input";break;case P.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${he.joinValues(r.options)}`;break;case P.invalid_enum_value:t=`Invalid enum value. Expected ${he.joinValues(r.options)}, received '${r.received}'`;break;case P.invalid_arguments:t="Invalid function arguments";break;case P.invalid_return_type:t="Invalid function return type";break;case P.invalid_date:t="Invalid date";break;case P.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:he.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case P.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="bigint"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case P.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case P.custom:t="Invalid input";break;case P.invalid_intersection_types:t="Intersection results could not be merged";break;case P.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case P.not_finite:t="Number must be finite";break;default:t=e.defaultError,he.assertNever(r)}return{message:t}},vr=Sp;var pf=vr;function xp(r){pf=r}function Xn(){return pf}var Ps=r=>{let{data:e,path:t,errorMaps:n,issueData:s}=r,i=[...t,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="",f=n.filter(p=>!!p).slice().reverse();for(let p of f)c=p(o,{data:e,defaultError:c}).message;return{...s,path:i,message:c}},Ap=[];function q(r,e){let t=Xn(),n=Ps({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===vr?void 0:vr].filter(s=>!!s)});r.common.issues.push(n)}var gt=class r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let s of t){if(s.status==="aborted")return re;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let s of t){let i=await s.key,o=await s.value;n.push({key:i,value:o})}return r.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let s of t){let{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return re;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}},re=Object.freeze({status:"aborted"}),pn=r=>({status:"dirty",value:r}),St=r=>({status:"valid",value:r}),Ci=r=>r.status==="aborted",Mi=r=>r.status==="dirty",Kr=r=>r.status==="valid",Jn=r=>typeof Promise<"u"&&r instanceof Promise;var J;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e?.message})(J||(J={}));var Qt=class{constructor(e,t,n,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},mf=(r,e)=>{if(Kr(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new Ft(r.common.issues);return this._error=t,this._error}}};function fe(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:s}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,c)=>{let{message:f}=r;return o.code==="invalid_enum_value"?{message:f??c.defaultError}:typeof c.data>"u"?{message:f??n??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:f??t??c.defaultError}},description:s}}var de=class{get description(){return this._def.description}_getType(e){return dr(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:dr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gt,ctx:{common:e.parent.common,data:e.data,parsedType:dr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(Jn(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){let n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:dr(e)},s=this._parseSync({data:e,path:n.path,parent:n});return mf(n,s)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:dr(e)};if(!this["~standard"].async)try{let n=this._parseSync({data:e,path:[],parent:t});return Kr(n)?{value:n.value}:{issues:t.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(n=>Kr(n)?{value:n.value}:{issues:t.common.issues})}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:dr(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(Jn(s)?s:Promise.resolve(s));return mf(n,i)}refine(e,t){let n=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,i)=>{let o=e(s),c=()=>i.addIssue({code:P.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(f=>f?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(e,t){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof t=="function"?t(n,s):t),!1))}_refinement(e){return new er({schema:this,typeName:se.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Jt.create(this,this._def)}nullable(){return pr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ar.create(this)}promise(){return Hr.create(this,this._def)}or(e){return En.create([this,e],this._def)}and(e){return Rn.create(this,e,this._def)}transform(e){return new er({...fe(this._def),schema:this,typeName:se.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new In({...fe(this._def),innerType:this,defaultValue:t,typeName:se.ZodDefault})}brand(){return new Us({typeName:se.ZodBranded,type:this,...fe(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new On({...fe(this._def),innerType:this,catchValue:t,typeName:se.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Ds.create(this,e)}readonly(){return kn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Ip=/^c[^\s-]{8,}$/i,Op=/^[0-9a-z]+$/,kp=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Tp=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Np=/^[a-z0-9_-]{21}$/i,Bp=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Lp=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Cp=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Mp="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",La,Pp=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Up=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Dp=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zp=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Fp=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$p=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,yf="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Vp=new RegExp(`^${yf}$`);function _f(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);let t=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function qp(r){return new RegExp(`^${_f(r)}$`)}function bf(r){let e=`${yf}T${_f(r)}`,t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Kp(r,e){return!!((e==="v4"||!e)&&Pp.test(r)||(e==="v6"||!e)&&Dp.test(r))}function Wp(r,e){if(!Bp.test(r))return!1;try{let[t]=r.split(".");if(!t)return!1;let n=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function jp(r,e){return!!((e==="v4"||!e)&&Up.test(r)||(e==="v6"||!e)&&zp.test(r))}var Wr=class r extends de{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==W.string){let i=this._getOrReturnCtx(e);return q(i,{code:P.invalid_type,expected:W.string,received:i.parsedType}),re}let n=new gt,s;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),q(s,{code:P.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),q(s,{code:P.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let o=e.data.length>i.value,c=e.data.length<i.value;(o||c)&&(s=this._getOrReturnCtx(e,s),o?q(s,{code:P.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&q(s,{code:P.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Cp.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"email",code:P.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")La||(La=new RegExp(Mp,"u")),La.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"emoji",code:P.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Tp.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"uuid",code:P.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Np.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"nanoid",code:P.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Ip.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"cuid",code:P.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Op.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"cuid2",code:P.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")kp.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"ulid",code:P.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),q(s,{validation:"url",code:P.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"regex",code:P.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),q(s,{code:P.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),q(s,{code:P.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),q(s,{code:P.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?bf(i).test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{code:P.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Vp.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{code:P.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?qp(i).test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{code:P.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Lp.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"duration",code:P.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Kp(e.data,i.version)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"ip",code:P.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Wp(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"jwt",code:P.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?jp(e.data,i.version)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"cidr",code:P.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Fp.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"base64",code:P.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?$p.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"base64url",code:P.invalid_string,message:i.message}),n.dirty()):he.assertNever(i);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(s=>e.test(s),{validation:t,code:P.invalid_string,...J.errToObj(n)})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...J.errToObj(e)})}url(e){return this._addCheck({kind:"url",...J.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...J.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...J.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...J.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...J.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...J.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...J.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...J.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...J.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...J.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...J.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...J.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...J.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...J.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...J.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...J.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...J.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...J.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...J.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...J.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...J.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...J.errToObj(t)})}nonempty(e){return this.min(1,J.errToObj(e))}trim(){return new r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Wr.create=r=>new Wr({checks:[],typeName:se.ZodString,coerce:r?.coerce??!1,...fe(r)});function Hp(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=t>n?t:n,i=Number.parseInt(r.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}var mn=class r extends de{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==W.number){let i=this._getOrReturnCtx(e);return q(i,{code:P.invalid_type,expected:W.number,received:i.parsedType}),re}let n,s=new gt;for(let i of this._def.checks)i.kind==="int"?he.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:P.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:P.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:P.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Hp(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),q(n,{code:P.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:P.not_finite,message:i.message}),s.dirty()):he.assertNever(i);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,J.toString(t))}gt(e,t){return this.setLimit("min",e,!1,J.toString(t))}lte(e,t){return this.setLimit("max",e,!0,J.toString(t))}lt(e,t){return this.setLimit("max",e,!1,J.toString(t))}setLimit(e,t,n,s){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:J.toString(s)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:J.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:J.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:J.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:J.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:J.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&he.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};mn.create=r=>new mn({checks:[],typeName:se.ZodNumber,coerce:r?.coerce||!1,...fe(r)});var gn=class r extends de{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==W.bigint)return this._getInvalidInput(e);let n,s=new gt;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:P.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:P.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),q(n,{code:P.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):he.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return q(t,{code:P.invalid_type,expected:W.bigint,received:t.parsedType}),re}gte(e,t){return this.setLimit("min",e,!0,J.toString(t))}gt(e,t){return this.setLimit("min",e,!1,J.toString(t))}lte(e,t){return this.setLimit("max",e,!0,J.toString(t))}lt(e,t){return this.setLimit("max",e,!1,J.toString(t))}setLimit(e,t,n,s){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:J.toString(s)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:J.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};gn.create=r=>new gn({checks:[],typeName:se.ZodBigInt,coerce:r?.coerce??!1,...fe(r)});var yn=class extends de{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==W.boolean){let n=this._getOrReturnCtx(e);return q(n,{code:P.invalid_type,expected:W.boolean,received:n.parsedType}),re}return St(e.data)}};yn.create=r=>new yn({typeName:se.ZodBoolean,coerce:r?.coerce||!1,...fe(r)});var _n=class r extends de{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==W.date){let i=this._getOrReturnCtx(e);return q(i,{code:P.invalid_type,expected:W.date,received:i.parsedType}),re}if(Number.isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return q(i,{code:P.invalid_date}),re}let n=new gt,s;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),q(s,{code:P.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),q(s,{code:P.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):he.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:J.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:J.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};_n.create=r=>new _n({checks:[],coerce:r?.coerce||!1,typeName:se.ZodDate,...fe(r)});var es=class extends de{_parse(e){if(this._getType(e)!==W.symbol){let n=this._getOrReturnCtx(e);return q(n,{code:P.invalid_type,expected:W.symbol,received:n.parsedType}),re}return St(e.data)}};es.create=r=>new es({typeName:se.ZodSymbol,...fe(r)});var bn=class extends de{_parse(e){if(this._getType(e)!==W.undefined){let n=this._getOrReturnCtx(e);return q(n,{code:P.invalid_type,expected:W.undefined,received:n.parsedType}),re}return St(e.data)}};bn.create=r=>new bn({typeName:se.ZodUndefined,...fe(r)});var wn=class extends de{_parse(e){if(this._getType(e)!==W.null){let n=this._getOrReturnCtx(e);return q(n,{code:P.invalid_type,expected:W.null,received:n.parsedType}),re}return St(e.data)}};wn.create=r=>new wn({typeName:se.ZodNull,...fe(r)});var jr=class extends de{constructor(){super(...arguments),this._any=!0}_parse(e){return St(e.data)}};jr.create=r=>new jr({typeName:se.ZodAny,...fe(r)});var xr=class extends de{constructor(){super(...arguments),this._unknown=!0}_parse(e){return St(e.data)}};xr.create=r=>new xr({typeName:se.ZodUnknown,...fe(r)});var or=class extends de{_parse(e){let t=this._getOrReturnCtx(e);return q(t,{code:P.invalid_type,expected:W.never,received:t.parsedType}),re}};or.create=r=>new or({typeName:se.ZodNever,...fe(r)});var ts=class extends de{_parse(e){if(this._getType(e)!==W.undefined){let n=this._getOrReturnCtx(e);return q(n,{code:P.invalid_type,expected:W.void,received:n.parsedType}),re}return St(e.data)}};ts.create=r=>new ts({typeName:se.ZodVoid,...fe(r)});var Ar=class r extends de{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==W.array)return q(t,{code:P.invalid_type,expected:W.array,received:t.parsedType}),re;if(s.exactLength!==null){let o=t.data.length>s.exactLength.value,c=t.data.length<s.exactLength.value;(o||c)&&(q(t,{code:o?P.too_big:P.too_small,minimum:c?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(q(t,{code:P.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(q(t,{code:P.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((o,c)=>s.type._parseAsync(new Qt(t,o,t.path,c)))).then(o=>gt.mergeArray(n,o));let i=[...t.data].map((o,c)=>s.type._parseSync(new Qt(t,o,t.path,c)));return gt.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new r({...this._def,minLength:{value:e,message:J.toString(t)}})}max(e,t){return new r({...this._def,maxLength:{value:e,message:J.toString(t)}})}length(e,t){return new r({...this._def,exactLength:{value:e,message:J.toString(t)}})}nonempty(e){return this.min(1,e)}};Ar.create=(r,e)=>new Ar({type:r,minLength:null,maxLength:null,exactLength:null,typeName:se.ZodArray,...fe(e)});function Qn(r){if(r instanceof $t){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=Jt.create(Qn(n))}return new $t({...r._def,shape:()=>e})}else return r instanceof Ar?new Ar({...r._def,type:Qn(r.element)}):r instanceof Jt?Jt.create(Qn(r.unwrap())):r instanceof pr?pr.create(Qn(r.unwrap())):r instanceof hr?hr.create(r.items.map(e=>Qn(e))):r}var $t=class r extends de{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=he.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==W.object){let p=this._getOrReturnCtx(e);return q(p,{code:P.invalid_type,expected:W.object,received:p.parsedType}),re}let{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof or&&this._def.unknownKeys==="strip"))for(let p in s.data)o.includes(p)||c.push(p);let f=[];for(let p of o){let _=i[p],E=s.data[p];f.push({key:{status:"valid",value:p},value:_._parse(new Qt(s,E,s.path,p)),alwaysSet:p in s.data})}if(this._def.catchall instanceof or){let p=this._def.unknownKeys;if(p==="passthrough")for(let _ of c)f.push({key:{status:"valid",value:_},value:{status:"valid",value:s.data[_]}});else if(p==="strict")c.length>0&&(q(s,{code:P.unrecognized_keys,keys:c}),n.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let p=this._def.catchall;for(let _ of c){let E=s.data[_];f.push({key:{status:"valid",value:_},value:p._parse(new Qt(s,E,s.path,_)),alwaysSet:_ in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let p=[];for(let _ of f){let E=await _.key,x=await _.value;p.push({key:E,value:x,alwaysSet:_.alwaysSet})}return p}).then(p=>gt.mergeObjectSync(n,p)):gt.mergeObjectSync(n,f)}get shape(){return this._def.shape()}strict(e){return J.errToObj,new r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{let s=this._def.errorMap?.(t,n).message??n.defaultError;return t.code==="unrecognized_keys"?{message:J.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new r({...this._def,unknownKeys:"strip"})}passthrough(){return new r({...this._def,unknownKeys:"passthrough"})}extend(e){return new r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:se.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new r({...this._def,catchall:e})}pick(e){let t={};for(let n of he.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new r({...this._def,shape:()=>t})}omit(e){let t={};for(let n of he.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new r({...this._def,shape:()=>t})}deepPartial(){return Qn(this)}partial(e){let t={};for(let n of he.objectKeys(this.shape)){let s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()}return new r({...this._def,shape:()=>t})}required(e){let t={};for(let n of he.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Jt;)i=i._def.innerType;t[n]=i}return new r({...this._def,shape:()=>t})}keyof(){return wf(he.objectKeys(this.shape))}};$t.create=(r,e)=>new $t({shape:()=>r,unknownKeys:"strip",catchall:or.create(),typeName:se.ZodObject,...fe(e)});$t.strictCreate=(r,e)=>new $t({shape:()=>r,unknownKeys:"strict",catchall:or.create(),typeName:se.ZodObject,...fe(e)});$t.lazycreate=(r,e)=>new $t({shape:r,unknownKeys:"strip",catchall:or.create(),typeName:se.ZodObject,...fe(e)});var En=class extends de{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function s(i){for(let c of i)if(c.result.status==="valid")return c.result;for(let c of i)if(c.result.status==="dirty")return t.common.issues.push(...c.ctx.common.issues),c.result;let o=i.map(c=>new Ft(c.ctx.common.issues));return q(t,{code:P.invalid_union,unionErrors:o}),re}if(t.common.async)return Promise.all(n.map(async i=>{let o={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(s);{let i,o=[];for(let f of n){let p={...t,common:{...t.common,issues:[]},parent:null},_=f._parseSync({data:t.data,path:t.path,parent:p});if(_.status==="valid")return _;_.status==="dirty"&&!i&&(i={result:_,ctx:p}),p.common.issues.length&&o.push(p.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;let c=o.map(f=>new Ft(f));return q(t,{code:P.invalid_union,unionErrors:c}),re}}get options(){return this._def.options}};En.create=(r,e)=>new En({options:r,typeName:se.ZodUnion,...fe(e)});var Sr=r=>r instanceof vn?Sr(r.schema):r instanceof er?Sr(r.innerType()):r instanceof Sn?[r.value]:r instanceof xn?r.options:r instanceof An?he.objectValues(r.enum):r instanceof In?Sr(r._def.innerType):r instanceof bn?[void 0]:r instanceof wn?[null]:r instanceof Jt?[void 0,...Sr(r.unwrap())]:r instanceof pr?[null,...Sr(r.unwrap())]:r instanceof Us||r instanceof kn?Sr(r.unwrap()):r instanceof On?Sr(r._def.innerType):[],Pi=class r extends de{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==W.object)return q(t,{code:P.invalid_type,expected:W.object,received:t.parsedType}),re;let n=this.discriminator,s=t.data[n],i=this.optionsMap.get(s);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(q(t,{code:P.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),re)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let s=new Map;for(let i of t){let o=Sr(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let c of o){if(s.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);s.set(c,i)}}return new r({typeName:se.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...fe(n)})}};function Ca(r,e){let t=dr(r),n=dr(e);if(r===e)return{valid:!0,data:r};if(t===W.object&&n===W.object){let s=he.objectKeys(e),i=he.objectKeys(r).filter(c=>s.indexOf(c)!==-1),o={...r,...e};for(let c of i){let f=Ca(r[c],e[c]);if(!f.valid)return{valid:!1};o[c]=f.data}return{valid:!0,data:o}}else if(t===W.array&&n===W.array){if(r.length!==e.length)return{valid:!1};let s=[];for(let i=0;i<r.length;i++){let o=r[i],c=e[i],f=Ca(o,c);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return t===W.date&&n===W.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var Rn=class extends de{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(Ci(i)||Ci(o))return re;let c=Ca(i.value,o.value);return c.valid?((Mi(i)||Mi(o))&&t.dirty(),{status:t.value,value:c.data}):(q(n,{code:P.invalid_intersection_types}),re)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Rn.create=(r,e,t)=>new Rn({left:r,right:e,typeName:se.ZodIntersection,...fe(t)});var hr=class r extends de{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==W.array)return q(n,{code:P.invalid_type,expected:W.array,received:n.parsedType}),re;if(n.data.length<this._def.items.length)return q(n,{code:P.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),re;!this._def.rest&&n.data.length>this._def.items.length&&(q(n,{code:P.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...n.data].map((o,c)=>{let f=this._def.items[c]||this._def.rest;return f?f._parse(new Qt(n,o,n.path,c)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>gt.mergeArray(t,o)):gt.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new r({...this._def,rest:e})}};hr.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new hr({items:r,typeName:se.ZodTuple,rest:null,...fe(e)})};var Ui=class r extends de{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==W.object)return q(n,{code:P.invalid_type,expected:W.object,received:n.parsedType}),re;let s=[],i=this._def.keyType,o=this._def.valueType;for(let c in n.data)s.push({key:i._parse(new Qt(n,c,n.path,c)),value:o._parse(new Qt(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?gt.mergeObjectAsync(t,s):gt.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof de?new r({keyType:e,valueType:t,typeName:se.ZodRecord,...fe(n)}):new r({keyType:Wr.create(),valueType:e,typeName:se.ZodRecord,...fe(t)})}},rs=class extends de{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==W.map)return q(n,{code:P.invalid_type,expected:W.map,received:n.parsedType}),re;let s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([c,f],p)=>({key:s._parse(new Qt(n,c,n.path,[p,"key"])),value:i._parse(new Qt(n,f,n.path,[p,"value"]))}));if(n.common.async){let c=new Map;return Promise.resolve().then(async()=>{for(let f of o){let p=await f.key,_=await f.value;if(p.status==="aborted"||_.status==="aborted")return re;(p.status==="dirty"||_.status==="dirty")&&t.dirty(),c.set(p.value,_.value)}return{status:t.value,value:c}})}else{let c=new Map;for(let f of o){let p=f.key,_=f.value;if(p.status==="aborted"||_.status==="aborted")return re;(p.status==="dirty"||_.status==="dirty")&&t.dirty(),c.set(p.value,_.value)}return{status:t.value,value:c}}}};rs.create=(r,e,t)=>new rs({valueType:e,keyType:r,typeName:se.ZodMap,...fe(t)});var ns=class r extends de{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==W.set)return q(n,{code:P.invalid_type,expected:W.set,received:n.parsedType}),re;let s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(q(n,{code:P.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(q(n,{code:P.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());let i=this._def.valueType;function o(f){let p=new Set;for(let _ of f){if(_.status==="aborted")return re;_.status==="dirty"&&t.dirty(),p.add(_.value)}return{status:t.value,value:p}}let c=[...n.data.values()].map((f,p)=>i._parse(new Qt(n,f,n.path,p)));return n.common.async?Promise.all(c).then(f=>o(f)):o(c)}min(e,t){return new r({...this._def,minSize:{value:e,message:J.toString(t)}})}max(e,t){return new r({...this._def,maxSize:{value:e,message:J.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};ns.create=(r,e)=>new ns({valueType:r,minSize:null,maxSize:null,typeName:se.ZodSet,...fe(e)});var Di=class r extends de{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==W.function)return q(t,{code:P.invalid_type,expected:W.function,received:t.parsedType}),re;function n(c,f){return Ps({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Xn(),vr].filter(p=>!!p),issueData:{code:P.invalid_arguments,argumentsError:f}})}function s(c,f){return Ps({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Xn(),vr].filter(p=>!!p),issueData:{code:P.invalid_return_type,returnTypeError:f}})}let i={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Hr){let c=this;return St(async function(...f){let p=new Ft([]),_=await c._def.args.parseAsync(f,i).catch(S=>{throw p.addIssue(n(f,S)),p}),E=await Reflect.apply(o,this,_);return await c._def.returns._def.type.parseAsync(E,i).catch(S=>{throw p.addIssue(s(E,S)),p})})}else{let c=this;return St(function(...f){let p=c._def.args.safeParse(f,i);if(!p.success)throw new Ft([n(f,p.error)]);let _=Reflect.apply(o,this,p.data),E=c._def.returns.safeParse(_,i);if(!E.success)throw new Ft([s(_,E.error)]);return E.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r({...this._def,args:hr.create(e).rest(xr.create())})}returns(e){return new r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new r({args:e||hr.create([]).rest(xr.create()),returns:t||xr.create(),typeName:se.ZodFunction,...fe(n)})}},vn=class extends de{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};vn.create=(r,e)=>new vn({getter:r,typeName:se.ZodLazy,...fe(e)});var Sn=class extends de{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return q(t,{received:t.data,code:P.invalid_literal,expected:this._def.value}),re}return{status:"valid",value:e.data}}get value(){return this._def.value}};Sn.create=(r,e)=>new Sn({value:r,typeName:se.ZodLiteral,...fe(e)});function wf(r,e){return new xn({values:r,typeName:se.ZodEnum,...fe(e)})}var xn=class r extends de{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return q(t,{expected:he.joinValues(n),received:t.parsedType,code:P.invalid_type}),re}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return q(t,{received:t.data,code:P.invalid_enum_value,options:n}),re}return St(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return r.create(e,{...this._def,...t})}exclude(e,t=this._def){return r.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}};xn.create=wf;var An=class extends de{_parse(e){let t=he.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==W.string&&n.parsedType!==W.number){let s=he.objectValues(t);return q(n,{expected:he.joinValues(s),received:n.parsedType,code:P.invalid_type}),re}if(this._cache||(this._cache=new Set(he.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let s=he.objectValues(t);return q(n,{received:n.data,code:P.invalid_enum_value,options:s}),re}return St(e.data)}get enum(){return this._def.values}};An.create=(r,e)=>new An({values:r,typeName:se.ZodNativeEnum,...fe(e)});var Hr=class extends de{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==W.promise&&t.common.async===!1)return q(t,{code:P.invalid_type,expected:W.promise,received:t.parsedType}),re;let n=t.parsedType===W.promise?t.data:Promise.resolve(t.data);return St(n.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}};Hr.create=(r,e)=>new Hr({type:r,typeName:se.ZodPromise,...fe(e)});var er=class extends de{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{q(n,o),o.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){let o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async c=>{if(t.value==="aborted")return re;let f=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return f.status==="aborted"?re:f.status==="dirty"?pn(f.value):t.value==="dirty"?pn(f.value):f});{if(t.value==="aborted")return re;let c=this._def.schema._parseSync({data:o,path:n.path,parent:n});return c.status==="aborted"?re:c.status==="dirty"?pn(c.value):t.value==="dirty"?pn(c.value):c}}if(s.type==="refinement"){let o=c=>{let f=s.refinement(c,i);if(n.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){let c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?re:(c.status==="dirty"&&t.dirty(),o(c.value),{status:t.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?re:(c.status==="dirty"&&t.dirty(),o(c.value).then(()=>({status:t.value,value:c.value}))))}if(s.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Kr(o))return re;let c=s.transform(o.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Kr(o)?Promise.resolve(s.transform(o.value,i)).then(c=>({status:t.value,value:c})):re);he.assertNever(s)}};er.create=(r,e,t)=>new er({schema:r,typeName:se.ZodEffects,effect:e,...fe(t)});er.createWithPreprocess=(r,e,t)=>new er({schema:e,effect:{type:"preprocess",transform:r},typeName:se.ZodEffects,...fe(t)});var Jt=class extends de{_parse(e){return this._getType(e)===W.undefined?St(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Jt.create=(r,e)=>new Jt({innerType:r,typeName:se.ZodOptional,...fe(e)});var pr=class extends de{_parse(e){return this._getType(e)===W.null?St(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};pr.create=(r,e)=>new pr({innerType:r,typeName:se.ZodNullable,...fe(e)});var In=class extends de{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===W.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};In.create=(r,e)=>new In({innerType:r,typeName:se.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...fe(e)});var On=class extends de{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Jn(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ft(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ft(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};On.create=(r,e)=>new On({innerType:r,typeName:se.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...fe(e)});var ss=class extends de{_parse(e){if(this._getType(e)!==W.nan){let n=this._getOrReturnCtx(e);return q(n,{code:P.invalid_type,expected:W.nan,received:n.parsedType}),re}return{status:"valid",value:e.data}}};ss.create=r=>new ss({typeName:se.ZodNaN,...fe(r)});var Gp=Symbol("zod_brand"),Us=class extends de{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},Ds=class r extends de{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?re:i.status==="dirty"?(t.dirty(),pn(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?re:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,t){return new r({in:e,out:t,typeName:se.ZodPipeline})}},kn=class extends de{_parse(e){let t=this._def.innerType._parse(e),n=s=>(Kr(s)&&(s.value=Object.freeze(s.value)),s);return Jn(t)?t.then(s=>n(s)):n(t)}unwrap(){return this._def.innerType}};kn.create=(r,e)=>new kn({innerType:r,typeName:se.ZodReadonly,...fe(e)});function gf(r,e){let t=typeof r=="function"?r(e):typeof r=="string"?{message:r}:r;return typeof t=="string"?{message:t}:t}function Ef(r,e={},t){return r?jr.create().superRefine((n,s)=>{let i=r(n);if(i instanceof Promise)return i.then(o=>{if(!o){let c=gf(e,n),f=c.fatal??t??!0;s.addIssue({code:"custom",...c,fatal:f})}});if(!i){let o=gf(e,n),c=o.fatal??t??!0;s.addIssue({code:"custom",...o,fatal:c})}}):jr.create()}var Zp={object:$t.lazycreate},se;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(se||(se={}));var Yp=(r,e={message:`Input not instance of ${r.name}`})=>Ef(t=>t instanceof r,e),Rf=Wr.create,vf=mn.create,Xp=ss.create,Jp=gn.create,Sf=yn.create,Qp=_n.create,e0=es.create,t0=bn.create,r0=wn.create,n0=jr.create,s0=xr.create,i0=or.create,o0=ts.create,a0=Ar.create,c0=$t.create,u0=$t.strictCreate,f0=En.create,l0=Pi.create,d0=Rn.create,h0=hr.create,p0=Ui.create,m0=rs.create,g0=ns.create,y0=Di.create,_0=vn.create,b0=Sn.create,w0=xn.create,E0=An.create,R0=Hr.create,v0=er.create,S0=Jt.create,x0=pr.create,A0=er.createWithPreprocess,I0=Ds.create,O0=()=>Rf().optional(),k0=()=>vf().optional(),T0=()=>Sf().optional(),N0={string:(r=>Wr.create({...r,coerce:!0})),number:(r=>mn.create({...r,coerce:!0})),boolean:(r=>yn.create({...r,coerce:!0})),bigint:(r=>gn.create({...r,coerce:!0})),date:(r=>_n.create({...r,coerce:!0}))};var B0=re;var L0=/[@#$%^&*+=/\\|~]/,C0=/(!{2,}|\?{2,}|-{2,})/,M0=/[\u{1F300}-\u{1F9FF}]|[\u{2702}-\u{27B0}]|[\u{2600}-\u{26FF}]|[\u{2B00}-\u{2BFF}]/u,Tn=({max:r,noSpaces:e}={})=>(e?$.string().max(r??Number.POSITIVE_INFINITY).regex(/^\S*$/,"Spaces are not allowed"):$.string().max(r??Number.POSITIVE_INFINITY)).refine(n=>!M0.test(n),{message:"Emojis and symbols are not allowed"}).refine(n=>!L0.test(n),{message:"Special characters (@, #, $, %, ^, &, *, +, =, /, \\, |, ~, \xAB, \xBB) are not allowed"}).refine(n=>!C0.test(n),{message:"Repeated punctuations (!!, ??, --) are not allowed"}),dt=$.string().url().startsWith("https://",{message:"Must be an https url"}).max(1024).refine(r=>!r.includes(" "),{message:"URL must not contain spaces"}).refine(r=>{try{let e=new URL(r).hostname;return!(e==="localhost"||e.endsWith(".localhost")||/^(\d{1,3}\.){3}\d{1,3}$/.test(e)||e.startsWith("[")&&e.endsWith("]"))}catch{return!1}},{message:"URL must not use IP addresses or localhost"}),zs=$.string().max(32),zi=$.string().max(32),P0=/^[-a-z0-9]{3,8}:[-_a-zA-Z0-9]{1,32}\/(?:[-a-z0-9]{3,8}:[-.%a-zA-Z0-9]{1,128}(?:\/[-.%a-zA-Z0-9]{1,78})?|native)$/,xf=$.string().regex(P0,{message:"Invalid CAIP-19 asset ID"}),Fs=$.string().regex(/^#([0-9A-F]{3}|[0-9A-F]{6})$/i,{message:"Invalid hex color code. It should be in the format #RRGGBB or #RGB."}),U0=/^(?!.*\.\.)([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Af=$.string().max(1024).regex(U0,{message:"Must be a valid domain name (e.g., example.com, sub.example.com)"}).refine(r=>!r.includes("://"),{message:"Domain must not include protocol (http://, https://, etc.)"}).refine(r=>!r.includes("/"),{message:"Domain must not include path separators"}).refine(r=>!r.includes("@"),{message:"Domain must not include @ symbol"}).refine(r=>!r.includes(":"),{message:"Domain must not include port numbers"}),If=$.union([$.literal("1:1"),$.literal("3:2")]),Of=$.object({header:$.string(),payload:$.string(),signature:$.string()}),iv=$.object({fid:$.number(),type:$.literal("app_key"),key:$.string().startsWith("0x")});var D0=$.object({type:$.literal("launch_frame"),name:zs,url:dt.optional(),splashImageUrl:dt.optional(),splashBackgroundColor:Fs.optional()}),z0=$.object({type:$.literal("launch_miniapp"),name:zs,url:dt.optional(),splashImageUrl:dt.optional(),splashBackgroundColor:Fs.optional()}),F0=$.object({type:$.literal("view_token"),token:xf}),$0=$.discriminatedUnion("type",[z0,F0,D0]),V0=$.object({title:zi,action:$0}),uv=$.object({version:$.union([$.string(),$.number()]).transform(r=>String(r)).pipe($.union([$.literal("next"),$.literal("1")])),imageUrl:dt,aspectRatio:If.optional(),button:V0});var Ma=$.object({url:$.string(),token:$.string()}),hv=$.object({notificationId:$.string().max(128),title:$.string().max(32),body:$.string().max(128),targetUrl:dt,tokens:$.string().array().max(100)}),pv=$.object({result:$.object({successfulTokens:$.array($.string()),invalidTokens:$.array($.string()),rateLimitedTokens:$.array($.string())})});var q0=$.object({event:$.literal("miniapp_added"),notificationDetails:Ma.optional()}),K0=$.object({event:$.literal("miniapp_removed")}),W0=$.object({event:$.literal("notifications_enabled"),notificationDetails:Ma.required()}),j0=$.object({event:$.literal("notifications_disabled")}),_v=$.discriminatedUnion("event",[q0,K0,W0,j0]);var kf=["wallet.getEthereumProvider","wallet.getSolanaProvider","actions.ready","actions.openUrl","actions.close","actions.setPrimaryButton","actions.addMiniApp","actions.signIn","actions.viewCast","actions.viewProfile","actions.composeCast","actions.viewToken","actions.sendToken","actions.swapToken","actions.openMiniApp","actions.requestCameraAndMicrophoneAccess","haptics.impactOccurred","haptics.notificationOccurred","haptics.selectionChanged","back"];var H0=["games","social","finance","utility","productivity","health-fitness","news-media","music","shopping","education","developer-tools","entertainment","art-creativity"],G0=$.enum(H0),Z0=$.union([$.literal("0.0.0"),$.literal("0.0.1"),$.literal("1"),$.literal("next")]),Y0=Tn({max:30}),X0=Tn({max:170}),J0=$.array(dt).max(3),Q0=$.array(Tn({max:20,noSpaces:!0})).max(5),em=Tn({max:30}),tm=Tn({max:30}),rm=Tn({max:100}),nm=$.boolean(),sm=["eip155:1","eip155:8453","eip155:42161","eip155:421614","eip155:84532","eip155:666666666","eip155:100","eip155:10","eip155:11155420","eip155:137","eip155:11155111","eip155:7777777","eip155:130","eip155:10143","eip155:42220","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"];function Nf(r){let e=new Set(r);return Array.from(e)}var im=$.array($.enum(sm)).transform(Nf),om=$.array($.enum(kf)).transform(Nf),Tf=$.object({version:Z0,name:zs,iconUrl:dt,homeUrl:dt,imageUrl:dt.optional(),buttonTitle:zi.optional(),splashImageUrl:dt.optional(),splashBackgroundColor:Fs.optional(),webhookUrl:dt.optional(),subtitle:Y0.optional(),description:X0.optional(),screenshotUrls:J0.optional(),primaryCategory:G0.optional(),tags:Q0.optional(),heroImageUrl:dt.optional(),tagline:em.optional(),ogTitle:tm.optional(),ogDescription:rm.optional(),ogImageUrl:dt.optional(),noindex:nm.optional(),requiredChains:im.optional(),requiredCapabilities:om.optional(),castShareUrl:dt.optional(),canonicalDomain:Af.optional()}).refine(r=>{if(r.castShareUrl===void 0)return!0;try{let e=new URL(r.homeUrl).hostname,t=new URL(r.castShareUrl).hostname;return e===t}catch{return!1}},{message:"castShareUrl must have the same domain as homeUrl",path:["castShareUrl"]}),Iv=$.object({accountAssociation:Of,miniapp:Tf.optional(),frame:Tf.optional()}).refine(r=>r.frame&&r.miniapp?JSON.stringify(r.frame)===JSON.stringify(r.miniapp):!0,{message:'If both "frame" and "miniapp" are provided, they must be identical',path:["frame","miniapp"]}).transform(r=>({...r,frame:r.frame??r.miniapp}));var oe=Rr(Vs());var Ln=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function kr(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function Zr(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function yt(r,...e){if(!kr(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function qi(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Zr(r.outputLen),Zr(r.blockLen)}function Tr(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function Ki(r,e){yt(r);let t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function Qf(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function rr(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function Wi(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function ar(r,e){return r<<32-e|r>>>e}var zm=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Fm(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function $m(r){for(let e=0;e<r.length;e++)r[e]=Fm(r[e]);return r}var ja=zm?r=>r:$m,el=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Vm=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function nr(r){if(yt(r),el)return r.toHex();let e="";for(let t=0;t<r.length;t++)e+=Vm[r[t]];return e}var Or={_0:48,_9:57,A:65,F:70,a:97,f:102};function Jf(r){if(r>=Or._0&&r<=Or._9)return r-Or._0;if(r>=Or.A&&r<=Or.F)return r-(Or.A-10);if(r>=Or.a&&r<=Or.f)return r-(Or.a-10)}function Cn(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);if(el)return Uint8Array.fromHex(r);let e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){let o=Jf(r.charCodeAt(i)),c=Jf(r.charCodeAt(i+1));if(o===void 0||c===void 0){let f=r[i]+r[i+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+i)}n[s]=o*16+c}return n}function Ha(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function Mn(r){return typeof r=="string"&&(r=Ha(r)),yt(r),r}function Ct(...r){let e=0;for(let n=0;n<r.length;n++){let s=r[n];yt(s),e+=s.length}let t=new Uint8Array(e);for(let n=0,s=0;n<r.length;n++){let i=r[n];t.set(i,s),s+=i.length}return t}var Yr=class{};function qs(r){let e=n=>r().update(Mn(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function us(r=32){if(Ln&&typeof Ln.getRandomValues=="function")return Ln.getRandomValues(new Uint8Array(r));if(Ln&&typeof Ln.randomBytes=="function")return Uint8Array.from(Ln.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}function qm(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),c=Number(t&i),f=n?4:0,p=n?0:4;r.setUint32(e+f,o,n),r.setUint32(e+p,c,n)}function tl(r,e,t){return r&e^~r&t}function rl(r,e,t){return r&e^r&t^e&t}var Ks=class extends Yr{constructor(e,t,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=Wi(this.buffer)}update(e){Tr(this),e=Mn(e),yt(e);let{view:t,buffer:n,blockLen:s}=this,i=e.length;for(let o=0;o<i;){let c=Math.min(s-this.pos,i-o);if(c===s){let f=Wi(e);for(;s<=i-o;o+=s)this.process(f,o);continue}n.set(e.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Tr(this),Ki(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:s,isLE:i}=this,{pos:o}=this;t[o++]=128,rr(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(n,0),o=0);for(let E=o;E<s;E++)t[E]=0;qm(n,s-8,BigInt(this.length*8),i),this.process(n,0);let c=Wi(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let p=f/4,_=this.get();if(p>_.length)throw new Error("_sha2: outputLen bigger than state");for(let E=0;E<p;E++)c.setUint32(4*E,_[E],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:s,finished:i,destroyed:o,pos:c}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=c,s%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}},Nr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);var _t=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);var ji=BigInt(4294967295),nl=BigInt(32);function Km(r,e=!1){return e?{h:Number(r&ji),l:Number(r>>nl&ji)}:{h:Number(r>>nl&ji)|0,l:Number(r&ji)|0}}function Hi(r,e=!1){let t=r.length,n=new Uint32Array(t),s=new Uint32Array(t);for(let i=0;i<t;i++){let{h:o,l:c}=Km(r[i],e);[n[i],s[i]]=[o,c]}return[n,s]}var Ga=(r,e,t)=>r>>>t,Za=(r,e,t)=>r<<32-t|e>>>t,Pn=(r,e,t)=>r>>>t|e<<32-t,Un=(r,e,t)=>r<<32-t|e>>>t,Ws=(r,e,t)=>r<<64-t|e>>>t-32,js=(r,e,t)=>r>>>t-32|e<<64-t;var sl=(r,e,t)=>r<<t|e>>>32-t,il=(r,e,t)=>e<<t|r>>>32-t,ol=(r,e,t)=>e<<t-32|r>>>64-t,al=(r,e,t)=>r<<t-32|e>>>64-t;function yr(r,e,t,n){let s=(e>>>0)+(n>>>0);return{h:r+t+(s/2**32|0)|0,l:s|0}}var cl=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),ul=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,fl=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),ll=(r,e,t,n,s)=>e+t+n+s+(r/2**32|0)|0,dl=(r,e,t,n,s)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(s>>>0),hl=(r,e,t,n,s,i)=>e+t+n+s+i+(r/2**32|0)|0;var jm=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xr=new Uint32Array(64),Gi=class extends Ks{constructor(e=32){super(64,e,8,!1),this.A=Nr[0]|0,this.B=Nr[1]|0,this.C=Nr[2]|0,this.D=Nr[3]|0,this.E=Nr[4]|0,this.F=Nr[5]|0,this.G=Nr[6]|0,this.H=Nr[7]|0}get(){let{A:e,B:t,C:n,D:s,E:i,F:o,G:c,H:f}=this;return[e,t,n,s,i,o,c,f]}set(e,t,n,s,i,o,c,f){this.A=e|0,this.B=t|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=c|0,this.H=f|0}process(e,t){for(let E=0;E<16;E++,t+=4)Xr[E]=e.getUint32(t,!1);for(let E=16;E<64;E++){let x=Xr[E-15],S=Xr[E-2],A=ar(x,7)^ar(x,18)^x>>>3,k=ar(S,17)^ar(S,19)^S>>>10;Xr[E]=k+Xr[E-7]+A+Xr[E-16]|0}let{A:n,B:s,C:i,D:o,E:c,F:f,G:p,H:_}=this;for(let E=0;E<64;E++){let x=ar(c,6)^ar(c,11)^ar(c,25),S=_+x+tl(c,f,p)+jm[E]+Xr[E]|0,k=(ar(n,2)^ar(n,13)^ar(n,22))+rl(n,s,i)|0;_=p,p=f,f=c,c=o+S|0,o=i,i=s,s=n,n=S+k|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,c=c+this.E|0,f=f+this.F|0,p=p+this.G|0,_=_+this.H|0,this.set(n,s,i,o,c,f,p,_)}roundClean(){rr(Xr)}destroy(){this.set(0,0,0,0,0,0,0,0),rr(this.buffer)}};var pl=Hi(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Hm=pl[0],Gm=pl[1],Jr=new Uint32Array(80),Qr=new Uint32Array(80),Ya=class extends Ks{constructor(e=64){super(128,e,16,!1),this.Ah=_t[0]|0,this.Al=_t[1]|0,this.Bh=_t[2]|0,this.Bl=_t[3]|0,this.Ch=_t[4]|0,this.Cl=_t[5]|0,this.Dh=_t[6]|0,this.Dl=_t[7]|0,this.Eh=_t[8]|0,this.El=_t[9]|0,this.Fh=_t[10]|0,this.Fl=_t[11]|0,this.Gh=_t[12]|0,this.Gl=_t[13]|0,this.Hh=_t[14]|0,this.Hl=_t[15]|0}get(){let{Ah:e,Al:t,Bh:n,Bl:s,Ch:i,Cl:o,Dh:c,Dl:f,Eh:p,El:_,Fh:E,Fl:x,Gh:S,Gl:A,Hh:k,Hl:B}=this;return[e,t,n,s,i,o,c,f,p,_,E,x,S,A,k,B]}set(e,t,n,s,i,o,c,f,p,_,E,x,S,A,k,B){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=c|0,this.Dl=f|0,this.Eh=p|0,this.El=_|0,this.Fh=E|0,this.Fl=x|0,this.Gh=S|0,this.Gl=A|0,this.Hh=k|0,this.Hl=B|0}process(e,t){for(let L=0;L<16;L++,t+=4)Jr[L]=e.getUint32(t),Qr[L]=e.getUint32(t+=4);for(let L=16;L<80;L++){let K=Jr[L-15]|0,te=Qr[L-15]|0,ee=Pn(K,te,1)^Pn(K,te,8)^Ga(K,te,7),ue=Un(K,te,1)^Un(K,te,8)^Za(K,te,7),ie=Jr[L-2]|0,C=Qr[L-2]|0,Y=Pn(ie,C,19)^Ws(ie,C,61)^Ga(ie,C,6),G=Un(ie,C,19)^js(ie,C,61)^Za(ie,C,6),Z=fl(ue,G,Qr[L-7],Qr[L-16]),m=ll(Z,ee,Y,Jr[L-7],Jr[L-16]);Jr[L]=m|0,Qr[L]=Z|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:c,Cl:f,Dh:p,Dl:_,Eh:E,El:x,Fh:S,Fl:A,Gh:k,Gl:B,Hh:T,Hl:D}=this;for(let L=0;L<80;L++){let K=Pn(E,x,14)^Pn(E,x,18)^Ws(E,x,41),te=Un(E,x,14)^Un(E,x,18)^js(E,x,41),ee=E&S^~E&k,ue=x&A^~x&B,ie=dl(D,te,ue,Gm[L],Qr[L]),C=hl(ie,T,K,ee,Hm[L],Jr[L]),Y=ie|0,G=Pn(n,s,28)^Ws(n,s,34)^Ws(n,s,39),Z=Un(n,s,28)^js(n,s,34)^js(n,s,39),m=n&i^n&c^i&c,a=s&o^s&f^o&f;T=k|0,D=B|0,k=S|0,B=A|0,S=E|0,A=x|0,{h:E,l:x}=yr(p|0,_|0,C|0,Y|0),p=c|0,_=f|0,c=i|0,f=o|0,i=n|0,o=s|0;let u=cl(Y,Z,a);n=ul(u,C,G,m),s=u|0}({h:n,l:s}=yr(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=yr(this.Bh|0,this.Bl|0,i|0,o|0),{h:c,l:f}=yr(this.Ch|0,this.Cl|0,c|0,f|0),{h:p,l:_}=yr(this.Dh|0,this.Dl|0,p|0,_|0),{h:E,l:x}=yr(this.Eh|0,this.El|0,E|0,x|0),{h:S,l:A}=yr(this.Fh|0,this.Fl|0,S|0,A|0),{h:k,l:B}=yr(this.Gh|0,this.Gl|0,k|0,B|0),{h:T,l:D}=yr(this.Hh|0,this.Hl|0,T|0,D|0),this.set(n,s,i,o,c,f,p,_,E,x,S,A,k,B,T,D)}roundClean(){rr(Jr,Qr)}destroy(){rr(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Zi=qs(()=>new Gi);var ml=qs(()=>new Ya);var Qa=BigInt(0),Ja=BigInt(1);function Br(r,e=""){if(typeof r!="boolean"){let t=e&&`"${e}"`;throw new Error(t+"expected boolean, got type="+typeof r)}return r}function Wt(r,e,t=""){let n=kr(r),s=r?.length,i=e!==void 0;if(!n||i&&s!==e){let o=t&&`"${t}" `,c=i?` of length ${e}`:"",f=n?`length=${s}`:`type=${typeof r}`;throw new Error(o+"expected Uint8Array"+c+", got "+f)}return r}function Hs(r){let e=r.toString(16);return e.length&1?"0"+e:e}function gl(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?Qa:BigInt("0x"+r)}function fs(r){return gl(nr(r))}function Lr(r){return yt(r),gl(nr(Uint8Array.from(r).reverse()))}function Yi(r,e){return Cn(r.toString(16).padStart(e*2,"0"))}function ec(r,e){return Yi(r,e).reverse()}function we(r,e,t){let n;if(typeof e=="string")try{n=Cn(e)}catch(i){throw new Error(r+" must be hex string or Uint8Array, cause: "+i)}else if(kr(e))n=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");let s=n.length;if(typeof t=="number"&&s!==t)throw new Error(r+" of length "+t+" expected, got "+s);return n}function yl(r,e){if(r.length!==e.length)return!1;let t=0;for(let n=0;n<r.length;n++)t|=r[n]^e[n];return t===0}function tc(r){return Uint8Array.from(r)}var Xa=r=>typeof r=="bigint"&&Qa<=r;function _l(r,e,t){return Xa(r)&&Xa(e)&&Xa(t)&&e<=r&&r<t}function Gs(r,e,t,n){if(!_l(e,t,n))throw new Error("expected valid "+r+": "+t+" <= n < "+n+", got "+e)}function Xi(r){let e;for(e=0;r>Qa;r>>=Ja,e+=1);return e}var en=r=>(Ja<<BigInt(r))-Ja;function bl(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=S=>new Uint8Array(S),s=S=>Uint8Array.of(S),i=n(r),o=n(r),c=0,f=()=>{i.fill(1),o.fill(0),c=0},p=(...S)=>t(o,i,...S),_=(S=n(0))=>{o=p(s(0),S),i=p(),S.length!==0&&(o=p(s(1),S),i=p())},E=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let S=0,A=[];for(;S<e;){i=p();let k=i.slice();A.push(k),S+=i.length}return Ct(...A)};return(S,A)=>{f(),_(S);let k;for(;!(k=A(E()));)_();return f(),k}}function tn(r,e,t={}){if(!r||typeof r!="object")throw new Error("expected valid options object");function n(s,i,o){let c=r[s];if(o&&c===void 0)return;let f=typeof c;if(f!==i||c===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${f}`)}Object.entries(e).forEach(([s,i])=>n(s,i,!1)),Object.entries(t).forEach(([s,i])=>n(s,i,!0))}var rc=()=>{throw new Error("not implemented")};function ls(r){let e=new WeakMap;return(t,...n)=>{let s=e.get(t);if(s!==void 0)return s;let i=r(t,...n);return e.set(t,i),i}}var Mt=BigInt(0),pt=BigInt(1),Dn=BigInt(2),Rl=BigInt(3),vl=BigInt(4),Sl=BigInt(5),Zm=BigInt(7),xl=BigInt(8),Ym=BigInt(9),Al=BigInt(16);function Te(r,e){let t=r%e;return t>=Mt?t:e+t}function Oe(r,e,t){let n=r;for(;e-- >Mt;)n*=n,n%=t;return n}function wl(r,e){if(r===Mt)throw new Error("invert: expected non-zero number");if(e<=Mt)throw new Error("invert: expected positive modulus, got "+e);let t=Te(r,e),n=e,s=Mt,i=pt,o=pt,c=Mt;for(;t!==Mt;){let p=n/t,_=n%t,E=s-o*p,x=i-c*p;n=t,t=_,s=o,i=c,o=E,c=x}if(n!==pt)throw new Error("invert: does not exist");return Te(s,e)}function nc(r,e,t){if(!r.eql(r.sqr(e),t))throw new Error("Cannot find square root")}function Il(r,e){let t=(r.ORDER+pt)/vl,n=r.pow(e,t);return nc(r,n,e),n}function Xm(r,e){let t=(r.ORDER-Sl)/xl,n=r.mul(e,Dn),s=r.pow(n,t),i=r.mul(e,s),o=r.mul(r.mul(i,Dn),s),c=r.mul(i,r.sub(o,r.ONE));return nc(r,c,e),c}function Jm(r){let e=jt(r),t=Ol(r),n=t(e,e.neg(e.ONE)),s=t(e,n),i=t(e,e.neg(n)),o=(r+Zm)/Al;return(c,f)=>{let p=c.pow(f,o),_=c.mul(p,n),E=c.mul(p,s),x=c.mul(p,i),S=c.eql(c.sqr(_),f),A=c.eql(c.sqr(E),f);p=c.cmov(p,_,S),_=c.cmov(x,E,A);let k=c.eql(c.sqr(_),f),B=c.cmov(p,_,k);return nc(c,B,f),B}}function Ol(r){if(r<Rl)throw new Error("sqrt is not defined for small field");let e=r-pt,t=0;for(;e%Dn===Mt;)e/=Dn,t++;let n=Dn,s=jt(r);for(;El(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return Il;let i=s.pow(n,e),o=(e+pt)/Dn;return function(f,p){if(f.is0(p))return p;if(El(f,p)!==1)throw new Error("Cannot find square root");let _=t,E=f.mul(f.ONE,i),x=f.pow(p,e),S=f.pow(p,o);for(;!f.eql(x,f.ONE);){if(f.is0(x))return f.ZERO;let A=1,k=f.sqr(x);for(;!f.eql(k,f.ONE);)if(A++,k=f.sqr(k),A===_)throw new Error("Cannot find square root");let B=pt<<BigInt(_-A-1),T=f.pow(E,B);_=A,E=f.sqr(T),x=f.mul(x,E),S=f.mul(S,T)}return S}}function Qm(r){return r%vl===Rl?Il:r%xl===Sl?Xm:r%Al===Ym?Jm(r):Ol(r)}var Cr=(r,e)=>(Te(r,e)&pt)===pt,eg=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sc(r){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},t=eg.reduce((n,s)=>(n[s]="function",n),e);return tn(r,t),r}function tg(r,e,t){if(t<Mt)throw new Error("invalid exponent, negatives unsupported");if(t===Mt)return r.ONE;if(t===pt)return e;let n=r.ONE,s=e;for(;t>Mt;)t&pt&&(n=r.mul(n,s)),s=r.sqr(s),t>>=pt;return n}function Zs(r,e,t=!1){let n=new Array(e.length).fill(t?r.ZERO:void 0),s=e.reduce((o,c,f)=>r.is0(c)?o:(n[f]=o,r.mul(o,c)),r.ONE),i=r.inv(s);return e.reduceRight((o,c,f)=>r.is0(c)?o:(n[f]=r.mul(o,n[f]),r.mul(o,c)),i),n}function El(r,e){let t=(r.ORDER-pt)/Dn,n=r.pow(e,t),s=r.eql(n,r.ONE),i=r.eql(n,r.ZERO),o=r.eql(n,r.neg(r.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Ji(r,e){e!==void 0&&Zr(e);let t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function jt(r,e,t=!1,n={}){if(r<=Mt)throw new Error("invalid field: expected ORDER > 0, got "+r);let s,i,o=!1,c;if(typeof e=="object"&&e!=null){if(n.sqrt||t)throw new Error("cannot specify opts in two arguments");let x=e;x.BITS&&(s=x.BITS),x.sqrt&&(i=x.sqrt),typeof x.isLE=="boolean"&&(t=x.isLE),typeof x.modFromBytes=="boolean"&&(o=x.modFromBytes),c=x.allowedLengths}else typeof e=="number"&&(s=e),n.sqrt&&(i=n.sqrt);let{nBitLength:f,nByteLength:p}=Ji(r,s);if(p>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let _,E=Object.freeze({ORDER:r,isLE:t,BITS:f,BYTES:p,MASK:en(f),ZERO:Mt,ONE:pt,allowedLengths:c,create:x=>Te(x,r),isValid:x=>{if(typeof x!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof x);return Mt<=x&&x<r},is0:x=>x===Mt,isValidNot0:x=>!E.is0(x)&&E.isValid(x),isOdd:x=>(x&pt)===pt,neg:x=>Te(-x,r),eql:(x,S)=>x===S,sqr:x=>Te(x*x,r),add:(x,S)=>Te(x+S,r),sub:(x,S)=>Te(x-S,r),mul:(x,S)=>Te(x*S,r),pow:(x,S)=>tg(E,x,S),div:(x,S)=>Te(x*wl(S,r),r),sqrN:x=>x*x,addN:(x,S)=>x+S,subN:(x,S)=>x-S,mulN:(x,S)=>x*S,inv:x=>wl(x,r),sqrt:i||(x=>(_||(_=Qm(r)),_(E,x))),toBytes:x=>t?ec(x,p):Yi(x,p),fromBytes:(x,S=!0)=>{if(c){if(!c.includes(x.length)||x.length>p)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+x.length);let k=new Uint8Array(p);k.set(x,t?0:k.length-x.length),x=k}if(x.length!==p)throw new Error("Field.fromBytes: expected "+p+" bytes, got "+x.length);let A=t?Lr(x):fs(x);if(o&&(A=Te(A,r)),!S&&!E.isValid(A))throw new Error("invalid field element: outside of range 0..ORDER");return A},invertBatch:x=>Zs(E,x),cmov:(x,S,A)=>A?S:x});return Object.freeze(E)}function kl(r){if(typeof r!="bigint")throw new Error("field order must be bigint");let e=r.toString(2).length;return Math.ceil(e/8)}function ic(r){let e=kl(r);return e+Math.ceil(e/2)}function oc(r,e,t=!1){let n=r.length,s=kl(e),i=ic(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);let o=t?Lr(r):fs(r),c=Te(o,e-pt)+pt;return t?ec(c,s):Yi(c,s)}var ds=BigInt(0),zn=BigInt(1);function Ys(r,e){let t=e.negate();return r?t:e}function Mr(r,e){let t=Zs(r.Fp,e.map(n=>n.Z));return e.map((n,s)=>r.fromAffine(n.toAffine(t[s])))}function Ll(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function ac(r,e){Ll(r,e);let t=Math.ceil(e/r)+1,n=2**(r-1),s=2**r,i=en(r),o=BigInt(r);return{windows:t,windowSize:n,mask:i,maxNumber:s,shiftBy:o}}function Tl(r,e,t){let{windowSize:n,mask:s,maxNumber:i,shiftBy:o}=t,c=Number(r&s),f=r>>o;c>n&&(c-=i,f+=zn);let p=e*n,_=p+Math.abs(c)-1,E=c===0,x=c<0,S=e%2!==0;return{nextN:f,offset:_,isZero:E,isNeg:x,isNegF:S,offsetF:p}}function rg(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,n)=>{if(!(t instanceof e))throw new Error("invalid point at index "+n)})}function ng(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,n)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+n)})}var cc=new WeakMap,Cl=new WeakMap;function uc(r){return Cl.get(r)||1}function Nl(r){if(r!==ds)throw new Error("invalid wNAF")}var hs=class{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,n=this.ZERO){let s=e;for(;t>ds;)t&zn&&(n=n.add(s)),s=s.double(),t>>=zn;return n}precomputeWindow(e,t){let{windows:n,windowSize:s}=ac(t,this.bits),i=[],o=e,c=o;for(let f=0;f<n;f++){c=o,i.push(c);for(let p=1;p<s;p++)c=c.add(o),i.push(c);o=c.double()}return i}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE,o=ac(e,this.bits);for(let c=0;c<o.windows;c++){let{nextN:f,offset:p,isZero:_,isNeg:E,isNegF:x,offsetF:S}=Tl(n,c,o);n=f,_?i=i.add(Ys(x,t[S])):s=s.add(Ys(E,t[p]))}return Nl(n),{p:s,f:i}}wNAFUnsafe(e,t,n,s=this.ZERO){let i=ac(e,this.bits);for(let o=0;o<i.windows&&n!==ds;o++){let{nextN:c,offset:f,isZero:p,isNeg:_}=Tl(n,o,i);if(n=c,!p){let E=t[f];s=s.add(_?E.negate():E)}}return Nl(n),s}getPrecomputes(e,t,n){let s=cc.get(t);return s||(s=this.precomputeWindow(t,e),e!==1&&(typeof n=="function"&&(s=n(s)),cc.set(t,s))),s}cached(e,t,n){let s=uc(e);return this.wNAF(s,this.getPrecomputes(s,e,n),t)}unsafe(e,t,n,s){let i=uc(e);return i===1?this._unsafeLadder(e,t,s):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,s)}createCache(e,t){Ll(t,this.bits),Cl.set(e,t),cc.delete(e)}hasCache(e){return uc(e)!==1}};function Ml(r,e,t,n){let s=e,i=r.ZERO,o=r.ZERO;for(;t>ds||n>ds;)t&zn&&(i=i.add(s)),n&zn&&(o=o.add(s)),s=s.double(),t>>=zn,n>>=zn;return{p1:i,p2:o}}function ps(r,e,t,n){rg(t,r),ng(n,e);let s=t.length,i=n.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");let o=r.ZERO,c=Xi(BigInt(s)),f=1;c>12?f=c-3:c>4?f=c-2:c>0&&(f=2);let p=en(f),_=new Array(Number(p)+1).fill(o),E=Math.floor((e.BITS-1)/f)*f,x=o;for(let S=E;S>=0;S-=f){_.fill(o);for(let k=0;k<i;k++){let B=n[k],T=Number(B>>BigInt(S)&p);_[T]=_[T].add(t[k])}let A=o;for(let k=_.length-1,B=o;k>0;k--)B=B.add(_[k]),A=A.add(B);if(x=x.add(A),S!==0)for(let k=0;k<f;k++)x=x.double()}return x}function Bl(r,e,t){if(e){if(e.ORDER!==r)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return sc(e),e}else return jt(r,{isLE:t})}function Qi(r,e,t={},n){if(n===void 0&&(n=r==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${r} CURVE object`);for(let f of["p","n","h"]){let p=e[f];if(!(typeof p=="bigint"&&p>ds))throw new Error(`CURVE.${f} must be positive bigint`)}let s=Bl(e.p,t.Fp,n),i=Bl(e.n,t.Fn,n),c=["Gx","Gy","a",r==="weierstrass"?"b":"d"];for(let f of c)if(!s.isValid(e[f]))throw new Error(`CURVE.${f} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:i}}var rn=BigInt(0),mt=BigInt(1),fc=BigInt(2),sg=BigInt(8);function ig(r,e,t,n){let s=r.sqr(t),i=r.sqr(n),o=r.add(r.mul(e.a,s),i),c=r.add(r.ONE,r.mul(e.d,r.mul(s,i)));return r.eql(o,c)}function og(r,e={}){let t=Qi("edwards",r,e,e.FpFnLE),{Fp:n,Fn:s}=t,i=t.CURVE,{h:o}=i;tn(e,{},{uvRatio:"function"});let c=fc<<BigInt(s.BYTES*8)-mt,f=B=>n.create(B),p=e.uvRatio||((B,T)=>{try{return{isValid:!0,value:n.sqrt(n.div(B,T))}}catch{return{isValid:!1,value:rn}}});if(!ig(n,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function _(B,T,D=!1){let L=D?mt:rn;return Gs("coordinate "+B,T,L,c),T}function E(B){if(!(B instanceof A))throw new Error("ExtendedPoint expected")}let x=ls((B,T)=>{let{X:D,Y:L,Z:K}=B,te=B.is0();T==null&&(T=te?sg:n.inv(K));let ee=f(D*T),ue=f(L*T),ie=n.mul(K,T);if(te)return{x:rn,y:mt};if(ie!==mt)throw new Error("invZ was invalid");return{x:ee,y:ue}}),S=ls(B=>{let{a:T,d:D}=i;if(B.is0())throw new Error("bad point: ZERO");let{X:L,Y:K,Z:te,T:ee}=B,ue=f(L*L),ie=f(K*K),C=f(te*te),Y=f(C*C),G=f(ue*T),Z=f(C*f(G+ie)),m=f(Y+f(D*f(ue*ie)));if(Z!==m)throw new Error("bad point: equation left != right (1)");let a=f(L*K),u=f(te*ee);if(a!==u)throw new Error("bad point: equation left != right (2)");return!0});class A{constructor(T,D,L,K){this.X=_("x",T),this.Y=_("y",D),this.Z=_("z",L,!0),this.T=_("t",K),Object.freeze(this)}static CURVE(){return i}static fromAffine(T){if(T instanceof A)throw new Error("extended point not allowed");let{x:D,y:L}=T||{};return _("x",D),_("y",L),new A(D,L,mt,f(D*L))}static fromBytes(T,D=!1){let L=n.BYTES,{a:K,d:te}=i;T=tc(Wt(T,L,"point")),Br(D,"zip215");let ee=tc(T),ue=T[L-1];ee[L-1]=ue&-129;let ie=Lr(ee),C=D?c:n.ORDER;Gs("point.y",ie,rn,C);let Y=f(ie*ie),G=f(Y-mt),Z=f(te*Y-K),{isValid:m,value:a}=p(G,Z);if(!m)throw new Error("bad point: invalid y coordinate");let u=(a&mt)===mt,d=(ue&128)!==0;if(!D&&a===rn&&d)throw new Error("bad point: x=0 and x_0=1");return d!==u&&(a=f(-a)),A.fromAffine({x:a,y:ie})}static fromHex(T,D=!1){return A.fromBytes(we("point",T),D)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(T=8,D=!0){return k.createCache(this,T),D||this.multiply(fc),this}assertValidity(){S(this)}equals(T){E(T);let{X:D,Y:L,Z:K}=this,{X:te,Y:ee,Z:ue}=T,ie=f(D*ue),C=f(te*K),Y=f(L*ue),G=f(ee*K);return ie===C&&Y===G}is0(){return this.equals(A.ZERO)}negate(){return new A(f(-this.X),this.Y,this.Z,f(-this.T))}double(){let{a:T}=i,{X:D,Y:L,Z:K}=this,te=f(D*D),ee=f(L*L),ue=f(fc*f(K*K)),ie=f(T*te),C=D+L,Y=f(f(C*C)-te-ee),G=ie+ee,Z=G-ue,m=ie-ee,a=f(Y*Z),u=f(G*m),d=f(Y*m),h=f(Z*G);return new A(a,u,h,d)}add(T){E(T);let{a:D,d:L}=i,{X:K,Y:te,Z:ee,T:ue}=this,{X:ie,Y:C,Z:Y,T:G}=T,Z=f(K*ie),m=f(te*C),a=f(ue*L*G),u=f(ee*Y),d=f((K+te)*(ie+C)-Z-m),h=u-a,g=u+a,w=f(m-D*Z),v=f(d*h),y=f(g*w),l=f(d*w),b=f(h*g);return new A(v,y,b,l)}subtract(T){return this.add(T.negate())}multiply(T){if(!s.isValidNot0(T))throw new Error("invalid scalar: expected 1 <= sc < curve.n");let{p:D,f:L}=k.cached(this,T,K=>Mr(A,K));return Mr(A,[D,L])[0]}multiplyUnsafe(T,D=A.ZERO){if(!s.isValid(T))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return T===rn?A.ZERO:this.is0()||T===mt?this:k.unsafe(this,T,L=>Mr(A,L),D)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return k.unsafe(this,i.n).is0()}toAffine(T){return x(this,T)}clearCofactor(){return o===mt?this:this.multiplyUnsafe(o)}toBytes(){let{x:T,y:D}=this.toAffine(),L=n.toBytes(D);return L[L.length-1]|=T&mt?128:0,L}toHex(){return nr(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(T){return Mr(A,T)}static msm(T,D){return ps(A,s,T,D)}_setWindowSize(T){this.precompute(T)}toRawBytes(){return this.toBytes()}}A.BASE=new A(i.Gx,i.Gy,mt,f(i.Gx*i.Gy)),A.ZERO=new A(rn,mt,mt,rn),A.Fp=n,A.Fn=s;let k=new hs(A,s.BITS);return A.BASE.precompute(8),A}var eo=class{constructor(e){this.ep=e}static fromBytes(e){rc()}static fromHex(e){rc()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return nr(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,t){return this.init(this.ep.precompute(e,t))}toRawBytes(){return this.toBytes()}};function ag(r,e,t={}){if(typeof e!="function")throw new Error('"hash" function param is required');tn(t,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:n}=t,{BASE:s,Fp:i,Fn:o}=r,c=t.randomBytes||us,f=t.adjustScalarBytes||(C=>C),p=t.domain||((C,Y,G)=>{if(Br(G,"phflag"),Y.length||G)throw new Error("Contexts/pre-hash are not supported");return C});function _(C){return o.create(Lr(C))}function E(C){let Y=L.secretKey;C=we("private key",C,Y);let G=we("hashed private key",e(C),2*Y),Z=f(G.slice(0,Y)),m=G.slice(Y,2*Y),a=_(Z);return{head:Z,prefix:m,scalar:a}}function x(C){let{head:Y,prefix:G,scalar:Z}=E(C),m=s.multiply(Z),a=m.toBytes();return{head:Y,prefix:G,scalar:Z,point:m,pointBytes:a}}function S(C){return x(C).pointBytes}function A(C=Uint8Array.of(),...Y){let G=Ct(...Y);return _(e(p(G,we("context",C),!!n)))}function k(C,Y,G={}){C=we("message",C),n&&(C=n(C));let{prefix:Z,scalar:m,pointBytes:a}=x(Y),u=A(G.context,Z,C),d=s.multiply(u).toBytes(),h=A(G.context,d,a,C),g=o.create(u+h*m);if(!o.isValid(g))throw new Error("sign failed: invalid s");let w=Ct(d,o.toBytes(g));return Wt(w,L.signature,"result")}let B={zip215:!0};function T(C,Y,G,Z=B){let{context:m,zip215:a}=Z,u=L.signature;C=we("signature",C,u),Y=we("message",Y),G=we("publicKey",G,L.publicKey),a!==void 0&&Br(a,"zip215"),n&&(Y=n(Y));let d=u/2,h=C.subarray(0,d),g=Lr(C.subarray(d,u)),w,v,y;try{w=r.fromBytes(G,a),v=r.fromBytes(h,a),y=s.multiplyUnsafe(g)}catch{return!1}if(!a&&w.isSmallOrder())return!1;let l=A(m,v.toBytes(),w.toBytes(),Y);return v.add(w.multiplyUnsafe(l)).subtract(y).clearCofactor().is0()}let D=i.BYTES,L={secretKey:D,publicKey:D,signature:2*D,seed:D};function K(C=c(L.seed)){return Wt(C,L.seed,"seed")}function te(C){let Y=ie.randomSecretKey(C);return{secretKey:Y,publicKey:S(Y)}}function ee(C){return kr(C)&&C.length===o.BYTES}function ue(C,Y){try{return!!r.fromBytes(C,Y)}catch{return!1}}let ie={getExtendedPublicKey:x,randomSecretKey:K,isValidSecretKey:ee,isValidPublicKey:ue,toMontgomery(C){let{y:Y}=r.fromBytes(C),G=L.publicKey,Z=G===32;if(!Z&&G!==57)throw new Error("only defined for 25519 and 448");let m=Z?i.div(mt+Y,mt-Y):i.div(Y-mt,Y+mt);return i.toBytes(m)},toMontgomerySecret(C){let Y=L.secretKey;Wt(C,Y);let G=e(C.subarray(0,Y));return f(G).subarray(0,Y)},randomPrivateKey:K,precompute(C=8,Y=r.BASE){return Y.precompute(C,!1)}};return Object.freeze({keygen:te,getPublicKey:S,sign:k,verify:T,utils:ie,Point:r,lengths:L})}function cg(r){let e={a:r.a,d:r.d,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},t=r.Fp,n=jt(e.n,r.nBitLength,!0),s={Fp:t,Fn:n,uvRatio:r.uvRatio},i={randomBytes:r.randomBytes,adjustScalarBytes:r.adjustScalarBytes,domain:r.domain,prehash:r.prehash,mapToCurve:r.mapToCurve};return{CURVE:e,curveOpts:s,hash:r.hash,eddsaOpts:i}}function ug(r,e){let t=e.Point;return Object.assign({},e,{ExtendedPoint:t,CURVE:r,nBitLength:t.Fn.BITS,nByteLength:t.Fn.BYTES})}function Pl(r){let{CURVE:e,curveOpts:t,hash:n,eddsaOpts:s}=cg(r),i=og(e,t),o=ag(i,n,s);return ug(r,o)}var fg=BigInt(0),Pr=BigInt(1),Ul=BigInt(2),gS=BigInt(3),lg=BigInt(5),dg=BigInt(8),ms=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Xs={p:ms,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:dg,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function hg(r){let e=BigInt(10),t=BigInt(20),n=BigInt(40),s=BigInt(80),i=ms,c=r*r%i*r%i,f=Oe(c,Ul,i)*c%i,p=Oe(f,Pr,i)*r%i,_=Oe(p,lg,i)*p%i,E=Oe(_,e,i)*_%i,x=Oe(E,t,i)*E%i,S=Oe(x,n,i)*x%i,A=Oe(S,s,i)*S%i,k=Oe(A,s,i)*S%i,B=Oe(k,e,i)*_%i;return{pow_p_5_8:Oe(B,Ul,i)*r%i,b2:c}}function pg(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}var lc=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function pc(r,e){let t=ms,n=Te(e*e*e,t),s=Te(n*n*e,t),i=hg(r*s).pow_p_5_8,o=Te(r*n*i,t),c=Te(e*o*o,t),f=o,p=Te(o*lc,t),_=c===r,E=c===Te(-r,t),x=c===Te(-r*lc,t);return _&&(o=f),(E||x)&&(o=p),Cr(o,t)&&(o=Te(-o,t)),{isValid:_||E,value:o}}var nn=jt(Xs.p,{isLE:!0}),mg=jt(Xs.n,{isLE:!0}),gg={...Xs,Fp:nn,hash:ml,adjustScalarBytes:pg,uvRatio:pc},qt=Pl(gg);var dc=lc,yg=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),_g=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),bg=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),wg=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Dl=r=>pc(Pr,r),Eg=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),hc=r=>qt.Point.Fp.create(Lr(r)&Eg);function zl(r){let{d:e}=Xs,t=ms,n=T=>nn.create(T),s=n(dc*r*r),i=n((s+Pr)*bg),o=BigInt(-1),c=n((o-e*s)*n(s+e)),{isValid:f,value:p}=pc(i,c),_=n(p*r);Cr(_,t)||(_=n(-_)),f||(p=_),f||(o=s);let E=n(o*(s-Pr)*wg-c),x=p*p,S=n((p+p)*c),A=n(E*yg),k=n(Pr-x),B=n(Pr+x);return new qt.Point(n(S*B),n(k*A),n(A*B),n(S*k))}function Rg(r){yt(r,64);let e=hc(r.subarray(0,32)),t=zl(e),n=hc(r.subarray(32,64)),s=zl(n);return new Ur(t.add(s))}var Ur=class r extends eo{constructor(e){super(e)}static fromAffine(e){return new r(qt.Point.fromAffine(e))}assertSame(e){if(!(e instanceof r))throw new Error("RistrettoPoint expected")}init(e){return new r(e)}static hashToCurve(e){return Rg(we("ristrettoHash",e,64))}static fromBytes(e){yt(e,32);let{a:t,d:n}=Xs,s=ms,i=K=>nn.create(K),o=hc(e);if(!yl(nn.toBytes(o),e)||Cr(o,s))throw new Error("invalid ristretto255 encoding 1");let c=i(o*o),f=i(Pr+t*c),p=i(Pr-t*c),_=i(f*f),E=i(p*p),x=i(t*n*_-E),{isValid:S,value:A}=Dl(i(x*E)),k=i(A*p),B=i(A*k*x),T=i((o+o)*k);Cr(T,s)&&(T=i(-T));let D=i(f*B),L=i(T*D);if(!S||Cr(L,s)||D===fg)throw new Error("invalid ristretto255 encoding 2");return new r(new qt.Point(T,D,Pr,L))}static fromHex(e){return r.fromBytes(we("ristrettoHex",e,32))}static msm(e,t){return ps(r,qt.Point.Fn,e,t)}toBytes(){let{X:e,Y:t,Z:n,T:s}=this.ep,i=ms,o=B=>nn.create(B),c=o(o(n+t)*o(n-t)),f=o(e*t),p=o(f*f),{value:_}=Dl(o(c*p)),E=o(_*c),x=o(_*f),S=o(E*x*s),A;if(Cr(s*S,i)){let B=o(t*dc),T=o(e*dc);e=B,t=T,A=o(E*_g)}else A=x;Cr(e*S,i)&&(t=o(-t));let k=o((n-t)*A);return Cr(k,i)&&(k=o(-k)),nn.toBytes(k)}equals(e){this.assertSame(e);let{X:t,Y:n}=this.ep,{X:s,Y:i}=e.ep,o=p=>nn.create(p),c=o(t*i)===o(n*s),f=o(n*i)===o(t*s);return c||f}is0(){return this.equals(r.ZERO)}};Ur.BASE=new Ur(qt.Point.BASE);Ur.ZERO=new Ur(qt.Point.ZERO);Ur.Fp=nn;Ur.Fn=mg;var au=Rr(gc()),Bt=Rr(_c());var bc=Zi;var Os=Rr(Ql()),R=Rr(Oc()),gh=Rr(Oc());var Vg=1,qg=2,Kg=3,Wg=4,jg=5,Hg=6,Gg=7,Zg=8,Yg=9,Xg=10,Jg=-32700,Qg=-32603,ey=-32602,ty=-32601,ry=-32600,ny=-32016,sy=-32015,iy=-32014,oy=-32013,ay=-32012,cy=-32011,uy=-32010,fy=-32009,ly=-32008,dy=-32007,hy=-32006,py=-32005,my=-32004,gy=-32003,yy=-32002,_y=-32001,by=28e5,wy=2800001,Ey=2800002,Ry=2800003,vy=2800004,Sy=2800005,xy=2800006,Ay=2800007,Iy=2800008,Oy=2800009,ky=2800010,Ty=2800011,Ny=323e4,By=32300001,Ly=3230002,Cy=3230003,My=3230004,Py=361e4,Uy=3610001,Dy=3610002,zy=3610003,Fy=3610004,$y=3610005,Vy=3610006,qy=3610007,Ky=3611e3,Wy=3704e3,jy=3704001,Hy=3704002,Gy=3704003,Zy=3704004,Yy=4128e3,Xy=4128001,Jy=4128002,Qy=4615e3,e_=4615001,t_=4615002,r_=4615003,n_=4615004,s_=4615005,i_=4615006,o_=4615007,a_=4615008,c_=4615009,u_=4615010,f_=4615011,l_=4615012,d_=4615013,h_=4615014,p_=4615015,m_=4615016,g_=4615017,y_=4615018,__=4615019,b_=4615020,w_=4615021,E_=4615022,R_=4615023,v_=4615024,S_=4615025,x_=4615026,A_=4615027,I_=4615028,O_=4615029,k_=4615030,T_=4615031,N_=4615032,B_=4615033,L_=4615034,C_=4615035,M_=4615036,P_=4615037,U_=4615038,D_=4615039,z_=4615040,F_=4615041,$_=4615042,V_=4615043,q_=4615044,K_=4615045,W_=4615046,j_=4615047,H_=4615048,G_=4615049,Z_=4615050,Y_=4615051,X_=4615052,J_=4615053,Q_=4615054,eb=5508e3,tb=5508001,rb=5508002,nb=5508003,sb=5508004,ib=5508005,ob=5508006,ab=5508007,cb=5508008,ub=5508009,fb=5508010,lb=5508011,db=5663e3,hb=5663001,pb=5663002,mb=5663003,gb=5663004,yb=5663005,_b=5663006,bb=5663007,wb=5663008,Eb=5663009,Rb=5663010,vb=5663011,Sb=5663012,xb=5663013,Ab=5663014,Ib=5663015,Ob=5663016,kb=5663017,Tb=5663018,Nb=5663019,Bb=5663020,Lb=705e4,Cb=7050001,Mb=7050002,Pb=7050003,Ub=7050004,Db=7050005,zb=7050006,Fb=7050007,$b=7050008,Vb=7050009,qb=7050010,Kb=7050011,Wb=7050012,jb=7050013,Hb=7050014,Gb=7050015,Zb=7050016,Yb=7050017,Xb=7050018,Jb=7050019,Qb=7050020,ew=7050021,tw=7050022,rw=7050023,nw=7050024,sw=7050025,iw=7050026,ow=7050027,aw=7050028,cw=7050029,uw=7050030,fw=7050031,lw=7050032,dw=7050033,hw=7050034,pw=7050035,mw=7050036,kc=8078e3,Tc=8078001,ed=8078002,td=8078003,Nc=8078004,Bc=8078005,Lc=8078006,gw=8078007,yw=8078008,_w=8078009,bw=8078010,Cc=8078011,ww=8078012,rd=8078013,nd=8078014,Ew=8078015,Rw=8078016,vw=8078017,Sw=8078018,xw=8078019,sd=8078020,id=8078021,Aw=8078022,Iw=81e5,Ow=8100001,kw=8100002,Tw=8100003,Nw=819e4,Bw=8190001,Lw=8190002,Cw=8190003,Mw=8190004,Pw=99e5,Uw=9900001,Dw=9900002,zw=9900003,Fw=9900004;function od(r){return Array.isArray(r)?"%5B"+r.map(od).join("%2C%20")+"%5D":typeof r=="bigint"?`${r}n`:encodeURIComponent(String(r!=null&&Object.getPrototypeOf(r)===null?{...r}:r))}function $w([r,e]){return`${r}=${od(e)}`}function Vw(r){let e=Object.entries(r).map($w).join("&");return btoa(e)}var kS={[Ny]:"Account not found at address: $address",[My]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[Cy]:"Expected decoded account at address: $address",[Ly]:"Failed to decode account data at address: $address",[By]:"Accounts not found at addresses: $addresses",[Oy]:"Unable to find a viable program address bump seed.",[Ey]:"$putativeAddress is not a base58-encoded address.",[by]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[Ry]:"The `CryptoKey` must be an `Ed25519` public key.",[Ty]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[Iy]:"Invalid seeds; point must fall off the Ed25519 curve.",[vy]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[xy]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[Ay]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[Sy]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[ky]:"Program address cannot end with PDA marker.",[wy]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[Wg]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[Vg]:"The network has progressed past the last block for which this transaction could have been committed.",[kc]:"Codec [$codecDescription] cannot decode empty byte arrays.",[Aw]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[sd]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[Bc]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[Lc]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[Nc]:"Encoder and decoder must either both be fixed-size or variable-size.",[yw]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[ed]:"Expected a fixed-size codec, got a variable-size one.",[rd]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[td]:"Expected a variable-size codec, got a fixed-size one.",[xw]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[Tc]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[Sw]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[_w]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[bw]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[Ew]:"Invalid literal union variant. Expected one of [$variants], got $value.",[gw]:"Expected [$codecDescription] to have $expected items, got $actual.",[ww]:"Invalid value $value for base $base with alphabet $alphabet.",[Rw]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[Cc]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[nd]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[id]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[vw]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[Ky]:"No random values implementation could be found.",[c_]:"instruction requires an uninitialized account",[R_]:"instruction tries to borrow reference for an account which is already borrowed",[v_]:"instruction left account with an outstanding borrowed reference",[w_]:"program other than the account's owner changed the size of the account data",[s_]:"account data too small for instruction",[E_]:"instruction expected an executable account",[W_]:"An account does not have enough lamports to be rent-exempt",[H_]:"Program arithmetic overflowed",[K_]:"Failed to serialize or deserialize account data: $encodedData",[Q_]:"Builtin programs must consume compute units",[N_]:"Cross-program invocation call depth too deep",[U_]:"Computational budget exceeded",[x_]:"custom program error: #$code",[g_]:"instruction contains duplicate accounts",[S_]:"instruction modifications of multiply-passed account differ",[k_]:"executable accounts must be rent exempt",[I_]:"instruction changed executable accounts data",[O_]:"instruction changed the balance of an executable account",[y_]:"instruction changed executable bit of an account",[h_]:"instruction modified data of an account it does not own",[d_]:"instruction spent from the balance of an account it does not own",[e_]:"generic instruction error",[Z_]:"Provided owner is not allowed",[V_]:"Account is immutable",[q_]:"Incorrect authority provided",[o_]:"incorrect program id for instruction",[i_]:"insufficient funds for instruction",[n_]:"invalid account data for instruction",[j_]:"Invalid account owner",[t_]:"invalid program argument",[A_]:"program returned invalid error code",[r_]:"invalid instruction data",[P_]:"Failed to reallocate account data",[M_]:"Provided seeds do not result in a valid address",[Y_]:"Accounts data allocations exceeded the maximum allowed per transaction",[X_]:"Max accounts exceeded",[J_]:"Max instruction trace length exceeded",[C_]:"Length of the seed is too long for address generation",[B_]:"An account required by the instruction is missing",[a_]:"missing required signature for instruction",[l_]:"instruction illegally modified the program id of an account",[b_]:"insufficient account keys for instruction",[D_]:"Cross-program invocation with unauthorized signer or writable account",[z_]:"Failed to create program execution environment",[$_]:"Program failed to compile",[F_]:"Program failed to complete",[m_]:"instruction modified data of a read-only account",[p_]:"instruction changed the balance of a read-only account",[L_]:"Cross-program invocation reentrancy not allowed for this instruction",[__]:"instruction modified rent epoch of an account",[f_]:"sum of account balances before and after instruction do not match",[u_]:"instruction requires an initialized account",[Qy]:"",[T_]:"Unsupported program id",[G_]:"Unsupported sysvar",[Yy]:"The instruction does not have any accounts.",[Xy]:"The instruction does not have any data.",[Jy]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[jg]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[qg]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[Dw]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Fw]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[Uw]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Pw]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[zw]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Qg]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[ey]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[ry]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[ty]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[Jg]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[ay]:"$__serverMessage",[_y]:"$__serverMessage",[my]:"$__serverMessage",[iy]:"$__serverMessage",[uy]:"$__serverMessage",[fy]:"$__serverMessage",[ny]:"Minimum context slot has not been reached",[py]:"Node is unhealthy; behind by $numSlotsBehind slots",[ly]:"No snapshot",[yy]:"Transaction simulation failed",[dy]:"$__serverMessage",[cy]:"Transaction history is not available from this node",[hy]:"$__serverMessage",[oy]:"Transaction signature length mismatch",[gy]:"Transaction signature verification failure",[sy]:"$__serverMessage",[Wy]:"Key pair bytes must be of length 64, got $byteLength.",[jy]:"Expected private key bytes with length 32. Actual length: $actualLength.",[Hy]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[Zy]:"The provided private key does not match the provided public key.",[Gy]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[Hg]:"Lamports value must be in the range [0, 2e64-1]",[Gg]:"`$value` cannot be parsed as a `BigInt`",[Xg]:"$message",[Zg]:"`$value` cannot be parsed as a `Number`",[Kg]:"No nonce account could be found at address `$nonceAccountAddress`",[Nw]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[Lw]:"WebSocket was closed before payload could be added to the send buffer",[Cw]:"WebSocket connection closed",[Mw]:"WebSocket failed to connect",[Bw]:"Failed to obtain a subscription id from the server",[Tw]:"Could not find an API plan for RPC method: `$method`",[Iw]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[kw]:"HTTP error ($statusCode): $message",[Ow]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[eb]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[tb]:"The provided value does not implement the `KeyPairSigner` interface",[nb]:"The provided value does not implement the `MessageModifyingSigner` interface",[sb]:"The provided value does not implement the `MessagePartialSigner` interface",[rb]:"The provided value does not implement any of the `MessageSigner` interfaces",[ob]:"The provided value does not implement the `TransactionModifyingSigner` interface",[ab]:"The provided value does not implement the `TransactionPartialSigner` interface",[cb]:"The provided value does not implement the `TransactionSendingSigner` interface",[ib]:"The provided value does not implement any of the `TransactionSigner` interfaces",[ub]:"More than one `TransactionSendingSigner` was identified.",[fb]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[lb]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[qy]:"Cannot export a non-extractable key.",[Uy]:"No digest implementation could be found.",[Py]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[Dy]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[zy]:"No signature verification implementation could be found.",[Fy]:"No key generation implementation could be found.",[$y]:"No signing implementation could be found.",[Vy]:"No key export implementation could be found.",[Yg]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[Zb]:"Transaction processing left an account with an outstanding borrowed reference",[Cb]:"Account in use",[Mb]:"Account loaded twice",[Pb]:"Attempt to debit an account but found no record of a prior credit.",[rw]:"Transaction loads an address table account that doesn't exist",[Fb]:"This transaction has already been processed",[$b]:"Blockhash not found",[Vb]:"Loader call chain is too deep",[Gb]:"Transactions are currently disabled due to cluster maintenance",[uw]:"Transaction contains a duplicate instruction ($index) that is not allowed",[Db]:"Insufficient funds for fee",[fw]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[zb]:"This account may not be used to pay transaction fees",[Kb]:"Transaction contains an invalid account reference",[sw]:"Transaction loads an address table account with invalid data",[iw]:"Transaction address table lookup uses an invalid index",[nw]:"Transaction loads an address table account with an invalid owner",[dw]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[jb]:"This program may not be used for executing instructions",[ow]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[Jb]:"Transaction loads a writable account that cannot be written",[lw]:"Transaction exceeded max loaded accounts data size cap",[qb]:"Transaction requires a fee but has no signature present",[Ub]:"Attempt to load a program that does not exist",[pw]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[hw]:"ResanitizationNeeded",[Hb]:"Transaction failed to sanitize accounts offsets correctly",[Wb]:"Transaction did not pass signature verification",[tw]:"Transaction locked too many accounts",[mw]:"Sum of account balances before and after transaction do not match",[Lb]:"The transaction failed with the error `$errorName`",[Xb]:"Transaction version is unsupported",[ew]:"Transaction would exceed account data limit within the block",[cw]:"Transaction would exceed total account data limit",[Qb]:"Transaction would exceed max account limit within the block",[Yb]:"Transaction would exceed max Block Cost Limit",[aw]:"Transaction would exceed max Vote Cost Limit",[Ib]:"Attempted to sign a transaction with an address that is not a signer for it",[Rb]:"Transaction is missing an address at index: $index.",[Ob]:"Transaction has no expected signers therefore it cannot be encoded",[Bb]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[pb]:"Transaction does not have a blockhash lifetime",[mb]:"Transaction is not a durable nonce transaction",[yb]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[_b]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[wb]:"No fee payer set in CompiledTransaction",[bb]:"Could not find program address at index $index",[Tb]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[Nb]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[vb]:"Transaction is missing a fee payer.",[Sb]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[Ab]:"Transaction first instruction is not advance nonce account instruction.",[xb]:"Transaction with no instructions cannot be durable nonce transaction.",[db]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[hb]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[kb]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[Eb]:"Transaction is missing signatures for addresses: $addresses.",[gb]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"};function qw(r,e={}){{let t=`Solana error #${r}; Decode this error by running \`npx @solana/errors decode -- ${r}`;return Object.keys(e).length&&(t+=` '${Vw(e)}'`),`${t}\``}}var an=class extends Error{constructor(...[e,t]){let n,s;if(t){let{cause:o,...c}=t;o&&(s={cause:o}),Object.keys(c).length>0&&(n=c)}let i=qw(e,n);super(i,s);Xt(this,"cause",this.cause);Xt(this,"context");this.context={__code:e,...n},this.name="SolanaError"}};function Kw(r,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(r)}function ad(r){return Object.freeze({...r,encode:e=>{let t=new Uint8Array(Kw(e,r));return r.write(e,t,0),t}})}function cd(r){return Object.freeze({...r,decode:(e,t=0)=>r.read(e,t)[0]})}function ws(r){return"fixedSize"in r&&typeof r.fixedSize=="number"}function ud(r,e){if(ws(r)!==ws(e))throw new an(Nc);if(ws(r)&&ws(e)&&r.fixedSize!==e.fixedSize)throw new an(Bc,{decoderFixedSize:e.fixedSize,encoderFixedSize:r.fixedSize});if(!ws(r)&&!ws(e)&&r.maxSize!==e.maxSize)throw new an(Lc,{decoderMaxSize:e.maxSize,encoderMaxSize:r.maxSize});return{...e,...r,decode:e.decode,encode:r.encode,read:e.read,write:r.write}}function fd(r,e,t=0){if(e.length-t<=0)throw new an(kc,{codecDescription:r})}function ld(r,e,t,n=0){let s=t.length-n;if(s<e)throw new an(Tc,{bytesLength:s,codecDescription:r,expected:e})}function Ww(r,e,t,n){if(n<e||n>t)throw new an(Cc,{codecDescription:r,max:t,min:e,value:n})}function dd(r){return r?.endian!==1}function jw(r){return ad({fixedSize:r.size,write(e,t,n){r.range&&Ww(r.name,r.range[0],r.range[1],e);let s=new ArrayBuffer(r.size);return r.set(new DataView(s),e,dd(r.config)),t.set(new Uint8Array(s),n),n+r.size}})}function Hw(r){return cd({fixedSize:r.size,read(e,t=0){fd(r.name,e,t),ld(r.name,r.size,e,t);let n=new DataView(Gw(e,t,r.size));return[r.get(n,dd(r.config)),t+r.size]}})}function Gw(r,e,t){let n=r.byteOffset+(e??0),s=t??r.byteLength;return r.buffer.slice(n,n+s)}var Mc=(r={})=>jw({config:r,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),Zw=(r={})=>Hw({config:r,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),hd=(r={})=>ud(Mc(r),Zw(r));var Pc=class extends TypeError{constructor(e,t){let n,{message:s,explanation:i,...o}=e,{path:c}=e,f=c.length===0?s:`At path: ${c.join(".")} -- ${s}`;super(i??f),i!=null&&(this.cause=f),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}};function Yw(r){return ni(r)&&typeof r[Symbol.iterator]=="function"}function ni(r){return typeof r=="object"&&r!=null}function ko(r){return ni(r)&&!Array.isArray(r)}function cr(r){return typeof r=="symbol"?r.toString():typeof r=="string"?JSON.stringify(r):`${r}`}function Xw(r){let{done:e,value:t}=r.next();return e?void 0:t}function Jw(r,e,t,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});let{path:s,branch:i}=e,{type:o}=t,{refinement:c,message:f=`Expected a value of type \`${o}\`${c?` with refinement \`${c}\``:""}, but received: \`${cr(n)}\``}=r;return{value:n,type:o,refinement:c,key:s[s.length-1],path:s,branch:i,...r,message:f}}function*pd(r,e,t,n){Yw(r)||(r=[r]);for(let s of r){let i=Jw(s,e,t,n);i&&(yield i)}}function*Uc(r,e,t={}){let{path:n=[],branch:s=[r],coerce:i=!1,mask:o=!1}=t,c={path:n,branch:s,mask:o};i&&(r=e.coercer(r,c));let f="valid";for(let p of e.validator(r,c))p.explanation=t.message,f="not_valid",yield[p,void 0];for(let[p,_,E]of e.entries(r,c)){let x=Uc(_,E,{path:p===void 0?n:[...n,p],branch:p===void 0?s:[...s,_],coerce:i,mask:o,message:t.message});for(let S of x)S[0]?(f=S[0].refinement!=null?"not_refined":"not_valid",yield[S[0],void 0]):i&&(_=S[1],p===void 0?r=_:r instanceof Map?r.set(p,_):r instanceof Set?r.add(_):ni(r)&&(_!==void 0||p in r)&&(r[p]=_))}if(f!=="not_valid")for(let p of e.refiner(r,c))p.explanation=t.message,f="not_refined",yield[p,void 0];f==="valid"&&(yield[void 0,r])}var sr=class{constructor(e){let{type:t,schema:n,validator:s,refiner:i,coercer:o=f=>f,entries:c=function*(){}}=e;this.type=t,this.schema=n,this.entries=c,this.coercer=o,s?this.validator=(f,p)=>{let _=s(f,p);return pd(_,p,this,f)}:this.validator=()=>[],i?this.refiner=(f,p)=>{let _=i(f,p);return pd(_,p,this,f)}:this.refiner=()=>[]}assert(e,t){return md(e,this,t)}create(e,t){return Es(e,this,t)}is(e){return gd(e,this)}mask(e,t){return Qw(e,this,t)}validate(e,t={}){return si(e,this,t)}};function md(r,e,t){let n=si(r,e,{message:t});if(n[0])throw n[0]}function Es(r,e,t){let n=si(r,e,{coerce:!0,message:t});if(n[0])throw n[0];return n[1]}function Qw(r,e,t){let n=si(r,e,{coerce:!0,mask:!0,message:t});if(n[0])throw n[0];return n[1]}function gd(r,e){return!si(r,e)[0]}function si(r,e,t={}){let n=Uc(r,e,t),s=Xw(n);return s[0]?[new Pc(s[0],function*(){for(let o of n)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function qn(r,e){return new sr({type:r,schema:null,validator:e})}function yd(){return qn("any",()=>!0)}function j(r){return new sr({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(let[t,n]of e.entries())yield[t,n,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${cr(e)}`}})}function ur(){return qn("boolean",r=>typeof r=="boolean")}function To(r){return qn("instance",e=>e instanceof r||`Expected a \`${r.name}\` instance, but received: ${cr(e)}`)}function ke(r){let e=cr(r),t=typeof r;return new sr({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?r:null,validator(n){return n===r||`Expected the literal \`${e}\`, but received: ${cr(n)}`}})}function e1(){return qn("never",()=>!1)}function H(r){return new sr({...r,validator:(e,t)=>e===null||r.validator(e,t),refiner:(e,t)=>e===null||r.refiner(e,t)})}function I(){return qn("number",r=>typeof r=="number"&&!isNaN(r)||`Expected a number, but received: ${cr(r)}`)}function Q(r){return new sr({...r,validator:(e,t)=>e===void 0||r.validator(e,t),refiner:(e,t)=>e===void 0||r.refiner(e,t)})}function Dc(r,e){return new sr({type:"record",schema:null,*entries(t){if(ni(t))for(let n in t){let s=t[n];yield[n,n,r],yield[n,s,e]}},validator(t){return ko(t)||`Expected an object, but received: ${cr(t)}`},coercer(t){return ko(t)?{...t}:t}})}function F(){return qn("string",r=>typeof r=="string"||`Expected a string, but received: ${cr(r)}`)}function No(r){let e=e1();return new sr({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){let n=Math.max(r.length,t.length);for(let s=0;s<n;s++)yield[s,t[s],r[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${cr(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function M(r){let e=Object.keys(r);return new sr({type:"type",schema:r,*entries(t){if(ni(t))for(let n of e)yield[n,t[n],r[n]]},validator(t){return ko(t)||`Expected an object, but received: ${cr(t)}`},coercer(t){return ko(t)?{...t}:t}})}function At(r){let e=r.map(t=>t.type).join(" | ");return new sr({type:"union",schema:null,coercer(t,n){for(let s of r){let[i,o]=s.validate(t,{coerce:!0,mask:n.mask});if(!i)return o}return t},validator(t,n){let s=[];for(let i of r){let[...o]=Uc(t,i,n),[c]=o;if(c[0])for(let[f]of o)f&&s.push(f);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${cr(t)}`,...s]}})}function Kn(){return qn("unknown",()=>!0)}function Rs(r,e,t){return new sr({...r,coercer:(n,s)=>gd(n,e)?r.coercer(t(n,s),s):r.coercer(n,s)})}var j1=Rr($d());var A1=Rr(Vs(),1);var fi=Rr(qd(),1);var Kd=fi.default;var I1=BigInt(0),li=BigInt(1),O1=BigInt(2),k1=BigInt(7),T1=BigInt(256),N1=BigInt(113),Hd=[],Gd=[],Zd=[];for(let r=0,e=li,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],Hd.push(2*(5*n+t)),Gd.push((r+1)*(r+2)/2%64);let s=I1;for(let i=0;i<7;i++)e=(e<<li^(e>>k1)*N1)%T1,e&O1&&(s^=li<<(li<<BigInt(i))-li);Zd.push(s)}var Yd=Hi(Zd,!0),B1=Yd[0],L1=Yd[1],Wd=(r,e,t)=>t>32?ol(r,e,t):sl(r,e,t),jd=(r,e,t)=>t>32?al(r,e,t):il(r,e,t);function C1(r,e=24){let t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){let c=(o+8)%10,f=(o+2)%10,p=t[f],_=t[f+1],E=Wd(p,_,1)^t[c],x=jd(p,_,1)^t[c+1];for(let S=0;S<50;S+=10)r[o+S]^=E,r[o+S+1]^=x}let s=r[2],i=r[3];for(let o=0;o<24;o++){let c=Gd[o],f=Wd(s,i,c),p=jd(s,i,c),_=Hd[o];s=r[_],i=r[_+1],r[_]=f,r[_+1]=p}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)t[c]=r[o+c];for(let c=0;c<10;c++)r[o+c]^=~t[(c+2)%10]&t[(c+4)%10]}r[0]^=B1[n],r[1]^=L1[n]}rr(t)}var Zc=class r extends Yr{constructor(e,t,n,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=i,Zr(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Qf(this.state)}clone(){return this._cloneInto()}keccak(){ja(this.state32),C1(this.state32,this.rounds),ja(this.state32),this.posOut=0,this.pos=0}update(e){Tr(this),e=Mn(e),yt(e);let{blockLen:t,state:n}=this,s=e.length;for(let i=0;i<s;){let o=Math.min(t-this.pos,s-i);for(let c=0;c<o;c++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:s}=this;e[n]^=t,(t&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Tr(this,!1),yt(e),this.finish();let t=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Zr(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ki(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,rr(this.state)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new r(t,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}},M1=(r,e,t)=>qs(()=>new Zc(e,r,t));var Yc=M1(1,136,256/8);var Do=class extends Yr{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,qi(e);let n=Mn(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),rr(i)}update(e){return Tr(this),this.iHash.update(e),this}digestInto(e){Tr(this),yt(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=c,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Xc=(r,e,t)=>new Do(r,e).update(t).digest();Xc.create=(r,e)=>new Do(r,e);var Xd=(r,e)=>(r+(r>=0?e:-e)/Jd)/e;function P1(r,e,t){let[[n,s],[i,o]]=e,c=Xd(o*r,t),f=Xd(-s*r,t),p=r-c*n-f*i,_=-c*s-f*o,E=p<$r,x=_<$r;E&&(p=-p),x&&(_=-_);let S=en(Math.ceil(Xi(t)/2))+Ss;if(p<$r||p>=S||_<$r||_>=S)throw new Error("splitScalar (endomorphism): failed, k="+r);return{k1neg:E,k1:p,k2neg:x,k2:_}}function Qc(r){if(!["compact","recovered","der"].includes(r))throw new Error('Signature format must be "compact", "recovered", or "der"');return r}function Jc(r,e){let t={};for(let n of Object.keys(e))t[n]=r[n]===void 0?e[n]:r[n];return Br(t.lowS,"lowS"),Br(t.prehash,"prehash"),t.format!==void 0&&Qc(t.format),t}var eu=class extends Error{constructor(e=""){super(e)}},Fr={Err:eu,_tlv:{encode:(r,e)=>{let{Err:t}=Fr;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");let n=e.length/2,s=Hs(n);if(s.length/2&128)throw new t("tlv.encode: long form length too big");let i=n>127?Hs(s.length/2|128):"";return Hs(r)+i+s+e},decode(r,e){let{Err:t}=Fr,n=0;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[n++]!==r)throw new t("tlv.decode: wrong tlv");let s=e[n++],i=!!(s&128),o=0;if(!i)o=s;else{let f=s&127;if(!f)throw new t("tlv.decode(long): indefinite length not supported");if(f>4)throw new t("tlv.decode(long): byte length is too big");let p=e.subarray(n,n+f);if(p.length!==f)throw new t("tlv.decode: length bytes not complete");if(p[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(let _ of p)o=o<<8|_;if(n+=f,o<128)throw new t("tlv.decode(long): not minimal encoding")}let c=e.subarray(n,n+o);if(c.length!==o)throw new t("tlv.decode: wrong value length");return{v:c,l:e.subarray(n+o)}}},_int:{encode(r){let{Err:e}=Fr;if(r<$r)throw new e("integer: negative integers are not allowed");let t=Hs(r);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(r){let{Err:e}=Fr;if(r[0]&128)throw new e("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return fs(r)}},toSig(r){let{Err:e,_int:t,_tlv:n}=Fr,s=we("signature",r),{v:i,l:o}=n.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");let{v:c,l:f}=n.decode(2,i),{v:p,l:_}=n.decode(2,f);if(_.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(c),s:t.decode(p)}},hexFromSig(r){let{_tlv:e,_int:t}=Fr,n=e.encode(2,t.encode(r.r)),s=e.encode(2,t.encode(r.s)),i=n+s;return e.encode(48,i)}},$r=BigInt(0),Ss=BigInt(1),Jd=BigInt(2),zo=BigInt(3),U1=BigInt(4);function vs(r,e){let{BYTES:t}=r,n;if(typeof e=="bigint")n=e;else{let s=we("private key",e);try{n=r.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${t}, got ${typeof e}`)}}if(!r.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function D1(r,e={}){let t=Qi("weierstrass",r,e),{Fp:n,Fn:s}=t,i=t.CURVE,{h:o,n:c}=i;tn(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:f}=e;if(f&&(!n.is0(i.a)||typeof f.beta!="bigint"||!Array.isArray(f.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let p=eh(n,s);function _(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function E(Z,m,a){let{x:u,y:d}=m.toAffine(),h=n.toBytes(u);if(Br(a,"isCompressed"),a){_();let g=!n.isOdd(d);return Ct(Qd(g),h)}else return Ct(Uint8Array.of(4),h,n.toBytes(d))}function x(Z){Wt(Z,void 0,"Point");let{publicKey:m,publicKeyUncompressed:a}=p,u=Z.length,d=Z[0],h=Z.subarray(1);if(u===m&&(d===2||d===3)){let g=n.fromBytes(h);if(!n.isValid(g))throw new Error("bad point: is not on curve, wrong x");let w=k(g),v;try{v=n.sqrt(w)}catch(b){let z=b instanceof Error?": "+b.message:"";throw new Error("bad point: is not on curve, sqrt error"+z)}_();let y=n.isOdd(v);return(d&1)===1!==y&&(v=n.neg(v)),{x:g,y:v}}else if(u===a&&d===4){let g=n.BYTES,w=n.fromBytes(h.subarray(0,g)),v=n.fromBytes(h.subarray(g,g*2));if(!B(w,v))throw new Error("bad point: is not on curve");return{x:w,y:v}}else throw new Error(`bad point: got length ${u}, expected compressed=${m} or uncompressed=${a}`)}let S=e.toBytes||E,A=e.fromBytes||x;function k(Z){let m=n.sqr(Z),a=n.mul(m,Z);return n.add(n.add(a,n.mul(Z,i.a)),i.b)}function B(Z,m){let a=n.sqr(m),u=k(Z);return n.eql(a,u)}if(!B(i.Gx,i.Gy))throw new Error("bad curve params: generator point");let T=n.mul(n.pow(i.a,zo),U1),D=n.mul(n.sqr(i.b),BigInt(27));if(n.is0(n.add(T,D)))throw new Error("bad curve params: a or b");function L(Z,m,a=!1){if(!n.isValid(m)||a&&n.is0(m))throw new Error(`bad point coordinate ${Z}`);return m}function K(Z){if(!(Z instanceof C))throw new Error("ProjectivePoint expected")}function te(Z){if(!f||!f.basises)throw new Error("no endo");return P1(Z,f.basises,s.ORDER)}let ee=ls((Z,m)=>{let{X:a,Y:u,Z:d}=Z;if(n.eql(d,n.ONE))return{x:a,y:u};let h=Z.is0();m==null&&(m=h?n.ONE:n.inv(d));let g=n.mul(a,m),w=n.mul(u,m),v=n.mul(d,m);if(h)return{x:n.ZERO,y:n.ZERO};if(!n.eql(v,n.ONE))throw new Error("invZ was invalid");return{x:g,y:w}}),ue=ls(Z=>{if(Z.is0()){if(e.allowInfinityPoint&&!n.is0(Z.Y))return;throw new Error("bad point: ZERO")}let{x:m,y:a}=Z.toAffine();if(!n.isValid(m)||!n.isValid(a))throw new Error("bad point: x or y not field elements");if(!B(m,a))throw new Error("bad point: equation left != right");if(!Z.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function ie(Z,m,a,u,d){return a=new C(n.mul(a.X,Z),a.Y,a.Z),m=Ys(u,m),a=Ys(d,a),m.add(a)}class C{constructor(m,a,u){this.X=L("x",m),this.Y=L("y",a,!0),this.Z=L("z",u),Object.freeze(this)}static CURVE(){return i}static fromAffine(m){let{x:a,y:u}=m||{};if(!m||!n.isValid(a)||!n.isValid(u))throw new Error("invalid affine point");if(m instanceof C)throw new Error("projective point not allowed");return n.is0(a)&&n.is0(u)?C.ZERO:new C(a,u,n.ONE)}static fromBytes(m){let a=C.fromAffine(A(Wt(m,void 0,"point")));return a.assertValidity(),a}static fromHex(m){return C.fromBytes(we("pointHex",m))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(m=8,a=!0){return G.createCache(this,m),a||this.multiply(zo),this}assertValidity(){ue(this)}hasEvenY(){let{y:m}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(m)}equals(m){K(m);let{X:a,Y:u,Z:d}=this,{X:h,Y:g,Z:w}=m,v=n.eql(n.mul(a,w),n.mul(h,d)),y=n.eql(n.mul(u,w),n.mul(g,d));return v&&y}negate(){return new C(this.X,n.neg(this.Y),this.Z)}double(){let{a:m,b:a}=i,u=n.mul(a,zo),{X:d,Y:h,Z:g}=this,w=n.ZERO,v=n.ZERO,y=n.ZERO,l=n.mul(d,d),b=n.mul(h,h),z=n.mul(g,g),U=n.mul(d,h);return U=n.add(U,U),y=n.mul(d,g),y=n.add(y,y),w=n.mul(m,y),v=n.mul(u,z),v=n.add(w,v),w=n.sub(b,v),v=n.add(b,v),v=n.mul(w,v),w=n.mul(U,w),y=n.mul(u,y),z=n.mul(m,z),U=n.sub(l,z),U=n.mul(m,U),U=n.add(U,y),y=n.add(l,l),l=n.add(y,l),l=n.add(l,z),l=n.mul(l,U),v=n.add(v,l),z=n.mul(h,g),z=n.add(z,z),l=n.mul(z,U),w=n.sub(w,l),y=n.mul(z,b),y=n.add(y,y),y=n.add(y,y),new C(w,v,y)}add(m){K(m);let{X:a,Y:u,Z:d}=this,{X:h,Y:g,Z:w}=m,v=n.ZERO,y=n.ZERO,l=n.ZERO,b=i.a,z=n.mul(i.b,zo),U=n.mul(a,h),V=n.mul(u,g),X=n.mul(d,w),ce=n.add(a,u),ne=n.add(h,g);ce=n.mul(ce,ne),ne=n.add(U,V),ce=n.sub(ce,ne),ne=n.add(a,d);let Ae=n.add(h,w);return ne=n.mul(ne,Ae),Ae=n.add(U,X),ne=n.sub(ne,Ae),Ae=n.add(u,d),v=n.add(g,w),Ae=n.mul(Ae,v),v=n.add(V,X),Ae=n.sub(Ae,v),l=n.mul(b,ne),v=n.mul(z,X),l=n.add(v,l),v=n.sub(V,l),l=n.add(V,l),y=n.mul(v,l),V=n.add(U,U),V=n.add(V,U),X=n.mul(b,X),ne=n.mul(z,ne),V=n.add(V,X),X=n.sub(U,X),X=n.mul(b,X),ne=n.add(ne,X),U=n.mul(V,ne),y=n.add(y,U),U=n.mul(Ae,ne),v=n.mul(ce,v),v=n.sub(v,U),U=n.mul(ce,V),l=n.mul(Ae,l),l=n.add(l,U),new C(v,y,l)}subtract(m){return this.add(m.negate())}is0(){return this.equals(C.ZERO)}multiply(m){let{endo:a}=e;if(!s.isValidNot0(m))throw new Error("invalid scalar: out of range");let u,d,h=g=>G.cached(this,g,w=>Mr(C,w));if(a){let{k1neg:g,k1:w,k2neg:v,k2:y}=te(m),{p:l,f:b}=h(w),{p:z,f:U}=h(y);d=b.add(U),u=ie(a.beta,l,z,g,v)}else{let{p:g,f:w}=h(m);u=g,d=w}return Mr(C,[u,d])[0]}multiplyUnsafe(m){let{endo:a}=e,u=this;if(!s.isValid(m))throw new Error("invalid scalar: out of range");if(m===$r||u.is0())return C.ZERO;if(m===Ss)return u;if(G.hasCache(this))return this.multiply(m);if(a){let{k1neg:d,k1:h,k2neg:g,k2:w}=te(m),{p1:v,p2:y}=Ml(C,u,h,w);return ie(a.beta,v,y,d,g)}else return G.unsafe(u,m)}multiplyAndAddUnsafe(m,a,u){let d=this.multiplyUnsafe(a).add(m.multiplyUnsafe(u));return d.is0()?void 0:d}toAffine(m){return ee(this,m)}isTorsionFree(){let{isTorsionFree:m}=e;return o===Ss?!0:m?m(C,this):G.unsafe(this,c).is0()}clearCofactor(){let{clearCofactor:m}=e;return o===Ss?this:m?m(C,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(m=!0){return Br(m,"isCompressed"),this.assertValidity(),S(C,this,m)}toHex(m=!0){return nr(this.toBytes(m))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(m=!0){return this.toBytes(m)}_setWindowSize(m){this.precompute(m)}static normalizeZ(m){return Mr(C,m)}static msm(m,a){return ps(C,s,m,a)}static fromPrivateKey(m){return C.BASE.multiply(vs(s,m))}}C.BASE=new C(i.Gx,i.Gy,n.ONE),C.ZERO=new C(n.ZERO,n.ONE,n.ZERO),C.Fp=n,C.Fn=s;let Y=s.BITS,G=new hs(C,e.endo?Math.ceil(Y/2):Y);return C.BASE.precompute(8),C}function Qd(r){return Uint8Array.of(r?2:3)}function eh(r,e){return{secretKey:e.BYTES,publicKey:1+r.BYTES,publicKeyUncompressed:1+2*r.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function z1(r,e={}){let{Fn:t}=r,n=e.randomBytes||us,s=Object.assign(eh(r.Fp,t),{seed:ic(t.ORDER)});function i(S){try{return!!vs(t,S)}catch{return!1}}function o(S,A){let{publicKey:k,publicKeyUncompressed:B}=s;try{let T=S.length;return A===!0&&T!==k||A===!1&&T!==B?!1:!!r.fromBytes(S)}catch{return!1}}function c(S=n(s.seed)){return oc(Wt(S,s.seed,"seed"),t.ORDER)}function f(S,A=!0){return r.BASE.multiply(vs(t,S)).toBytes(A)}function p(S){let A=c(S);return{secretKey:A,publicKey:f(A)}}function _(S){if(typeof S=="bigint")return!1;if(S instanceof r)return!0;let{secretKey:A,publicKey:k,publicKeyUncompressed:B}=s;if(t.allowedLengths||A===k)return;let T=we("key",S).length;return T===k||T===B}function E(S,A,k=!0){if(_(S)===!0)throw new Error("first arg must be private key");if(_(A)===!1)throw new Error("second arg must be public key");let B=vs(t,S);return r.fromHex(A).multiply(B).toBytes(k)}return Object.freeze({getPublicKey:f,getSharedSecret:E,keygen:p,Point:r,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:c,isValidPrivateKey:i,randomPrivateKey:c,normPrivateKeyToScalar:S=>vs(t,S),precompute(S=8,A=r.BASE){return A.precompute(S,!1)}},lengths:s})}function F1(r,e,t={}){qi(e),tn(t,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=t.randomBytes||us,s=t.hmac||((a,...u)=>Xc(e,a,Ct(...u))),{Fp:i,Fn:o}=r,{ORDER:c,BITS:f}=o,{keygen:p,getPublicKey:_,getSharedSecret:E,utils:x,lengths:S}=z1(r,t),A={prehash:!1,lowS:typeof t.lowS=="boolean"?t.lowS:!1,format:void 0,extraEntropy:!1},k="compact";function B(a){let u=c>>Ss;return a>u}function T(a,u){if(!o.isValidNot0(u))throw new Error(`invalid signature ${a}: out of range 1..Point.Fn.ORDER`);return u}function D(a,u){Qc(u);let d=S.signature,h=u==="compact"?d:u==="recovered"?d+1:void 0;return Wt(a,h,`${u} signature`)}class L{constructor(u,d,h){this.r=T("r",u),this.s=T("s",d),h!=null&&(this.recovery=h),Object.freeze(this)}static fromBytes(u,d=k){D(u,d);let h;if(d==="der"){let{r:y,s:l}=Fr.toSig(Wt(u));return new L(y,l)}d==="recovered"&&(h=u[0],d="compact",u=u.subarray(1));let g=o.BYTES,w=u.subarray(0,g),v=u.subarray(g,g*2);return new L(o.fromBytes(w),o.fromBytes(v),h)}static fromHex(u,d){return this.fromBytes(Cn(u),d)}addRecoveryBit(u){return new L(this.r,this.s,u)}recoverPublicKey(u){let d=i.ORDER,{r:h,s:g,recovery:w}=this;if(w==null||![0,1,2,3].includes(w))throw new Error("recovery id invalid");if(c*Jd<d&&w>1)throw new Error("recovery id is ambiguous for h>1 curve");let y=w===2||w===3?h+c:h;if(!i.isValid(y))throw new Error("recovery id 2 or 3 invalid");let l=i.toBytes(y),b=r.fromBytes(Ct(Qd((w&1)===0),l)),z=o.inv(y),U=te(we("msgHash",u)),V=o.create(-U*z),X=o.create(g*z),ce=r.BASE.multiplyUnsafe(V).add(b.multiplyUnsafe(X));if(ce.is0())throw new Error("point at infinify");return ce.assertValidity(),ce}hasHighS(){return B(this.s)}toBytes(u=k){if(Qc(u),u==="der")return Cn(Fr.hexFromSig(this));let d=o.toBytes(this.r),h=o.toBytes(this.s);if(u==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Ct(Uint8Array.of(this.recovery),d,h)}return Ct(d,h)}toHex(u){return nr(this.toBytes(u))}assertValidity(){}static fromCompact(u){return L.fromBytes(we("sig",u),"compact")}static fromDER(u){return L.fromBytes(we("sig",u),"der")}normalizeS(){return this.hasHighS()?new L(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return nr(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return nr(this.toBytes("compact"))}}let K=t.bits2int||function(u){if(u.length>8192)throw new Error("input is too large");let d=fs(u),h=u.length*8-f;return h>0?d>>BigInt(h):d},te=t.bits2int_modN||function(u){return o.create(K(u))},ee=en(f);function ue(a){return Gs("num < 2^"+f,a,$r,ee),o.toBytes(a)}function ie(a,u){return Wt(a,void 0,"message"),u?Wt(e(a),void 0,"prehashed message"):a}function C(a,u,d){if(["recovered","canonical"].some(V=>V in d))throw new Error("sign() legacy options not supported");let{lowS:h,prehash:g,extraEntropy:w}=Jc(d,A);a=ie(a,g);let v=te(a),y=vs(o,u),l=[ue(y),ue(v)];if(w!=null&&w!==!1){let V=w===!0?n(S.secretKey):w;l.push(we("extraEntropy",V))}let b=Ct(...l),z=v;function U(V){let X=K(V);if(!o.isValidNot0(X))return;let ce=o.inv(X),ne=r.BASE.multiply(X).toAffine(),Ae=o.create(ne.x);if(Ae===$r)return;let _e=o.create(ce*o.create(z+Ae*y));if(_e===$r)return;let Re=(ne.x===Ae?0:2)|Number(ne.y&Ss),Ls=_e;return h&&B(_e)&&(Ls=o.neg(_e),Re^=1),new L(Ae,Ls,Re)}return{seed:b,k2sig:U}}function Y(a,u,d={}){a=we("message",a);let{seed:h,k2sig:g}=C(a,u,d);return bl(e.outputLen,o.BYTES,s)(h,g)}function G(a){let u,d=typeof a=="string"||kr(a),h=!d&&a!==null&&typeof a=="object"&&typeof a.r=="bigint"&&typeof a.s=="bigint";if(!d&&!h)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(h)u=new L(a.r,a.s);else if(d){try{u=L.fromBytes(we("sig",a),"der")}catch(g){if(!(g instanceof Fr.Err))throw g}if(!u)try{u=L.fromBytes(we("sig",a),"compact")}catch{return!1}}return u||!1}function Z(a,u,d,h={}){let{lowS:g,prehash:w,format:v}=Jc(h,A);if(d=we("publicKey",d),u=ie(we("message",u),w),"strict"in h)throw new Error("options.strict was renamed to lowS");let y=v===void 0?G(a):L.fromBytes(we("sig",a),v);if(y===!1)return!1;try{let l=r.fromBytes(d);if(g&&y.hasHighS())return!1;let{r:b,s:z}=y,U=te(u),V=o.inv(z),X=o.create(U*V),ce=o.create(b*V),ne=r.BASE.multiplyUnsafe(X).add(l.multiplyUnsafe(ce));return ne.is0()?!1:o.create(ne.x)===b}catch{return!1}}function m(a,u,d={}){let{prehash:h}=Jc(d,A);return u=ie(u,h),L.fromBytes(a,"recovered").recoverPublicKey(u).toBytes()}return Object.freeze({keygen:p,getPublicKey:_,getSharedSecret:E,utils:x,lengths:S,Point:r,sign:Y,verify:Z,recoverPublicKey:m,Signature:L,hash:e})}function $1(r){let e={a:r.a,b:r.b,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},t=r.Fp,n=r.allowedPrivateKeyLengths?Array.from(new Set(r.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0,s=jt(e.n,{BITS:r.nBitLength,allowedLengths:n,modFromBytes:r.wrapPrivateKey}),i={Fp:t,Fn:s,allowInfinityPoint:r.allowInfinityPoint,endo:r.endo,isTorsionFree:r.isTorsionFree,clearCofactor:r.clearCofactor,fromBytes:r.fromBytes,toBytes:r.toBytes};return{CURVE:e,curveOpts:i}}function V1(r){let{CURVE:e,curveOpts:t}=$1(r),n={hmac:r.hmac,randomBytes:r.randomBytes,lowS:r.lowS,bits2int:r.bits2int,bits2int_modN:r.bits2int_modN};return{CURVE:e,curveOpts:t,hash:r.hash,ecdsaOpts:n}}function q1(r,e){let t=e.Point;return Object.assign({},e,{ProjectivePoint:t,CURVE:Object.assign({},r,Ji(t.Fn.ORDER,t.Fn.BITS))})}function th(r){let{CURVE:e,curveOpts:t,hash:n,ecdsaOpts:s}=V1(r),i=D1(e,t),o=F1(i,n,s);return q1(r,o)}function rh(r,e){let t=n=>th({...r,hash:n});return{...t(e),create:t}}var ru={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},K1={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]};var nh=BigInt(2);function W1(r){let e=ru.p,t=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),c=BigInt(44),f=BigInt(88),p=r*r*r%e,_=p*p*r%e,E=Oe(_,t,e)*_%e,x=Oe(E,t,e)*_%e,S=Oe(x,nh,e)*p%e,A=Oe(S,s,e)*S%e,k=Oe(A,i,e)*A%e,B=Oe(k,c,e)*k%e,T=Oe(B,f,e)*B%e,D=Oe(T,c,e)*k%e,L=Oe(D,t,e)*_%e,K=Oe(L,o,e)*A%e,te=Oe(K,n,e)*p%e,ee=Oe(te,nh,e);if(!tu.eql(tu.sqr(ee),r))throw new Error("Cannot find square root");return ee}var tu=jt(ru.p,{sqrt:W1}),Fo=rh({...ru,Fp:tu,lowS:!0,endo:K1},Zi);var rA=qt.utils.randomPrivateKey,sh=()=>{let r=qt.utils.randomPrivateKey(),e=cu(r),t=new Uint8Array(64);return t.set(r),t.set(e,32),{publicKey:e,secretKey:t}},cu=qt.getPublicKey;function ih(r){try{return qt.ExtendedPoint.fromHex(r),!0}catch{return!1}}var Ru=(r,e)=>qt.sign(r,e.slice(0,32)),H1=qt.verify,ye=r=>oe.Buffer.isBuffer(r)?r:r instanceof Uint8Array?oe.Buffer.from(r.buffer,r.byteOffset,r.byteLength):oe.Buffer.from(r),uu=class{constructor(e){Object.assign(this,e)}encode(){return oe.Buffer.from((0,Os.serialize)(Vo,this))}static decode(e){return(0,Os.deserialize)(Vo,this,e)}static decodeUnchecked(e){return(0,Os.deserializeUnchecked)(Vo,this,e)}};var Vo=new Map,yh,G1=32,dn=32;function Z1(r){return r._bn!==void 0}var oh=1,le=class r extends uu{constructor(e){if(super({}),this._bn=void 0,Z1(e))this._bn=e._bn;else{if(typeof e=="string"){let t=Bt.default.decode(e);if(t.length!=dn)throw new Error("Invalid public key input");this._bn=new au.default(t)}else this._bn=new au.default(e);if(this._bn.byteLength()>dn)throw new Error("Invalid public key input")}}static unique(){let e=new r(oh);return oh+=1,new r(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Bt.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(oe.Buffer);if(e.length===dn)return e;let t=oe.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){let s=oe.Buffer.concat([e.toBuffer(),oe.Buffer.from(t),n.toBuffer()]),i=bc(s);return new r(i)}static createProgramAddressSync(e,t){let n=oe.Buffer.alloc(0);e.forEach(function(i){if(i.length>G1)throw new TypeError("Max seed length exceeded");n=oe.Buffer.concat([n,ye(i)])}),n=oe.Buffer.concat([n,t.toBuffer(),oe.Buffer.from("ProgramDerivedAddress")]);let s=bc(n);if(ih(s))throw new Error("Invalid seeds, address must fall off the curve");return new r(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,s;for(;n!=0;){try{let i=e.concat(oe.Buffer.from([n]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[s,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){let t=new r(e);return ih(t.toBytes())}};yh=le;le.default=new yh("11111111111111111111111111111111");Vo.set(le,{kind:"struct",fields:[["_bn","u256"]]});var nA=new le("BPFLoader1111111111111111111111111111111111"),Wn=1232,vu=127,qo=64,fu=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(fu.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var lu=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(lu.prototype,"name",{value:"TransactionExpiredTimeoutError"});var du=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(du.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var As=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((i,o)=>{n.set(i.toBase58(),o)});let s=i=>{let o=n.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}},pe=(r="publicKey")=>R.blob(32,r),Y1=(r="signature")=>R.blob(64,r),xs=(r="string")=>{let e=R.struct([R.u32("length"),R.u32("lengthPadding"),R.blob(R.offset(R.u32(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,c)=>{let f={chars:oe.Buffer.from(i,"utf8")};return n(f,o,c)},s.alloc=i=>R.u32().span+R.u32().span+oe.Buffer.from(i,"utf8").length,s},X1=(r="authorized")=>R.struct([pe("staker"),pe("withdrawer")],r),J1=(r="lockup")=>R.struct([R.ns64("unixTimestamp"),R.ns64("epoch"),pe("custodian")],r),Q1=(r="voteInit")=>R.struct([pe("nodePubkey"),pe("authorizedVoter"),pe("authorizedWithdrawer"),R.u8("commission")],r),eE=(r="voteAuthorizeWithSeedArgs")=>R.struct([R.u32("voteAuthorizationType"),pe("currentAuthorityDerivedKeyOwnerPubkey"),xs("currentAuthorityDerivedKeySeed"),pe("newAuthorized")],r);function _h(r,e){let t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){let i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return _h({layout:s},e[s.property]);return 0},n=0;return r.layout.fields.forEach(s=>{n+=t(s)}),n}function Gt(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}function Zt(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}function Ie(r,e){if(!r)throw new Error(e||"Assertion failed")}var Ko=class r{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){let n=new Map,s=o=>{let c=o.toBase58(),f=n.get(c);return f===void 0&&(f={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(c,f)),f},i=s(t);i.isSigner=!0,i.isWritable=!0;for(let o of e){s(o.programId).isInvoked=!0;for(let c of o.keys){let f=s(c.pubkey);f.isSigner||(f.isSigner=c.isSigner),f.isWritable||(f.isWritable=c.isWritable)}}return new r(t,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];Ie(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,f])=>f.isSigner&&f.isWritable),n=e.filter(([,f])=>f.isSigner&&!f.isWritable),s=e.filter(([,f])=>!f.isSigner&&f.isWritable),i=e.filter(([,f])=>!f.isSigner&&!f.isWritable),o={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Ie(t.length>0,"Expected at least one writable signer key");let[f]=t[0];Ie(f===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let c=[...t.map(([f])=>new le(f)),...n.map(([f])=>new le(f)),...s.map(([f])=>new le(f)),...i.map(([f])=>new le(f))];return[o,c]}extractTableLookup(e){let[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){let n=new Array,s=new Array;for(let[i,o]of this.keyMetaMap.entries())if(t(o)){let c=new le(i),f=e.findIndex(p=>p.equals(c));f>=0&&(Ie(f<256,"Max lookup table index exceeded"),n.push(f),s.push(c),this.keyMetaMap.delete(i))}return[n,s]}},bh="Reached end of buffer unexpectedly";function qr(r){if(r.length===0)throw new Error(bh);return r.shift()}function Yt(r,...e){let[t]=e;if(e.length===2?t+(e[1]??0)>r.length:t>=r.length)throw new Error(bh);return r.splice(...e)}var pi=class r{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new le(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Bt.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new As(this.staticAccountKeys)}static compile(e){let t=Ko.compile(e.instructions,e.payerKey),[n,s]=t.getMessageComponents(),o=new As(s).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:Bt.default.encode(c.data)}));return new r({header:n,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<i}else{let n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];Zt(t,e);let n=this.instructions.map(E=>{let{accounts:x,programIdIndex:S}=E,A=Array.from(Bt.default.decode(E.data)),k=[];Zt(k,x.length);let B=[];return Zt(B,A.length),{programIdIndex:S,keyIndicesCount:oe.Buffer.from(k),keyIndices:x,dataLength:oe.Buffer.from(B),data:A}}),s=[];Zt(s,n.length);let i=oe.Buffer.alloc(Wn);oe.Buffer.from(s).copy(i);let o=s.length;n.forEach(E=>{let S=R.struct([R.u8("programIdIndex"),R.blob(E.keyIndicesCount.length,"keyIndicesCount"),R.seq(R.u8("keyIndex"),E.keyIndices.length,"keyIndices"),R.blob(E.dataLength.length,"dataLength"),R.seq(R.u8("userdatum"),E.data.length,"data")]).encode(E,i,o);o+=S}),i=i.slice(0,o);let c=R.struct([R.blob(1,"numRequiredSignatures"),R.blob(1,"numReadonlySignedAccounts"),R.blob(1,"numReadonlyUnsignedAccounts"),R.blob(t.length,"keyCount"),R.seq(pe("key"),e,"keys"),pe("recentBlockhash")]),f={numRequiredSignatures:oe.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:oe.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:oe.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:oe.Buffer.from(t),keys:this.accountKeys.map(E=>ye(E.toBytes())),recentBlockhash:Bt.default.decode(this.recentBlockhash)},p=oe.Buffer.alloc(2048),_=c.encode(f,p);return i.copy(p,_),p.slice(0,_+i.length)}static from(e){let t=[...e],n=qr(t);if(n!==(n&vu))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let s=qr(t),i=qr(t),o=Gt(t),c=[];for(let x=0;x<o;x++){let S=Yt(t,0,dn);c.push(new le(oe.Buffer.from(S)))}let f=Yt(t,0,dn),p=Gt(t),_=[];for(let x=0;x<p;x++){let S=qr(t),A=Gt(t),k=Yt(t,0,A),B=Gt(t),T=Yt(t,0,B),D=Bt.default.encode(oe.Buffer.from(T));_.push({programIdIndex:S,accounts:k,data:D})}let E={header:{numRequiredSignatures:n,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Bt.default.encode(oe.Buffer.from(f)),accountKeys:c,instructions:_};return new r(E)}},hu=class r{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new As(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let s=e-n,i=this.addressTableLookups.reduce((o,c)=>o+c.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){let s=e-t,o=n-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{let s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let n of this.addressTableLookups){let s=e.find(i=>i.key.equals(n.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let i of n.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);for(let i of n.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){let t=Ko.compile(e.instructions,e.payerKey),n=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(let _ of i){let E=t.extractTableLookup(_);if(E!==void 0){let[x,{writable:S,readonly:A}]=E;n.push(x),s.writable.push(...S),s.readonly.push(...A)}}let[o,c]=t.getMessageComponents(),p=new As(c,s).compileInstructions(e.instructions);return new r({header:o,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:p,addressTableLookups:n})}serialize(){let e=Array();Zt(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),n=Array();Zt(n,this.compiledInstructions.length);let s=this.serializeAddressTableLookups(),i=Array();Zt(i,this.addressTableLookups.length);let o=R.struct([R.u8("prefix"),R.struct([R.u8("numRequiredSignatures"),R.u8("numReadonlySignedAccounts"),R.u8("numReadonlyUnsignedAccounts")],"header"),R.blob(e.length,"staticAccountKeysLength"),R.seq(pe(),this.staticAccountKeys.length,"staticAccountKeys"),pe("recentBlockhash"),R.blob(n.length,"instructionsLength"),R.blob(t.length,"serializedInstructions"),R.blob(i.length,"addressTableLookupsLength"),R.blob(s.length,"serializedAddressTableLookups")]),c=new Uint8Array(Wn),p=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(_=>_.toBytes()),recentBlockhash:Bt.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},c);return c.slice(0,p)}serializeInstructions(){let e=0,t=new Uint8Array(Wn);for(let n of this.compiledInstructions){let s=Array();Zt(s,n.accountKeyIndexes.length);let i=Array();Zt(i,n.data.length);let o=R.struct([R.u8("programIdIndex"),R.blob(s.length,"encodedAccountKeyIndexesLength"),R.seq(R.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),R.blob(i.length,"encodedDataLength"),R.blob(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(Wn);for(let n of this.addressTableLookups){let s=Array();Zt(s,n.writableIndexes.length);let i=Array();Zt(i,n.readonlyIndexes.length);let o=R.struct([pe("accountKey"),R.blob(s.length,"encodedWritableIndexesLength"),R.seq(R.u8(),n.writableIndexes.length,"writableIndexes"),R.blob(i.length,"encodedReadonlyIndexesLength"),R.seq(R.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],n=qr(t),s=n&vu;Ie(n!==s,"Expected versioned message but received legacy message");let i=s;Ie(i===0,`Expected versioned message with version 0 but found version ${i}`);let o={numRequiredSignatures:qr(t),numReadonlySignedAccounts:qr(t),numReadonlyUnsignedAccounts:qr(t)},c=[],f=Gt(t);for(let A=0;A<f;A++)c.push(new le(Yt(t,0,dn)));let p=Bt.default.encode(Yt(t,0,dn)),_=Gt(t),E=[];for(let A=0;A<_;A++){let k=qr(t),B=Gt(t),T=Yt(t,0,B),D=Gt(t),L=new Uint8Array(Yt(t,0,D));E.push({programIdIndex:k,accountKeyIndexes:T,data:L})}let x=Gt(t),S=[];for(let A=0;A<x;A++){let k=new le(Yt(t,0,dn)),B=Gt(t),T=Yt(t,0,B),D=Gt(t),L=Yt(t,0,D);S.push({accountKey:k,writableIndexes:T,readonlyIndexes:L})}return new r({header:o,staticAccountKeys:c,recentBlockhash:p,compiledInstructions:E,addressTableLookups:S})}},Zo={deserializeMessageVersion(r){let e=r[0],t=e&vu;return t===e?"legacy":t},deserialize:r=>{let e=Zo.deserializeMessageVersion(r);if(e==="legacy")return pi.from(r);if(e===0)return hu.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};var tE=oe.Buffer.alloc(qo).fill(0),ve=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=oe.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Se=class r{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{let{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new ve(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let k=0;k<t.length;k++)if(t[k].programId===void 0)throw new Error(`Transaction instruction index ${k} has undefined program id`);let s=[],i=[];t.forEach(k=>{k.keys.forEach(T=>{i.push({...T})});let B=k.programId.toString();s.includes(B)||s.push(B)}),s.forEach(k=>{i.push({pubkey:new le(k),isSigner:!1,isWritable:!1})});let o=[];i.forEach(k=>{let B=k.pubkey.toString(),T=o.findIndex(D=>D.pubkey.toString()===B);T>-1?(o[T].isWritable=o[T].isWritable||k.isWritable,o[T].isSigner=o[T].isSigner||k.isSigner):o.push(k)}),o.sort(function(k,B){if(k.isSigner!==B.isSigner)return k.isSigner?-1:1;if(k.isWritable!==B.isWritable)return k.isWritable?-1:1;let T={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return k.pubkey.toBase58().localeCompare(B.pubkey.toBase58(),"en",T)});let c=o.findIndex(k=>k.pubkey.equals(n));if(c>-1){let[k]=o.splice(c,1);k.isSigner=!0,k.isWritable=!0,o.unshift(k)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let k of this.signatures){let B=o.findIndex(T=>T.pubkey.equals(k.publicKey));if(B>-1)o[B].isSigner||(o[B].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${k.publicKey.toString()}`)}let f=0,p=0,_=0,E=[],x=[];o.forEach(({pubkey:k,isSigner:B,isWritable:T})=>{B?(E.push(k.toString()),f+=1,T||(p+=1)):(x.push(k.toString()),T||(_+=1))});let S=E.concat(x),A=t.map(k=>{let{data:B,programId:T}=k;return{programIdIndex:S.indexOf(T.toString()),accounts:k.keys.map(D=>S.indexOf(D.pubkey.toString())),data:Bt.default.encode(B)}});return A.forEach(k=>{Ie(k.programIdIndex>=0),k.accounts.forEach(B=>Ie(B>=0))}),new pi({header:{numRequiredSignatures:f,numReadonlySignedAccounts:p,numReadonlyUnsignedAccounts:_},accountKeys:S,recentBlockhash:e,instructions:A})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let t=new Set;this.signatures=e.filter(n=>{let s=n.toString();return t.has(s)?!1:(t.add(s),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let i of e){let o=i.publicKey.toString();t.has(o)||(t.add(o),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));let s=this._compile();this._partialSign(s,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let i of e){let o=i.publicKey.toString();t.has(o)||(t.add(o),n.push(i))}let s=this._compile();this._partialSign(s,...n)}_partialSign(e,...t){let n=e.serialize();t.forEach(s=>{let i=Ru(n,s.secretKey);this._addSignature(s.publicKey,ye(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Ie(t.length===64);let n=this.signatures.findIndex(s=>e.equals(s.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=oe.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){let n={};for(let{signature:s,publicKey:i}of this.signatures)s===null?t&&(n.missing||(n.missing=[])).push(i):H1(s,e,i.toBytes())||(n.invalid||(n.invalid=[])).push(i);return n.invalid||n.missing?n:void 0}serialize(e){let{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(n){let i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(c=>c.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(c=>c.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){let{signatures:t}=this,n=[];Zt(n,t.length);let s=n.length+t.length*64+e.length,i=oe.Buffer.alloc(s);return Ie(t.length<256),oe.Buffer.from(n).copy(i,0),t.forEach(({signature:o},c)=>{o!==null&&(Ie(o.length===64,"signature has invalid length"),oe.Buffer.from(o).copy(i,n.length+c*64))}),e.copy(i,n.length+t.length*64),Ie(i.length<=Wn,`Transaction too large: ${i.length} > ${Wn}`),i}get keys(){return Ie(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ie(this.instructions.length===1),this.instructions[0].programId}get data(){return Ie(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e],n=Gt(t),s=[];for(let i=0;i<n;i++){let o=Yt(t,0,qo);s.push(Bt.default.encode(oe.Buffer.from(o)))}return r.populate(pi.from(t),s)}static populate(e,t=[]){let n=new r;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{let o={signature:s==Bt.default.encode(tE)?null:Bt.default.decode(s),publicKey:e.accountKeys[i]};n.signatures.push(o)}),e.instructions.forEach(s=>{let i=s.accounts.map(o=>{let c=e.accountKeys[o];return{pubkey:c,isSigner:n.signatures.some(f=>f.publicKey.toString()===c.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new ve({keys:i,programId:e.accountKeys[s.programIdIndex],data:Bt.default.decode(s.data)}))}),n._message=e,n._json=n.toJSON(),n}};var Wo=class r{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Ie(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{let n=[];for(let s=0;s<e.header.numRequiredSignatures;s++)n.push(new Uint8Array(qo));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),t=Array();Zt(t,this.signatures.length);let n=R.struct([R.blob(t.length,"encodedSignaturesLength"),R.seq(Y1(),this.signatures.length,"signatures"),R.blob(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e],n=[],s=Gt(t);for(let o=0;o<s;o++)n.push(new Uint8Array(Yt(t,0,qo)));let i=Zo.deserialize(new Uint8Array(t));return new r(i,n)}sign(e){let t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let s of e){let i=n.findIndex(o=>o.equals(s.publicKey));Ie(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=Ru(t,s.secretKey)}}addSignature(e,t){Ie(t.byteLength===64,"Signature must be 64 bytes long");let s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Ie(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}},rE=160,nE=64,sE=rE/nE,iE=1e3/sE,Vr=new le("SysvarC1ock11111111111111111111111111111111"),sA=new le("SysvarEpochSchedu1e111111111111111111111111"),iA=new le("Sysvar1nstructions1111111111111111111111111"),nu=new le("SysvarRecentB1ockHashes11111111111111111111"),mi=new le("SysvarRent111111111111111111111111111111111"),oA=new le("SysvarRewards111111111111111111111111111111"),aA=new le("SysvarS1otHashes111111111111111111111111111"),cA=new le("SysvarS1otHistory11111111111111111111111111"),su=new le("SysvarStakeHistory1111111111111111111111111"),pu=class extends Error{constructor({action:e,signature:t,transactionMessage:n,logs:s}){let i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",c;switch(e){case"send":c=`Transaction ${t} resulted in an error. 
${n}. `+i+o;break;case"simulate":c=`Simulation failed. 
Message: ${n}. 
`+i+o;break;default:c=`Unknown action '${(f=>f)(e)}'`}super(c),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=n,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,n)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){let i=s.meta.logMessages;this.transactionLogs=i,t(i)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}};async function ah(r,e,t,n){let s=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},i=await r.sendTransaction(e,t,s),o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await r.confirmTransaction({abortSignal:n?.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:c}=e.nonceInfo,f=c.keys[0].pubkey;o=(await r.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:f,nonceValue:e.nonceInfo.nonce,signature:i},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await r.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw i!=null?new pu({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function oE(r){return new Promise(e=>setTimeout(e,r))}function me(r,e){let t=r.layout.span>=0?r.layout.span:_h(r,e),n=oe.Buffer.alloc(t),s=Object.assign({instruction:r.index},e);return r.layout.encode(s,n),n}var aE=R.nu64("lamportsPerSignature"),cE=R.struct([R.u32("version"),R.u32("state"),pe("authorizedPubkey"),pe("nonce"),R.struct([aE],"feeCalculator")]),ch=cE.span;function Is(r){let e=(0,gh.blob)(8,r),t=e.decode.bind(e),n=e.encode.bind(e),s=e,i=hd();return s.decode=(o,c)=>{let f=t(o,c);return i.decode(f)},s.encode=(o,c,f)=>{let p=i.encode(o);return n(p,c,f)},s}var ir=Object.freeze({Create:{index:0,layout:R.struct([R.u32("instruction"),R.ns64("lamports"),R.ns64("space"),pe("programId")])},Assign:{index:1,layout:R.struct([R.u32("instruction"),pe("programId")])},Transfer:{index:2,layout:R.struct([R.u32("instruction"),Is("lamports")])},CreateWithSeed:{index:3,layout:R.struct([R.u32("instruction"),pe("base"),xs("seed"),R.ns64("lamports"),R.ns64("space"),pe("programId")])},AdvanceNonceAccount:{index:4,layout:R.struct([R.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:R.struct([R.u32("instruction"),pe("authorized")])},AuthorizeNonceAccount:{index:7,layout:R.struct([R.u32("instruction"),pe("authorized")])},Allocate:{index:8,layout:R.struct([R.u32("instruction"),R.ns64("space")])},AllocateWithSeed:{index:9,layout:R.struct([R.u32("instruction"),pe("base"),xs("seed"),R.ns64("space"),pe("programId")])},AssignWithSeed:{index:10,layout:R.struct([R.u32("instruction"),pe("base"),xs("seed"),pe("programId")])},TransferWithSeed:{index:11,layout:R.struct([R.u32("instruction"),Is("lamports"),xs("seed"),pe("programId")])},UpgradeNonceAccount:{index:12,layout:R.struct([R.u32("instruction")])}}),Dt=class r{constructor(){}static createAccount(e){let t=ir.Create,n=me(t,{lamports:e.lamports,space:e.space,programId:ye(e.programId.toBuffer())});return new ve({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let t,n;if("basePubkey"in e){let s=ir.TransferWithSeed;t=me(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:ye(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let s=ir.Transfer;t=me(s,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ve({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){let s=ir.AssignWithSeed;t=me(s,{base:ye(e.basePubkey.toBuffer()),seed:e.seed,programId:ye(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let s=ir.Assign;t=me(s,{programId:ye(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ve({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=ir.CreateWithSeed,n=me(t,{base:ye(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:ye(e.programId.toBuffer())}),s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ve({keys:s,programId:this.programId,data:n})}static createNonceAccount(e){let t=new Se;"basePubkey"in e&&"seed"in e?t.add(r.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:ch,programId:this.programId})):t.add(r.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:ch,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){let t=ir.InitializeNonceAccount,n=me(t,{authorized:ye(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:nu,isSigner:!1,isWritable:!1},{pubkey:mi,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new ve(s)}static nonceAdvance(e){let t=ir.AdvanceNonceAccount,n=me(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:nu,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new ve(s)}static nonceWithdraw(e){let t=ir.WithdrawNonceAccount,n=me(t,{lamports:e.lamports});return new ve({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:nu,isSigner:!1,isWritable:!1},{pubkey:mi,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let t=ir.AuthorizeNonceAccount,n=me(t,{authorized:ye(e.newAuthorizedPubkey.toBuffer())});return new ve({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let t,n;if("basePubkey"in e){let s=ir.AllocateWithSeed;t=me(s,{base:ye(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:ye(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let s=ir.Allocate;t=me(s,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ve({keys:n,programId:this.programId,data:t})}};Dt.programId=new le("11111111111111111111111111111111");var uE=Wn-300,mu=class r{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/r.chunkSize)+1+1)}static async load(e,t,n,s,i){{let E=await e.getMinimumBalanceForRentExemption(i.length),x=await e.getAccountInfo(n.publicKey,"confirmed"),S=null;if(x!==null){if(x.executable)return console.error("Program load failed, account is already executable"),!1;x.data.length!==i.length&&(S=S||new Se,S.add(Dt.allocate({accountPubkey:n.publicKey,space:i.length}))),x.owner.equals(s)||(S=S||new Se,S.add(Dt.assign({accountPubkey:n.publicKey,programId:s}))),x.lamports<E&&(S=S||new Se,S.add(Dt.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:E-x.lamports})))}else S=new Se().add(Dt.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:E>0?E:1,space:i.length,programId:s}));S!==null&&await ah(e,S,[t,n],{commitment:"confirmed"})}let o=R.struct([R.u32("instruction"),R.u32("offset"),R.u32("bytesLength"),R.u32("bytesLengthPadding"),R.seq(R.u8("byte"),R.offset(R.u32(),-8),"bytes")]),c=r.chunkSize,f=0,p=i,_=[];for(;p.length>0;){let E=p.slice(0,c),x=oe.Buffer.alloc(c+16);o.encode({instruction:0,offset:f,bytes:E,bytesLength:0,bytesLengthPadding:0},x);let S=new Se().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:x});_.push(ah(e,S,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await oE(1e3/4),f+=c,p=p.slice(c)}await Promise.all(_);{let E=R.struct([R.u32("instruction")]),x=oe.Buffer.alloc(E.span);E.encode({instruction:1},x);let S=new Se().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:mi,isSigner:!1,isWritable:!1}],programId:s,data:x}),A="processed",k=await e.sendTransaction(S,[t,n],{preflightCommitment:A}),{context:B,value:T}=await e.confirmTransaction({signature:k,lastValidBlockHeight:S.lastValidBlockHeight,blockhash:S.recentBlockhash},A);if(T.err)throw new Error(`Transaction ${k} failed (${JSON.stringify(T)})`);for(;;){try{if(await e.getSlot({commitment:A})>B.slot)break}catch{}await new Promise(D=>setTimeout(D,Math.round(iE/2)))}}return!0}};mu.chunkSize=uE;var uA=new le("BPFLoader2111111111111111111111111111111111");var fA=globalThis.fetch;var lA={index:1,layout:R.struct([R.u32("typeIndex"),Is("deactivationSlot"),R.nu64("lastExtendedSlot"),R.u8("lastExtendedStartIndex"),R.u8(),R.seq(pe(),R.offset(R.u8(),-1),"authority")])};var Ne=Rs(To(le),F(),r=>new le(r)),wh=No([F(),ke("base64")]),Su=Rs(To(oe.Buffer),wh,r=>oe.Buffer.from(r[0],"base64")),dA=30*1e3;function Eh(r){return At([M({jsonrpc:ke("2.0"),id:F(),result:r}),M({jsonrpc:ke("2.0"),id:F(),error:M({code:Kn(),message:F(),data:Q(yd())})})])}var fE=Eh(Kn());function xe(r){return Rs(Eh(r),fE,e=>"error"in e?e:{...e,result:Es(e.result,r)})}function fr(r){return xe(M({context:M({slot:I()}),value:r}))}function Yo(r){return M({context:M({slot:I()}),value:r})}var lE=M({foundation:I(),foundationTerm:I(),initial:I(),taper:I(),terminal:I()}),hA=xe(j(H(M({epoch:I(),effectiveSlot:I(),amount:I(),postBalance:I(),commission:Q(H(I()))})))),dE=j(M({slot:I(),prioritizationFee:I()})),hE=M({total:I(),validator:I(),foundation:I(),epoch:I()}),pE=M({epoch:I(),slotIndex:I(),slotsInEpoch:I(),absoluteSlot:I(),blockHeight:Q(I()),transactionCount:Q(I())}),mE=M({slotsPerEpoch:I(),leaderScheduleSlotOffset:I(),warmup:ur(),firstNormalEpoch:I(),firstNormalSlot:I()}),gE=Dc(F(),j(I())),jn=H(At([M({}),F()])),yE=M({err:jn}),_E=ke("receivedSignature"),pA=M({"solana-core":F(),"feature-set":Q(I())}),bE=M({program:F(),programId:Ne,parsed:Kn()}),wE=M({programId:Ne,accounts:j(Ne),data:F()}),mA=fr(M({err:H(At([M({}),F()])),logs:H(j(F())),accounts:Q(H(j(H(M({executable:ur(),owner:F(),lamports:I(),data:j(F()),rentEpoch:Q(I())}))))),unitsConsumed:Q(I()),returnData:Q(H(M({programId:F(),data:No([F(),ke("base64")])}))),innerInstructions:Q(H(j(M({index:I(),instructions:j(At([bE,wE]))}))))})),gA=fr(M({byIdentity:Dc(F(),j(I())),range:M({firstSlot:I(),lastSlot:I()})}));var yA=xe(lE),_A=xe(hE),bA=xe(dE),wA=xe(pE),EA=xe(mE),RA=xe(gE),vA=xe(I()),SA=fr(M({total:I(),circulating:I(),nonCirculating:I(),nonCirculatingAccounts:j(Ne)})),EE=M({amount:F(),uiAmount:H(I()),decimals:I(),uiAmountString:Q(F())}),xA=fr(j(M({address:Ne,amount:F(),uiAmount:H(I()),decimals:I(),uiAmountString:Q(F())}))),AA=fr(j(M({pubkey:Ne,account:M({executable:ur(),owner:Ne,lamports:I(),data:Su,rentEpoch:I()})}))),gu=M({program:F(),parsed:Kn(),space:I()}),IA=fr(j(M({pubkey:Ne,account:M({executable:ur(),owner:Ne,lamports:I(),data:gu,rentEpoch:I()})}))),OA=fr(j(M({lamports:I(),address:Ne}))),xu=M({executable:ur(),owner:Ne,lamports:I(),data:Su,rentEpoch:I()}),kA=M({pubkey:Ne,account:xu}),RE=Rs(At([To(oe.Buffer),gu]),At([wh,gu]),r=>Array.isArray(r)?Es(r,Su):r),vE=M({executable:ur(),owner:Ne,lamports:I(),data:RE,rentEpoch:I()}),TA=M({pubkey:Ne,account:vE}),NA=M({state:At([ke("active"),ke("inactive"),ke("activating"),ke("deactivating")]),active:I(),inactive:I()}),BA=xe(j(M({signature:F(),slot:I(),err:jn,memo:H(F()),blockTime:Q(H(I()))}))),LA=xe(j(M({signature:F(),slot:I(),err:jn,memo:H(F()),blockTime:Q(H(I()))}))),CA=M({subscription:I(),result:Yo(xu)}),SE=M({pubkey:Ne,account:xu}),MA=M({subscription:I(),result:Yo(SE)}),xE=M({parent:I(),slot:I(),root:I()}),PA=M({subscription:I(),result:xE}),AE=At([M({type:At([ke("firstShredReceived"),ke("completed"),ke("optimisticConfirmation"),ke("root")]),slot:I(),timestamp:I()}),M({type:ke("createdBank"),parent:I(),slot:I(),timestamp:I()}),M({type:ke("frozen"),slot:I(),timestamp:I(),stats:M({numTransactionEntries:I(),numSuccessfulTransactions:I(),numFailedTransactions:I(),maxTransactionsPerEntry:I()})}),M({type:ke("dead"),slot:I(),timestamp:I(),err:F()})]),UA=M({subscription:I(),result:AE}),DA=M({subscription:I(),result:Yo(At([yE,_E]))}),zA=M({subscription:I(),result:I()}),FA=M({pubkey:F(),gossip:H(F()),tpu:H(F()),rpc:H(F()),version:H(F())}),uh=M({votePubkey:F(),nodePubkey:F(),activatedStake:I(),epochVoteAccount:ur(),epochCredits:j(No([I(),I(),I()])),commission:I(),lastVote:I(),rootSlot:H(I())}),$A=xe(M({current:j(uh),delinquent:j(uh)})),IE=At([ke("processed"),ke("confirmed"),ke("finalized")]),OE=M({slot:I(),confirmations:H(I()),err:jn,confirmationStatus:Q(IE)}),VA=fr(j(H(OE))),qA=xe(I()),Rh=M({accountKey:Ne,writableIndexes:j(I()),readonlyIndexes:j(I())}),Au=M({signatures:j(F()),message:M({accountKeys:j(F()),header:M({numRequiredSignatures:I(),numReadonlySignedAccounts:I(),numReadonlyUnsignedAccounts:I()}),instructions:j(M({accounts:j(I()),data:F(),programIdIndex:I()})),recentBlockhash:F(),addressTableLookups:Q(j(Rh))})}),vh=M({pubkey:Ne,signer:ur(),writable:ur(),source:Q(At([ke("transaction"),ke("lookupTable")]))}),Sh=M({accountKeys:j(vh),signatures:j(F())}),xh=M({parsed:Kn(),program:F(),programId:Ne}),Ah=M({accounts:j(Ne),data:F(),programId:Ne}),kE=At([Ah,xh]),TE=At([M({parsed:Kn(),program:F(),programId:F()}),M({accounts:j(F()),data:F(),programId:F()})]),Ih=Rs(kE,TE,r=>"accounts"in r?Es(r,Ah):Es(r,xh)),Oh=M({signatures:j(F()),message:M({accountKeys:j(vh),instructions:j(Ih),recentBlockhash:F(),addressTableLookups:Q(H(j(Rh)))})}),jo=M({accountIndex:I(),mint:F(),owner:Q(F()),programId:Q(F()),uiTokenAmount:EE}),kh=M({writable:j(Ne),readonly:j(Ne)}),Xo=M({err:jn,fee:I(),innerInstructions:Q(H(j(M({index:I(),instructions:j(M({accounts:j(I()),data:F(),programIdIndex:I()}))})))),preBalances:j(I()),postBalances:j(I()),logMessages:Q(H(j(F()))),preTokenBalances:Q(H(j(jo))),postTokenBalances:Q(H(j(jo))),loadedAddresses:Q(kh),computeUnitsConsumed:Q(I()),costUnits:Q(I())}),Iu=M({err:jn,fee:I(),innerInstructions:Q(H(j(M({index:I(),instructions:j(Ih)})))),preBalances:j(I()),postBalances:j(I()),logMessages:Q(H(j(F()))),preTokenBalances:Q(H(j(jo))),postTokenBalances:Q(H(j(jo))),loadedAddresses:Q(kh),computeUnitsConsumed:Q(I()),costUnits:Q(I())}),ks=At([ke(0),ke("legacy")]),Hn=M({pubkey:F(),lamports:I(),postBalance:H(I()),rewardType:H(F()),commission:Q(H(I()))}),KA=xe(H(M({blockhash:F(),previousBlockhash:F(),parentSlot:I(),transactions:j(M({transaction:Au,meta:H(Xo),version:Q(ks)})),rewards:Q(j(Hn)),blockTime:H(I()),blockHeight:H(I())}))),WA=xe(H(M({blockhash:F(),previousBlockhash:F(),parentSlot:I(),rewards:Q(j(Hn)),blockTime:H(I()),blockHeight:H(I())}))),jA=xe(H(M({blockhash:F(),previousBlockhash:F(),parentSlot:I(),transactions:j(M({transaction:Sh,meta:H(Xo),version:Q(ks)})),rewards:Q(j(Hn)),blockTime:H(I()),blockHeight:H(I())}))),HA=xe(H(M({blockhash:F(),previousBlockhash:F(),parentSlot:I(),transactions:j(M({transaction:Oh,meta:H(Iu),version:Q(ks)})),rewards:Q(j(Hn)),blockTime:H(I()),blockHeight:H(I())}))),GA=xe(H(M({blockhash:F(),previousBlockhash:F(),parentSlot:I(),transactions:j(M({transaction:Sh,meta:H(Iu),version:Q(ks)})),rewards:Q(j(Hn)),blockTime:H(I()),blockHeight:H(I())}))),ZA=xe(H(M({blockhash:F(),previousBlockhash:F(),parentSlot:I(),rewards:Q(j(Hn)),blockTime:H(I()),blockHeight:H(I())}))),YA=xe(H(M({blockhash:F(),previousBlockhash:F(),parentSlot:I(),transactions:j(M({transaction:Au,meta:H(Xo)})),rewards:Q(j(Hn)),blockTime:H(I())}))),XA=xe(H(M({blockhash:F(),previousBlockhash:F(),parentSlot:I(),signatures:j(F()),blockTime:H(I())}))),JA=xe(H(M({slot:I(),meta:H(Xo),blockTime:Q(H(I())),transaction:Au,version:Q(ks)}))),QA=xe(H(M({slot:I(),transaction:Oh,meta:H(Iu),blockTime:Q(H(I())),version:Q(ks)}))),eI=fr(M({blockhash:F(),lastValidBlockHeight:I()})),tI=fr(ur()),NE=M({slot:I(),numTransactions:I(),numSlots:I(),samplePeriodSecs:I()}),rI=xe(j(NE)),nI=fr(H(M({feeCalculator:M({lamportsPerSignature:I()})}))),sI=xe(F()),iI=xe(F()),BE=M({err:jn,logs:j(F()),signature:F()}),oI=M({result:Yo(BE),subscription:I()});var yu=class r{constructor(e){this._keypair=void 0,this._keypair=e??sh()}static generate(){return new r(sh())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!t||!t.skipValidation){let s=e.slice(0,32),i=cu(s);for(let o=0;o<32;o++)if(n[o]!==i[o])throw new Error("provided secretKey is invalid")}return new r({publicKey:n,secretKey:e})}static fromSeed(e){let t=cu(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new r({publicKey:t,secretKey:n})}get publicKey(){return new le(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},di=Object.freeze({CreateLookupTable:{index:0,layout:R.struct([R.u32("instruction"),Is("recentSlot"),R.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:R.struct([R.u32("instruction")])},ExtendLookupTable:{index:2,layout:R.struct([R.u32("instruction"),Is(),R.seq(pe(),R.offset(R.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:R.struct([R.u32("instruction")])},CloseLookupTable:{index:4,layout:R.struct([R.u32("instruction")])}});var _u=class{constructor(){}static createLookupTable(e){let[t,n]=le.findProgramAddressSync([e.authority.toBuffer(),Mc().encode(e.recentSlot)],this.programId),s=di.CreateLookupTable,i=me(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Dt.programId,isSigner:!1,isWritable:!1}];return[new ve({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){let t=di.FreezeLookupTable,n=me(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ve({programId:this.programId,keys:s,data:n})}static extendLookupTable(e){let t=di.ExtendLookupTable,n=me(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Dt.programId,isSigner:!1,isWritable:!1}),new ve({programId:this.programId,keys:s,data:n})}static deactivateLookupTable(e){let t=di.DeactivateLookupTable,n=me(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ve({programId:this.programId,keys:s,data:n})}static closeLookupTable(e){let t=di.CloseLookupTable,n=me(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ve({programId:this.programId,keys:s,data:n})}};_u.programId=new le("AddressLookupTab1e1111111111111111111111111");var $o=Object.freeze({RequestUnits:{index:0,layout:R.struct([R.u8("instruction"),R.u32("units"),R.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:R.struct([R.u8("instruction"),R.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:R.struct([R.u8("instruction"),R.u32("units")])},SetComputeUnitPrice:{index:3,layout:R.struct([R.u8("instruction"),Is("microLamports")])}}),bu=class{constructor(){}static requestUnits(e){let t=$o.RequestUnits,n=me(t,e);return new ve({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let t=$o.RequestHeapFrame,n=me(t,e);return new ve({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let t=$o.SetComputeUnitLimit,n=me(t,e);return new ve({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let t=$o.SetComputeUnitPrice,n=me(t,{microLamports:BigInt(e.microLamports)});return new ve({keys:[],programId:this.programId,data:n})}};bu.programId=new le("ComputeBudget111111111111111111111111111111");var fh=64,lh=32,dh=64,hh=R.struct([R.u8("numSignatures"),R.u8("padding"),R.u16("signatureOffset"),R.u16("signatureInstructionIndex"),R.u16("publicKeyOffset"),R.u16("publicKeyInstructionIndex"),R.u16("messageDataOffset"),R.u16("messageDataSize"),R.u16("messageInstructionIndex")]),wu=class r{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:t,message:n,signature:s,instructionIndex:i}=e;Ie(t.length===lh,`Public Key must be ${lh} bytes but received ${t.length} bytes`),Ie(s.length===dh,`Signature must be ${dh} bytes but received ${s.length} bytes`);let o=hh.span,c=o+t.length,f=c+s.length,p=1,_=oe.Buffer.alloc(f+n.length),E=i??65535;return hh.encode({numSignatures:p,padding:0,signatureOffset:c,signatureInstructionIndex:E,publicKeyOffset:o,publicKeyInstructionIndex:E,messageDataOffset:f,messageDataSize:n.length,messageInstructionIndex:E},_),_.fill(t,o),_.fill(s,c),_.fill(n,f),new ve({keys:[],programId:r.programId,data:_})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:n,instructionIndex:s}=e;Ie(t.length===fh,`Private key must be ${fh} bytes but received ${t.length} bytes`);try{let i=yu.fromSecretKey(t),o=i.publicKey.toBytes(),c=Ru(n,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:c,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}};wu.programId=new le("Ed25519SigVerify111111111111111111111111111");var LE=(r,e)=>{let t=Fo.sign(r,e);return[t.toCompactRawBytes(),t.recovery]};Fo.utils.isValidPrivateKey;var CE=Fo.getPublicKey,ph=32,iu=20,mh=64,ME=11,ou=R.struct([R.u8("numSignatures"),R.u16("signatureOffset"),R.u8("signatureInstructionIndex"),R.u16("ethAddressOffset"),R.u8("ethAddressInstructionIndex"),R.u16("messageDataOffset"),R.u16("messageDataSize"),R.u8("messageInstructionIndex"),R.blob(20,"ethAddress"),R.blob(64,"signature"),R.u8("recoveryId")]),Eu=class r{constructor(){}static publicKeyToEthAddress(e){Ie(e.length===mh,`Public key must be ${mh} bytes but received ${e.length} bytes`);try{return oe.Buffer.from(Yc(ye(e))).slice(-iu)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){let{publicKey:t,message:n,signature:s,recoveryId:i,instructionIndex:o}=e;return r.createInstructionWithEthAddress({ethAddress:r.publicKeyToEthAddress(t),message:n,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){let{ethAddress:t,message:n,signature:s,recoveryId:i,instructionIndex:o=0}=e,c;typeof t=="string"?t.startsWith("0x")?c=oe.Buffer.from(t.substr(2),"hex"):c=oe.Buffer.from(t,"hex"):c=t,Ie(c.length===iu,`Address must be ${iu} bytes but received ${c.length} bytes`);let f=1+ME,p=f,_=f+c.length,E=_+s.length+1,x=1,S=oe.Buffer.alloc(ou.span+n.length);return ou.encode({numSignatures:x,signatureOffset:_,signatureInstructionIndex:o,ethAddressOffset:p,ethAddressInstructionIndex:o,messageDataOffset:E,messageDataSize:n.length,messageInstructionIndex:o,signature:ye(s),ethAddress:ye(c),recoveryId:i},S),S.fill(ye(n),ou.span),new ve({keys:[],programId:r.programId,data:S})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:n,instructionIndex:s}=e;Ie(t.length===ph,`Private key must be ${ph} bytes but received ${t.length} bytes`);try{let i=ye(t),o=CE(i,!1).slice(1),c=oe.Buffer.from(Yc(ye(n))),[f,p]=LE(c,i);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:f,recoveryId:p,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}};Eu.programId=new le("KeccakSecp256k11111111111111111111111111111");var Th,PE=new le("StakeConfig11111111111111111111111111111111");var gi=class{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}};Th=gi;gi.default=new Th(0,0,le.default);var ln=Object.freeze({Initialize:{index:0,layout:R.struct([R.u32("instruction"),X1(),J1()])},Authorize:{index:1,layout:R.struct([R.u32("instruction"),pe("newAuthorized"),R.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:R.struct([R.u32("instruction")])},Split:{index:3,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},Withdraw:{index:4,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},Deactivate:{index:5,layout:R.struct([R.u32("instruction")])},Merge:{index:7,layout:R.struct([R.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:R.struct([R.u32("instruction"),pe("newAuthorized"),R.u32("stakeAuthorizationType"),xs("authoritySeed"),pe("authorityOwner")])}}),aI=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),Ho=class{constructor(){}static initialize(e){let{stakePubkey:t,authorized:n,lockup:s}=e,i=s||gi.default,o=ln.Initialize,c=me(o,{authorized:{staker:ye(n.staker.toBuffer()),withdrawer:ye(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:ye(i.custodian.toBuffer())}}),f={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:mi,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new ve(f)}static createAccountWithSeed(e){let t=new Se;t.add(Dt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:s,lockup:i}))}static createAccount(e){let t=new Se;t.add(Dt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:s,lockup:i}))}static delegate(e){let{stakePubkey:t,authorizedPubkey:n,votePubkey:s}=e,i=ln.Delegate,o=me(i);return new Se().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:su,isSigner:!1,isWritable:!1},{pubkey:PE,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){let{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,c=ln.Authorize,f=me(c,{newAuthorized:ye(s.toBuffer()),stakeAuthorizationType:i.index}),p=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&p.push({pubkey:o,isSigner:!0,isWritable:!1}),new Se().add({keys:p,programId:this.programId,data:f})}static authorizeWithSeed(e){let{stakePubkey:t,authorityBase:n,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:c,custodianPubkey:f}=e,p=ln.AuthorizeWithSeed,_=me(p,{newAuthorized:ye(o.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:s,authorityOwner:ye(i.toBuffer())}),E=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Vr,isSigner:!1,isWritable:!1}];return f&&E.push({pubkey:f,isSigner:!0,isWritable:!1}),new Se().add({keys:E,programId:this.programId,data:_})}static splitInstruction(e){let{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:s,lamports:i}=e,o=ln.Split,c=me(o,{lamports:i});return new ve({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(e,t){let n=new Se;return n.add(Dt.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,t){let{stakePubkey:n,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:c,lamports:f}=e,p=new Se;return p.add(Dt.allocate({accountPubkey:i,basePubkey:o,seed:c,space:this.space,programId:this.programId})),t&&t>0&&p.add(Dt.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),p.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:s,splitStakePubkey:i,lamports:f}))}static merge(e){let{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:s}=e,i=ln.Merge,o=me(i);return new Se().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:su,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){let{stakePubkey:t,authorizedPubkey:n,toPubkey:s,lamports:i,custodianPubkey:o}=e,c=ln.Withdraw,f=me(c,{lamports:i}),p=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:su,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&p.push({pubkey:o,isSigner:!0,isWritable:!1}),new Se().add({keys:p,programId:this.programId,data:f})}static deactivate(e){let{stakePubkey:t,authorizedPubkey:n}=e,s=ln.Deactivate,i=me(s);return new Se().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}};Ho.programId=new le("Stake11111111111111111111111111111111111111");Ho.space=200;var hi=Object.freeze({InitializeAccount:{index:0,layout:R.struct([R.u32("instruction"),Q1()])},Authorize:{index:1,layout:R.struct([R.u32("instruction"),pe("newAuthorized"),R.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:R.struct([R.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:R.struct([R.u32("instruction"),eE()])}}),cI=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),Go=class r{constructor(){}static initializeAccount(e){let{votePubkey:t,nodePubkey:n,voteInit:s}=e,i=hi.InitializeAccount,o=me(i,{voteInit:{nodePubkey:ye(s.nodePubkey.toBuffer()),authorizedVoter:ye(s.authorizedVoter.toBuffer()),authorizedWithdrawer:ye(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:mi,isSigner:!1,isWritable:!1},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ve(c)}static createAccount(e){let t=new Se;return t.add(Dt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=hi.Authorize,c=me(o,{newAuthorized:ye(s.toBuffer()),voteAuthorizationType:i.index}),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Se().add({keys:f,programId:this.programId,data:c})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:c}=e,f=hi.AuthorizeWithSeed,p=me(f,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:ye(n.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:ye(i.toBuffer()),voteAuthorizationType:o.index}}),_=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Se().add({keys:_,programId:this.programId,data:p})}static withdraw(e){let{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:s,toPubkey:i}=e,o=hi.Withdraw,c=me(o,{lamports:s}),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Se().add({keys:f,programId:this.programId,data:c})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return r.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:t,authorizedWithdrawerPubkey:n,nodePubkey:s}=e,i=hi.UpdateValidatorIdentity,o=me(i),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Se().add({keys:c,programId:this.programId,data:o})}};Go.programId=new le("Vote111111111111111111111111111111111111111");Go.space=3762;var uI=new le("Va1idator1nfo111111111111111111111111111111"),fI=M({name:F(),website:Q(F()),details:Q(F()),iconUrl:Q(F()),keybaseUsername:Q(F())});var lI=new le("Vote111111111111111111111111111111111111111"),dI=R.struct([pe("nodePubkey"),pe("authorizedWithdrawer"),R.u8("commission"),R.nu64(),R.seq(R.struct([R.nu64("slot"),R.u32("confirmationCount")]),R.offset(R.u32(),-8),"votes"),R.u8("rootSlotValid"),R.nu64("rootSlot"),R.nu64(),R.seq(R.struct([R.nu64("epoch"),pe("authorizedVoter")]),R.offset(R.u32(),-8),"authorizedVoters"),R.struct([R.seq(R.struct([pe("authorizedPubkey"),R.nu64("epochOfLastAuthorizedSwitch"),R.nu64("targetEpoch")]),32,"buf"),R.nu64("idx"),R.u8("isEmpty")],"priorVoters"),R.nu64(),R.seq(R.struct([R.nu64("epoch"),R.nu64("credits"),R.nu64("prevCredits")]),R.offset(R.u32(),-8),"epochCredits"),R.struct([R.nu64("slot"),R.nu64("timestamp")],"lastTimestamp")]);var Nh=r=>({request:r,signMessage:e=>r({method:"signMessage",params:{message:e}}),signTransaction:e=>r({method:"signTransaction",params:{transaction:e}}),signAndSendTransaction:e=>r({method:"signAndSendTransaction",params:e})});function Bh(r){return Buffer.from(r.serialize({verifySignatures:!1})).toString("base64")}function UE(r){let e=Buffer.from(r,"base64");return Zo.deserializeMessageVersion(e)==="legacy"?Wo.deserialize(e):Se.from(e)}function Lh(r){return async t=>{if(t.method==="connect")return await r(t);if(t.method==="signMessage")return await r(t);if(t.method==="signAndSendTransaction"){let{transaction:n}=t.params,s={transaction:Bh(n)};return await r({method:"signAndSendTransaction",params:s})}if(t.method==="signTransaction"){let{transaction:n}=t.params,s={transaction:Bh(n)},{signedTransaction:i}=await r({method:"signTransaction",params:s});return{signedTransaction:UE(i)}}}}var Ch=({miniAppHost:r,emitter:e})=>{let t,n=null;return{visible:!1,get onback(){return n},set onback(s){n&&e.removeListener("backNavigationTriggered",n),n=s,s&&e.addListener("backNavigationTriggered",s)},async show(){await r.updateBackState({visible:!0}),this.visible=!0},async hide(){await r.updateBackState({visible:!1}),this.visible=!1},async enableWebNavigation(){t=DE({back:this,emitter:e})},async disableWebNavigation(){t?.(),t=void 0}}};function DE({emitter:r,back:e}){let t=zE();if(t)return FE({emitter:r,back:e,navigation:t});if(typeof window<"u")return $E({emitter:r,back:e,window})}function zE(){if(typeof window<"u"&&window.navigation!==void 0)return window.navigation}function FE({emitter:r,back:e,navigation:t}){function n(){t.canGoBack?e.show():e.hide()}function s(){e.visible&&t.canGoBack&&t.back()}return t.addEventListener("navigatesuccess",n),r.addListener("backNavigationTriggered",s),()=>{t.removeEventListener("navigatesuccess",n),r.removeListener("backNavigationTriggered",s)}}function $E({emitter:r,back:e,window:t}){e.show();function n(){e.visible&&t.history.back()}return r.addListener("backNavigationTriggered",n),()=>{r.removeListener("backNavigationTriggered",n)}}var Mh="0.1.1";function Ph(){return Mh}var Jo=class r extends Error{constructor(e,t={}){let n=(()=>{if(t.cause instanceof r){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause?.message?t.cause.message:t.details})(),s=t.cause instanceof r&&t.cause.docsPath||t.docsPath,o=`https://oxlib.sh${s??""}`,c=[e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n||s?["",n?`Details: ${n}`:void 0,s?`See: ${o}`:void 0]:[]].filter(f=>typeof f=="string").join(`
`);super(c,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Ph()}`}),this.cause=t.cause,this.details=n,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return Uh(this,e)}};function Uh(r,e){return e?.(r)?r:r&&typeof r=="object"&&"cause"in r&&r.cause?Uh(r.cause,e):e?null:r}function Qo(r,e={}){let{raw:t=!1}=e,n=r;if(t)return r;if(n.error){let{code:s}=n.error,i=s===Gn.code?Gn:s===yi.code?yi:s===Ai.code?Ai:s===Si.code?Si:s===Ri.code?Ri:s===xi.code?xi:s===Ei.code?Ei:s===Ii.code?Ii:s===_i.code?_i:s===bi.code?bi:s===wi.code?wi:s===vi.code?vi:Et;throw new i(n.error)}return n.result}var Et=class extends Error{constructor(e){let{code:t,message:n,data:s}=e;super(n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.data=s}},yi=class r extends Et{constructor(e={}){super({message:"Missing or invalid parameters.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}};Object.defineProperty(yi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});var _i=class r extends Et{constructor(e={}){super({message:"Requested resource not found.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}};Object.defineProperty(_i,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});var bi=class r extends Et{constructor(e={}){super({message:"Requested resource not available.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}};Object.defineProperty(bi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});var wi=class r extends Et{constructor(e={}){super({message:"Transaction creation failed.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}};Object.defineProperty(wi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});var Ei=class r extends Et{constructor(e={}){super({message:"Method is not implemented.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}};Object.defineProperty(Ei,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});var Ri=class r extends Et{constructor(e={}){super({message:"Rate limit exceeded.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}};Object.defineProperty(Ri,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});var vi=class r extends Et{constructor(e={}){super({message:"JSON-RPC version not supported.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}};Object.defineProperty(vi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});var Si=class r extends Et{constructor(e={}){super({message:"Input is not a valid JSON-RPC request.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}};Object.defineProperty(Si,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});var xi=class r extends Et{constructor(e={}){super({message:"Method does not exist.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}};Object.defineProperty(xi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});var Ai=class r extends Et{constructor(e={}){super({message:"Invalid method parameters.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}};Object.defineProperty(Ai,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});var Gn=class r extends Et{constructor(e={}){super({message:"Internal JSON-RPC error.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalErrorError"})}};Object.defineProperty(Gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});var Ii=class r extends Et{constructor(e={}){super({message:"Failed to parse JSON-RPC response.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}};Object.defineProperty(Ii,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});var Er=class extends Error{constructor(e,t){super(t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=t}},Oi=class extends Er{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}};Object.defineProperty(Oi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});var ki=class extends Er{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}};Object.defineProperty(ki,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});var Ti=class extends Er{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}};Object.defineProperty(Ti,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});var Ni=class extends Er{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}};Object.defineProperty(Ni,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});var Bi=class extends Er{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}};Object.defineProperty(Bi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});function zh(){let r=new fi.default;return{get eventNames(){return r.eventNames.bind(r)},get listenerCount(){return r.listenerCount.bind(r)},get listeners(){return r.listeners.bind(r)},addListener:r.addListener.bind(r),emit:r.emit.bind(r),off:r.off.bind(r),on:r.on.bind(r),once:r.once.bind(r),removeAllListeners:r.removeAllListeners.bind(r),removeListener:r.removeListener.bind(r)}}function Fh(r,e={}){let{includeEvents:t=!0}=e;if(!r)throw new Ou;return{...t?{on:r.on?.bind(r),removeListener:r.removeListener?.bind(r)}:{},async request(n){let s=await r.request(n);return s&&typeof s=="object"&&"jsonrpc"in s?Qo(s):s}}}var Ou=class extends Jo{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}};function $h(r={}){let e=r.id??0;return{prepare(t){return KE({id:e++,...t})},get id(){return e}}}function KE(r){return{...r,jsonrpc:"2.0"}}var qh=Symbol("Comlink.proxy"),jE=Symbol("Comlink.endpoint"),HE=Symbol("Comlink.releaseProxy"),ku=Symbol("Comlink.finalizer"),ta=Symbol("Comlink.thrown"),Kh=r=>typeof r=="object"&&r!==null||typeof r=="function",GE={canHandle:r=>Kh(r)&&r[qh],serialize(r){let{port1:e,port2:t}=new MessageChannel;return jh(r,e),[t,[t]]},deserialize(r){return r.start(),Nu(r)}},ZE={canHandle:r=>Kh(r)&&ta in r,serialize({value:r}){let e;return r instanceof Error?e={isError:!0,value:{message:r.message,name:r.name,stack:r.stack}}:e={isError:!1,value:r},[e,[]]},deserialize(r){throw r.isError?Object.assign(new Error(r.value.message),r.value):r.value}},Wh=new Map([["proxy",GE],["throw",ZE]]);function YE(r,e){for(let t of r)if(e===t||t==="*"||t instanceof RegExp&&t.test(e))return!0;return!1}function jh(r,e=globalThis,t=["*"]){e.addEventListener("message",function n(s){if(!s||!s.data)return;if(!YE(t,s.origin)){console.warn(`Invalid origin '${s.origin}' for comlink proxy`);return}let{id:i,type:o,path:c}=Object.assign({path:[]},s.data),f=(s.data.argumentList||[]).map(Zn),p;try{let _=c.slice(0,-1).reduce((x,S)=>x[S],r),E=c.reduce((x,S)=>x[S],r);switch(o){case"GET":p=E;break;case"SET":_[c.slice(-1)[0]]=Zn(s.data.value),p=!0;break;case"APPLY":p=E.apply(_,f);break;case"CONSTRUCT":{let x=new E(...f);p=rR(x)}break;case"ENDPOINT":{let{port1:x,port2:S}=new MessageChannel;jh(r,S),p=tR(x,[x])}break;case"RELEASE":p=void 0;break;default:return}}catch(_){p={value:_,[ta]:0}}Promise.resolve(p).catch(_=>({value:_,[ta]:0})).then(_=>{let[E,x]=sa(_);e.postMessage(Object.assign(Object.assign({},E),{id:i}),x),o==="RELEASE"&&(e.removeEventListener("message",n),Hh(e),ku in r&&typeof r[ku]=="function"&&r[ku]())}).catch(_=>{let[E,x]=sa({value:new TypeError("Unserializable return value"),[ta]:0});e.postMessage(Object.assign(Object.assign({},E),{id:i}),x)})}),e.start&&e.start()}function XE(r){return r.constructor.name==="MessagePort"}function Hh(r){XE(r)&&r.close()}function Nu(r,e){let t=new Map;return r.addEventListener("message",function(s){let{data:i}=s;if(!i||!i.id)return;let o=t.get(i.id);if(o)try{o(i)}finally{t.delete(i.id)}}),Tu(r,t,[],e)}function ea(r){if(r)throw new Error("Proxy has been released and is not useable")}function Gh(r){return Ts(r,new Map,{type:"RELEASE"}).then(()=>{Hh(r)})}var ra=new WeakMap,na="FinalizationRegistry"in globalThis&&new FinalizationRegistry(r=>{let e=(ra.get(r)||0)-1;ra.set(r,e),e===0&&Gh(r)});function JE(r,e){let t=(ra.get(e)||0)+1;ra.set(e,t),na&&na.register(r,e,r)}function QE(r){na&&na.unregister(r)}function Tu(r,e,t=[],n=function(){}){let s=!1,i=new Proxy(n,{get(o,c){if(ea(s),c===HE)return()=>{QE(i),Gh(r),e.clear(),s=!0};if(c==="then"){if(t.length===0)return{then:()=>i};let f=Ts(r,e,{type:"GET",path:t.map(p=>p.toString())}).then(Zn);return f.then.bind(f)}return Tu(r,e,[...t,c])},set(o,c,f){ea(s);let[p,_]=sa(f);return Ts(r,e,{type:"SET",path:[...t,c].map(E=>E.toString()),value:p},_).then(Zn)},apply(o,c,f){ea(s);let p=t[t.length-1];if(p===jE)return Ts(r,e,{type:"ENDPOINT"}).then(Zn);if(p==="bind")return Tu(r,e,t.slice(0,-1));let[_,E]=Vh(f);return Ts(r,e,{type:"APPLY",path:t.map(x=>x.toString()),argumentList:_},E).then(Zn)},construct(o,c){ea(s);let[f,p]=Vh(c);return Ts(r,e,{type:"CONSTRUCT",path:t.map(_=>_.toString()),argumentList:f},p).then(Zn)}});return JE(i,r),i}function eR(r){return Array.prototype.concat.apply([],r)}function Vh(r){let e=r.map(sa);return[e.map(t=>t[0]),eR(e.map(t=>t[1]))]}var Zh=new WeakMap;function tR(r,e){return Zh.set(r,e),r}function rR(r){return Object.assign(r,{[qh]:!0})}function Yh(r,e=globalThis,t="*"){return{postMessage:(n,s)=>r.postMessage(n,t,s),addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}function sa(r){for(let[e,t]of Wh)if(t.canHandle(r)){let[n,s]=t.serialize(r);return[{type:"HANDLER",name:e,value:n},s]}return[{type:"RAW",value:r},Zh.get(r)||[]]}function Zn(r){switch(r.type){case"HANDLER":return Wh.get(r.name).deserialize(r.value);case"RAW":return r.value}}function Ts(r,e,t,n){return new Promise(s=>{let i=nR();e.set(i,s),r.start&&r.start(),r.postMessage(Object.assign({id:i},t),n)})}function nR(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var sR={postMessage(){},addEventListener:()=>{},removeEventListener:()=>{}},iR={postMessage:r=>{window.ReactNativeWebView.postMessage(JSON.stringify(r))},addEventListener:(r,e,...t)=>{document.addEventListener("FarcasterFrameCallback",e,...t)},removeEventListener:(r,e)=>{document.removeEventListener("FarcasterFrameCallback",e)}},Xh=typeof window>"u"?sR:window?.ReactNativeWebView?iR:Yh(window?.parent??window);var ae=Nu(Xh);var Bu=zh(),oR=$h();function aR({code:r,details:e}){switch(r){case 4001:return new Oi;case 4100:return new ki;case 4200:return new Ti;case 4900:return new Ni;case 4901:return new Bi;default:return new Er(r,e??"Unknown provider RPC error")}}var Ns=Fh({...Bu,async request(r){let e=oR.prepare(r);try{let t=await ae.ethProviderRequestV2(e).then(n=>Qo(n,{request:e,raw:!0}));if(t.error)throw aR(t.error);return t.result}catch(t){if(t instanceof Error&&t.message.match(/cannot read property 'apply'/i))return await ae.ethProviderRequest(e);throw t instanceof Er||t instanceof Et?t:new Gn({message:t instanceof Error?t.message:void 0})}}});async function Jh(){try{let r=await ae.getCapabilities();return!r.includes("wallet.getEthereumProvider")&&!r.includes("wallet.getEvmProvider")?void 0:Ns}catch{return Ns}}function Qh(r){let e=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(r)});window.dispatchEvent(e);let t=()=>window.dispatchEvent(e);return window.addEventListener("eip6963:requestProvider",t),()=>window.removeEventListener("eip6963:requestProvider",t)}typeof document<"u"&&(document.addEventListener("eip6963:requestProvider",()=>{ae.eip6963RequestProvider()}),document.addEventListener("FarcasterFrameEthProviderEvent",r=>{if(r instanceof MessageEvent){let e=r.data;Bu.emit(e.event,...e.params)}}),document.addEventListener("FarcasterFrameEvent",r=>{if(r instanceof MessageEvent){let e=r.data;e.event==="eip6963:announceProvider"&&Qh({info:e.info,provider:Ns})}}));typeof window<"u"&&(window.addEventListener("eip6963:requestProvider",()=>{ae.eip6963RequestProvider()}),window.addEventListener("message",r=>{if(r instanceof MessageEvent&&r.data.type==="frameEthProviderEvent"){let e=r.data;Bu.emit(e.event,...e.params)}}),window.addEventListener("message",r=>{if(r instanceof MessageEvent&&r.data.type==="frameEvent"){let e=r.data.event;e.event==="eip6963:announceProvider"&&Qh({info:e.info,provider:Ns})}}));var cR=new TextEncoder,ia=new TextDecoder,qI=2**32;var uR=r=>{let e=atob(r),t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t},ep=r=>{let e=r;e instanceof Uint8Array&&(e=ia.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return uR(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};var tp=ep;function lR(r){return typeof r=="object"&&r!==null}function Lu(r){if(!lR(r)||Object.prototype.toString.call(r)!=="[object Object]")return!1;if(Object.getPrototypeOf(r)===null)return!0;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}var Rt=class extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}};Rt.code="ERR_JOSE_GENERIC";var Cu=class extends Rt{constructor(e,t,n="unspecified",s="unspecified"){super(e,{cause:{claim:n,reason:s,payload:t}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=n,this.reason=s,this.payload=t}};Cu.code="ERR_JWT_CLAIM_VALIDATION_FAILED";var Mu=class extends Rt{constructor(e,t,n="unspecified",s="unspecified"){super(e,{cause:{claim:n,reason:s,payload:t}}),this.code="ERR_JWT_EXPIRED",this.claim=n,this.reason=s,this.payload=t}};Mu.code="ERR_JWT_EXPIRED";var Pu=class extends Rt{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}};Pu.code="ERR_JOSE_ALG_NOT_ALLOWED";var Uu=class extends Rt{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}};Uu.code="ERR_JOSE_NOT_SUPPORTED";var Du=class extends Rt{constructor(e="decryption operation failed",t){super(e,t),this.code="ERR_JWE_DECRYPTION_FAILED"}};Du.code="ERR_JWE_DECRYPTION_FAILED";var zu=class extends Rt{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}};zu.code="ERR_JWE_INVALID";var Fu=class extends Rt{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}};Fu.code="ERR_JWS_INVALID";var lr=class extends Rt{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}};lr.code="ERR_JWT_INVALID";var $u=class extends Rt{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}};$u.code="ERR_JWK_INVALID";var Vu=class extends Rt{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}};Vu.code="ERR_JWKS_INVALID";var qu=class extends Rt{constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_NO_MATCHING_KEY"}};qu.code="ERR_JWKS_NO_MATCHING_KEY";var Ku=class extends Rt{constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}};Ku.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";var Wu=class extends Rt{constructor(e="request timed out",t){super(e,t),this.code="ERR_JWKS_TIMEOUT"}};Wu.code="ERR_JWKS_TIMEOUT";var ju=class extends Rt{constructor(e="signature verification failed",t){super(e,t),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}};ju.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function rp(r){if(typeof r!="string")throw new lr("JWTs must use Compact JWS serialization, JWT must be a string");let{1:e,length:t}=r.split(".");if(t===5)throw new lr("Only JWTs using Compact JWS serialization can be decoded");if(t!==3)throw new lr("Invalid JWT");if(!e)throw new lr("JWTs must contain a payload");let n;try{n=tp(e)}catch{throw new lr("Failed to base64url decode the payload")}let s;try{s=JSON.parse(ia.decode(n))}catch{throw new lr("Failed to parse the decoded payload as JSON")}if(!Lu(s))throw new lr("Invalid JWT Claims Set");return s}function np(r){return rp(r)}var oa=class r extends Error{constructor(e,t={}){let n=(()=>{if(t.cause instanceof r){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&typeof t.cause.details=="string"?t.cause.details:t.cause?.message?t.cause.message:t.details})(),s=[e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n?["",n?`Details: ${n}`:void 0]:[]].filter(i=>typeof i=="string").join(`
`);super(s,t.cause?{cause:t.cause}:void 0),this.name="BaseError",this.cause=t.cause,this.details=n,this.shortMessage=e}},Bs=class extends oa{constructor({status:e}){super(`Request failed with status ${e}`),this.name="RequestFailedError"}},aa=class extends oa{constructor(e){super(e),this.name="InvalidToken"}};async function sp({origin:r}){let e=await fetch(`${r}/nonce`,{method:"POST"});if(!e.ok)throw new Bs({status:e.status});return await e.json()}async function ip({origin:r},e){let t=await fetch(`${r}/verify-siwf`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!t.ok)throw new Bs({status:t.status});let n=await t.json();if(n.valid===!1)throw new aa(n.message??"unknown");return{token:n.token}}function op(r={}){return{origin:r.origin??"https://auth.farcaster.xyz"}}function ap(r={}){let e=op(r);return{generateNonce:()=>sp(e),verifySiwf:t=>ip(e,t)}}var dR=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,hR=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function cp(r){let{scheme:e,statement:t,...n}=r.match(dR)?.groups??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:c,requestId:f,...p}=r.match(hR)?.groups??{},_=r.split("Resources:")[1]?.split(`
- `).slice(1);return{...n,...p,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...c?{notBefore:new Date(c)}:{},...f?{requestId:f}:{},..._?{resources:_}:{},...e?{scheme:e}:{},...t?{statement:t}:{}}}var ca=(()=>{let r,e;async function t(n){let s=ap({origin:n.quickAuthServerOrigin}),{nonce:i}=await s.generateNonce(),o=await ae.signIn({nonce:i,acceptAuthAddress:!0});if(o.result){let c=cp(o.result.message);if(!c.domain)throw new Error("Missing domain on SIWE message");let f=await s.verifySiwf({domain:c.domain,message:o.result.message,signature:o.result.signature});return r={token:f.token,payload:np(f.token)},f}throw o.error.type==="rejected_by_user"?new Yn.RejectedByUser:new Error("Unreachable")}return{get token(){if(r&&new Date(r.payload.exp*1e3)>new Date(Date.now()+15e3))return r.token},async getToken(n={}){let s=n.force??!1;return r&&!s&&new Date(r.payload.exp*1e3)>new Date(Date.now()+15e3)?{token:r.token}:(e||(e=t(n)),e.finally(()=>{e=void 0}),e)},async fetch(n,s){let{token:i}=await this.getToken(),o=new Headers(s?.headers);return o.set("Authorization",`Bearer ${i}`),fetch(n,{...s,headers:o})}}})();function gR(){let r=new Kd;return{get eventNames(){return r.eventNames.bind(r)},get listenerCount(){return r.listenerCount.bind(r)},get listeners(){return r.listeners.bind(r)},addListener:r.addListener.bind(r),emit:r.emit.bind(r),off:r.off.bind(r),on:r.on.bind(r),once:r.once.bind(r),removeAllListeners:r.removeAllListeners.bind(r),removeListener:r.removeListener.bind(r)}}var vt=gR();var{solanaProviderRequest:up}=ae,fp;up&&(fp=Nh(Lh(up)));async function Hu(){let r;try{r=await ae.getCapabilities()}catch{}if(r?.includes("wallet.getSolanaProvider"))return fp}var lp=null;async function yR(r=1e3){if(lp===!0)return!0;if(typeof window>"u"||!window.ReactNativeWebView&&window===window.parent)return!1;let e=await Promise.race([ae.context.then(t=>!!t),new Promise(t=>{setTimeout(()=>t(!1),r)})]).catch(()=>!1);return e&&(lp=!0),e}var dp=async()=>{let r=await ae.addFrame();if(r.result)return r.result;throw r.error.type==="invalid_domain_manifest"?new Ms.InvalidDomainManifest:r.error.type==="rejected_by_user"?new Ms.RejectedByUser:new Error("Unreachable")},hp={...vt,getCapabilities:ae.getCapabilities,getChains:ae.getChains,isInMiniApp:yR,context:ae.context,back:Ch({miniAppHost:ae,emitter:vt}),quickAuth:ca,actions:{setPrimaryButton:ae.setPrimaryButton.bind(ae),ready:async(r={})=>await ae.ready(r),close:ae.close.bind(ae),viewCast:ae.viewCast.bind(ae),viewProfile:ae.viewProfile.bind(ae),openMiniApp:ae.openMiniApp.bind(ae),signIn:async r=>{let e=await ae.signIn(r);if(e.result)return e.result;throw e.error.type==="rejected_by_user"?new Yn.RejectedByUser:new Error("Unreachable")},openUrl:r=>{let e=typeof r=="string"?r:r.url;return ae.openUrl(e.trim())},addFrame:dp,addMiniApp:dp,composeCast(r={}){return ae.composeCast(r)},viewToken:ae.viewToken.bind(ae),sendToken:ae.sendToken.bind(ae),swapToken:ae.swapToken.bind(ae),requestCameraAndMicrophoneAccess:ae.requestCameraAndMicrophoneAccess.bind(ae)},experimental:{getSolanaProvider:Hu,quickAuth(r){return ca.getToken(r)}},wallet:{ethProvider:Ns,getEthereumProvider:Jh,getSolanaProvider:Hu},haptics:{impactOccurred:ae.impactOccurred.bind(ae),notificationOccurred:ae.notificationOccurred.bind(ae),selectionChanged:ae.selectionChanged.bind(ae)}};typeof document<"u"&&document.addEventListener("FarcasterFrameEvent",r=>{if(r instanceof MessageEvent){let e=r.data;e.event==="primary_button_clicked"?vt.emit("primaryButtonClicked"):e.event==="miniapp_added"?vt.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?vt.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?vt.emit("miniAppRemoved"):e.event==="notifications_enabled"?vt.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?vt.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&vt.emit("backNavigationTriggered")}});typeof window<"u"&&window.addEventListener("message",r=>{if(r instanceof MessageEvent&&r.data.type==="frameEvent"){let e=r.data.event;e.event==="primary_button_clicked"?vt.emit("primaryButtonClicked"):e.event==="miniapp_added"?vt.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?vt.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?vt.emit("miniAppRemoved"):e.event==="notifications_enabled"?vt.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?vt.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&vt.emit("backNavigationTriggered")}});var Gu=hp;typeof globalThis<"u"&&(globalThis.sdk=Gu);var PO=Gu;export{PO as default};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/edwards.js:
@noble/curves/esm/ed25519.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

comlink/dist/esm/comlink.mjs:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
